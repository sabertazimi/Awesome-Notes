
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Verilog Basic Notes Â· Awesome Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="sabertazimi">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/sabertazimi/awesome-notes" target="_blank" class="custom-link">Awesome Notes</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Computer Science
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    Algorithms
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../computerScience/algorithms/algorithmsBasicNotes.html">
            
                <a href="../../computerScience/algorithms/algorithmsBasicNotes.html">
            
                    
                    Algorithms Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../computerScience/algorithms/ojBasicNotes.html">
            
                <a href="../../computerScience/algorithms/ojBasicNotes.html">
            
                    
                    Oj Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Architecture
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../computerScience/architecture/archBasicNotes.html">
            
                <a href="../../computerScience/architecture/archBasicNotes.html">
            
                    
                    Arch Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../computerScience/architecture/graphProcessingNotes.html">
            
                <a href="../../computerScience/architecture/graphProcessingNotes.html">
            
                    
                    Graph Processing Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    Compilers
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../computerScience/compilers/compilersBasicNotes.html">
            
                <a href="../../computerScience/compilers/compilersBasicNotes.html">
            
                    
                    Compilers Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    Data Base
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../computerScience/dataBase/databaseBasicNotes.html">
            
                <a href="../../computerScience/dataBase/databaseBasicNotes.html">
            
                    
                    Database Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" >
            
                <span>
            
                    
                    Network
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../computerScience/network/networkBasicNotes.html">
            
                <a href="../../computerScience/network/networkBasicNotes.html">
            
                    
                    Network Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" >
            
                <span>
            
                    
                    Operating Systems
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../computerScience/operatingSystems/CSAPP.html">
            
                <a href="../../computerScience/operatingSystems/CSAPP.html">
            
                    
                    CSAPP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../../computerScience/operatingSystems/memoryManagementBasicNotes.html">
            
                <a href="../../computerScience/operatingSystems/memoryManagementBasicNotes.html">
            
                    
                    Memory Management Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../../computerScience/operatingSystems/operatingSystemsBasicNotes.html">
            
                <a href="../../computerScience/operatingSystems/operatingSystemsBasicNotes.html">
            
                    
                    Operating Systems Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" >
            
                <span>
            
                    
                    Software Testing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../computerScience/softwareTesting/softwareTestingBasicNotes.html">
            
                <a href="../../computerScience/softwareTesting/softwareTestingBasicNotes.html">
            
                    
                    Software Testing Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" >
            
                <span>
            
                    
                    Virtualization
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../../computerScience/virtualization/virtBasicNotes.html">
            
                <a href="../../computerScience/virtualization/virtBasicNotes.html">
            
                    
                    Virt Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../computerScience/latexBasicNotes.html">
            
                <a href="../../computerScience/latexBasicNotes.html">
            
                    
                    Latex Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Language
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Assembly
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../assembly/AssemblyBasic.html">
            
                <a href="../assembly/AssemblyBasic.html">
            
                    
                    Assembly Basic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    C
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="../c/tools/awesomeTools.html">
            
                <a href="../c/tools/awesomeTools.html">
            
                    
                    Awesome Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.2" data-path="../c/tools/gdbTutorial.html">
            
                <a href="../c/tools/gdbTutorial.html">
            
                    
                    Gdb Tutorial
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../c/cBasicNotes.html">
            
                <a href="../c/cBasicNotes.html">
            
                    
                    C Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../c/namingConventions.html">
            
                <a href="../c/namingConventions.html">
            
                    
                    Naming Conventions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../c/standardLibrary.html">
            
                <a href="../c/standardLibrary.html">
            
                    
                    Standard Library
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Cpp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../cpp/cppBasicNotes.html">
            
                <a href="../cpp/cppBasicNotes.html">
            
                    
                    Cpp Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Go
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../go/goBasicNotes.html">
            
                <a href="../go/goBasicNotes.html">
            
                    
                    Go Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" >
            
                <span>
            
                    
                    Haskell
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../haskell/haskellBasicNotes.html">
            
                <a href="../haskell/haskellBasicNotes.html">
            
                    
                    Haskell Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../java/javaBasicNotes.html">
            
                <a href="../java/javaBasicNotes.html">
            
                    
                    Java Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../java/javaNamingConventions.html">
            
                <a href="../java/javaNamingConventions.html">
            
                    
                    Java Naming Conventions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../python/pythonBasicNotes.html">
            
                <a href="../python/pythonBasicNotes.html">
            
                    
                    Python Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" >
            
                <span>
            
                    
                    Verilog
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.8.1" data-path="verilogBasicNotes.html">
            
                <a href="verilogBasicNotes.html">
            
                    
                    Verilog Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../programming/android/androidBasicNotes.html">
            
                <a href="../../programming/android/androidBasicNotes.html">
            
                    
                    Android Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Code Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../programming/codeGuide/bugGuideBasicNotes.html">
            
                <a href="../../programming/codeGuide/bugGuideBasicNotes.html">
            
                    
                    Bug Guide Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../programming/codeGuide/cleanCodeBasicNotes.html">
            
                <a href="../../programming/codeGuide/cleanCodeBasicNotes.html">
            
                    
                    Clean Code Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../programming/codeGuide/codeReviewBasicNotes.html">
            
                <a href="../../programming/codeGuide/codeReviewBasicNotes.html">
            
                    
                    Code Review Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../programming/codeGuide/designPatternsNotes.html">
            
                <a href="../../programming/codeGuide/designPatternsNotes.html">
            
                    
                    Design Patterns Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    Functional Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../../programming/functionalProgramming/functionalProgrammingBasicNotes.html">
            
                <a href="../../programming/functionalProgramming/functionalProgrammingBasicNotes.html">
            
                    
                    Functional Programming Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    Game
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../../programming/game/gameDesignBasicNotes.html">
            
                <a href="../../programming/game/gameDesignBasicNotes.html">
            
                    
                    Game Design Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="../../programming/linux/linuxBasicNotes.html">
            
                <a href="../../programming/linux/linuxBasicNotes.html">
            
                    
                    Linux Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" >
            
                <span>
            
                    
                    Server
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../../programming/server/messageQueueBasicNotes.html">
            
                <a href="../../programming/server/messageQueueBasicNotes.html">
            
                    
                    Message Queue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" >
            
                <span>
            
                    
                    Build Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1.1" data-path="../../programming/tools/buildTools/CmakeBasicNotes.html">
            
                <a href="../../programming/tools/buildTools/CmakeBasicNotes.html">
            
                    
                    Cmake Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.1.2" data-path="../../programming/tools/buildTools/makefileBasicNotes.html">
            
                <a href="../../programming/tools/buildTools/makefileBasicNotes.html">
            
                    
                    Makefile Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.2.1" data-path="../../programming/tools/git/gitBasicNotes.html">
            
                <a href="../../programming/tools/git/gitBasicNotes.html">
            
                    
                    Git Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" >
            
                <span>
            
                    
                    Vim
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.3.1" data-path="../../programming/tools/vim/vimBasicNotes.html">
            
                <a href="../../programming/tools/vim/vimBasicNotes.html">
            
                    
                    Vim Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    Web
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1.1" data-path="../../programming/web/angular/angularBasicNotes.html">
            
                <a href="../../programming/web/angular/angularBasicNotes.html">
            
                    
                    Angular Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" >
            
                <span>
            
                    
                    Css
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.2.1" data-path="../../programming/web/css/bootstrapBasicNotes.html">
            
                <a href="../../programming/web/css/bootstrapBasicNotes.html">
            
                    
                    Bootstrap Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.2" data-path="../../programming/web/css/cssAdvancedNotes.html">
            
                <a href="../../programming/web/css/cssAdvancedNotes.html">
            
                    
                    Css Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.3" data-path="../../programming/web/css/cssBasicNotes.html">
            
                <a href="../../programming/web/css/cssBasicNotes.html">
            
                    
                    Css Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.4" data-path="../../programming/web/css/sassBasicNotes.html">
            
                <a href="../../programming/web/css/sassBasicNotes.html">
            
                    
                    Sass Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.5" data-path="../../programming/web/css/sassOfficalReference.html">
            
                <a href="../../programming/web/css/sassOfficalReference.html">
            
                    
                    Sass Offical Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" >
            
                <span>
            
                    
                    Frameworks
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.3.1" data-path="../../programming/web/frameworks/electronBasicNotes.html">
            
                <a href="../../programming/web/frameworks/electronBasicNotes.html">
            
                    
                    Electron Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3.2" data-path="../../programming/web/frameworks/jQueryBasicNotes.html">
            
                <a href="../../programming/web/frameworks/jQueryBasicNotes.html">
            
                    
                    J Query Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.4" >
            
                <span>
            
                    
                    Html
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.4.1" data-path="../../programming/web/html/htmlBasicNotes.html">
            
                <a href="../../programming/web/html/htmlBasicNotes.html">
            
                    
                    Html Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.5.1" data-path="../../programming/web/javascript/javascriptAdvancedNotes.html">
            
                <a href="../../programming/web/javascript/javascriptAdvancedNotes.html">
            
                    
                    Javascript Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.2" data-path="../../programming/web/javascript/javascriptBasicNotes.html">
            
                <a href="../../programming/web/javascript/javascriptBasicNotes.html">
            
                    
                    Javascript Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.3" data-path="../../programming/web/javascript/typescriptBasicNotes.html">
            
                <a href="../../programming/web/javascript/typescriptBasicNotes.html">
            
                    
                    Typescript Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.6" >
            
                <span>
            
                    
                    Nodejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.6.1" data-path="../../programming/web/nodejs/expressBasicNotes.html">
            
                <a href="../../programming/web/nodejs/expressBasicNotes.html">
            
                    
                    Express Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.2" data-path="../../programming/web/nodejs/graphqlBasicNotes.html">
            
                <a href="../../programming/web/nodejs/graphqlBasicNotes.html">
            
                    
                    Graphql Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.3" data-path="../../programming/web/nodejs/nodejsBasicNotes.html">
            
                <a href="../../programming/web/nodejs/nodejsBasicNotes.html">
            
                    
                    Nodejs Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.7" >
            
                <span>
            
                    
                    Reactjs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.7.1" data-path="../../programming/web/reactjs/reactjsBasicNotes.html">
            
                <a href="../../programming/web/reactjs/reactjsBasicNotes.html">
            
                    
                    Reactjs Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.2" data-path="../../programming/web/reactjs/reactRouterBasicNotes.html">
            
                <a href="../../programming/web/reactjs/reactRouterBasicNotes.html">
            
                    
                    React Router Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.3" data-path="../../programming/web/reactjs/reduxBasicNotes.html">
            
                <a href="../../programming/web/reactjs/reduxBasicNotes.html">
            
                    
                    Redux Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.4" data-path="../../programming/web/reactjs/webpackBasicNotes.html">
            
                <a href="../../programming/web/reactjs/webpackBasicNotes.html">
            
                    
                    Webpack Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.8" >
            
                <span>
            
                    
                    Security
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.8.1" data-path="../../programming/web/security/securityBasicNotes.html">
            
                <a href="../../programming/web/security/securityBasicNotes.html">
            
                    
                    Security Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.9" >
            
                <span>
            
                    
                    Vuejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.9.1" data-path="../../programming/web/vuejs/vueBasicNotes.html">
            
                <a href="../../programming/web/vuejs/vueBasicNotes.html">
            
                    
                    Vue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.10" data-path="../../programming/web/libraryBasicNotes.html">
            
                <a href="../../programming/web/libraryBasicNotes.html">
            
                    
                    Library Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Verilog Basic Notes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#general-flow"><b>1. </b>General Flow</a></li><ul><li><span class="title-icon "></span><a href="#create-project"><b>1.1. </b>Create Project</a></li><li><span class="title-icon "></span><a href="#rtl-analysis"><b>1.2. </b>RTL Analysis</a></li><li><span class="title-icon "></span><a href="#simulate-design"><b>1.3. </b>Simulate Design</a></li><li><span class="title-icon "></span><a href="#synthesize-design"><b>1.4. </b>Synthesize Design</a></li><li><span class="title-icon "></span><a href="#implement-design"><b>1.5. </b>Implement Design</a></li><li><span class="title-icon "></span><a href="#post-implementation-timing-simulate-design"><b>1.6. </b>Post-Implementation Timing Simulate Design</a></li><li><span class="title-icon "></span><a href="#generate-bitstream"><b>1.7. </b>Generate Bitstream</a></li><li><span class="title-icon "></span><a href="#testing-and-verification"><b>1.8. </b>Testing and Verification</a></li></ul><li><span class="title-icon "></span><a href="#timing-in-circuits"><b>2. </b>Timing in Circuits</a></li><ul><li><span class="title-icon "></span><a href="#combinational-circuit-timing"><b>2.1. </b>Combinational Circuit Timing</a></li><li><span class="title-icon "></span><a href="#sequential-circuit-timing"><b>2.2. </b>Sequential Circuit Timing</a></li></ul><li><span class="title-icon "></span><a href="#key-words"><b>3. </b>Key Words</a></li><li><span class="title-icon "></span><a href="#module"><b>4. </b>Module</a></li><ul><li><span class="title-icon "></span><a href="#&#x5916;&#x90E8;&#x7AEF;&#x53E3;"><b>4.1. </b>&#x5916;&#x90E8;&#x7AEF;&#x53E3;</a></li></ul><li><span class="title-icon "></span><a href="#function"><b>5. </b>function</a></li><ul><li><span class="title-icon "></span><a href="#task"><b>5.1. </b>task</a></li></ul><li><span class="title-icon "></span><a href="#variabledata-structure"><b>6. </b>Variable/Data Structure</a></li><ul><li><span class="title-icon "></span><a href="#&#x5E38;&#x91CF;"><b>6.1. </b>&#x5E38;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x5411;&#x91CF;"><b>6.2. </b>&#x5411;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x6570;&#x5B57;"><b>6.3. </b>&#x6570;&#x5B57;</a></li><li><span class="title-icon "></span><a href="#register---regintegertimerealrealtime"><b>6.4. </b>Register - reg/integer/time/real/realtime</a></li><li><span class="title-icon "></span><a href="#net---wirewandwor"><b>6.5. </b>Net - wire/wand/wor</a></li></ul><li><span class="title-icon "></span><a href="#gate-level"><b>7. </b>Gate Level</a></li><ul><li><span class="title-icon "></span><a href="#basic-gate"><b>7.1. </b>Basic Gate</a></li><li><span class="title-icon "></span><a href="#use-gate"><b>7.2. </b>Use Gate</a></li><li><span class="title-icon "></span><a href="#self-defined-gate&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;"><b>7.3. </b>Self-Defined Gate(&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;)</a></li></ul><li><span class="title-icon "></span><a href="#dataflow-level"><b>8. </b>Dataflow Level</a></li><ul><li><span class="title-icon "></span><a href="#operators"><b>8.1. </b>Operators</a></li><li><span class="title-icon "></span><a href="#&#x6574;&#x6570;&#x63D0;&#x5347;"><b>8.2. </b>&#x6574;&#x6570;&#x63D0;&#x5347;</a></li></ul><li><span class="title-icon "></span><a href="#behavior-level"><b>9. </b>Behavior Level</a></li><ul><li><span class="title-icon "></span><a href="#&#x65F6;&#x5EF6;&#x63A7;&#x5236;"><b>9.1. </b>&#x65F6;&#x5EF6;&#x63A7;&#x5236;</a></li><li><span class="title-icon "></span><a href="#&#x4E8B;&#x4EF6;&#x63A7;&#x5236;"><b>9.2. </b>&#x4E8B;&#x4EF6;&#x63A7;&#x5236;</a></li><li><span class="title-icon "></span><a href="#&#x8BED;&#x53E5;&#x5185;&#x95F4;&#x63A7;&#x5236;"><b>9.3. </b>&#x8BED;&#x53E5;&#x5185;/&#x95F4;&#x63A7;&#x5236;</a></li><li><span class="title-icon "></span><a href="#always"><b>9.4. </b>always</a></li><li><span class="title-icon "></span><a href="#if-else"><b>9.5. </b>if-else</a></li><li><span class="title-icon "></span><a href="#casecasexcasez"><b>9.6. </b>case/casex/casez</a></li><li><span class="title-icon "></span><a href="#for"><b>9.7. </b>for</a></li><li><span class="title-icon "></span><a href="#repeat-loop"><b>9.8. </b>repeat loop</a></li><li><span class="title-icon "></span><a href="#forever-loop"><b>9.9. </b>forever loop</a></li><li><span class="title-icon "></span><a href="#forcerelease"><b>9.10. </b>force/release</a></li><li><span class="title-icon "></span><a href="#blockingnon-blocking"><b>9.11. </b>Blocking/Non-Blocking</a></li><li><span class="title-icon "></span><a href="#disable"><b>9.12. </b>disable</a></li></ul><li><span class="title-icon "></span><a href="#&#x7ED3;&#x6784;&#x5EFA;&#x6A21;"><b>10. </b>&#x7ED3;&#x6784;&#x5EFA;&#x6A21;</a></li><ul><li><span class="title-icon "></span><a href="#generate-&#x8BED;&#x53E5;"><b>10.1. </b>generate &#x8BED;&#x53E5;</a></li></ul><li><span class="title-icon "></span><a href="#delay&#x65F6;&#x5EF6;"><b>11. </b>Delay(&#x65F6;&#x5EF6;)</a></li><li><span class="title-icon "></span><a href="#&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;"><b>12. </b>&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#define-&#x5B8F;"><b>12.1. </b>define &#x5B8F;</a></li><li><span class="title-icon "></span><a href="#&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;"><b>12.2. </b>&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;</a></li></ul><li><span class="title-icon "></span><a href="#data-path"><b>13. </b>Data Path</a></li><ul><li><span class="title-icon "></span><a href="#multiplexer"><b>13.1. </b>Multiplexer</a></li><li><span class="title-icon "></span><a href="#adder"><b>13.2. </b>Adder</a></li><li><span class="title-icon "></span><a href="#register"><b>13.3. </b>Register</a></li><li><span class="title-icon "></span><a href="#memory"><b>13.4. </b>Memory</a></li></ul><li><span class="title-icon "></span><a href="#demos"><b>14. </b>Demos</a></li><ul><li><span class="title-icon "></span><a href="#binary-multiplier"><b>14.1. </b>Binary Multiplier</a></li><li><span class="title-icon "></span><a href="#multi-hz"><b>14.2. </b>Multi-Hz</a></li></ul><li><span class="title-icon "></span><a href="#tips"><b>15. </b>Tips</a></li><ul><li><span class="title-icon "></span><a href="#&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;"><b>15.1. </b>&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;</a></li><li><span class="title-icon "></span><a href="#&#x6DF7;&#x5408;&#x7F16;&#x7A0B;"><b>15.2. </b>&#x6DF7;&#x5408;&#x7F16;&#x7A0B;</a></li><li><span class="title-icon "></span><a href="#&#x4E0A;&#x5347;&#x6CBF;&#x4E0B;&#x964D;&#x6CBF;"><b>15.3. </b>&#x4E0A;&#x5347;&#x6CBF;/&#x4E0B;&#x964D;&#x6CBF;</a></li><li><span class="title-icon "></span><a href="#parameter"><b>15.4. </b>Parameter</a></li></ul><li><span class="title-icon "></span><a href="#&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;fsm"><b>16. </b>&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;(FSM)</a></li><li><span class="title-icon "></span><a href="#&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;asm"><b>17. </b>&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;(ASM)</a></li><li><span class="title-icon "></span><a href="#systemverilog"><b>18. </b>SystemVerilog</a></li><ul><li><span class="title-icon "></span><a href="#enum"><b>18.1. </b>Enum</a></li><li><span class="title-icon "></span><a href="#struct-and-union"><b>18.2. </b>Struct and Union</a></li><li><span class="title-icon "></span><a href="#procedural-block"><b>18.3. </b>Procedural Block</a></li><li><span class="title-icon "></span><a href="#interface"><b>18.4. </b>Interface</a></li><li><span class="title-icon "></span><a href="#testing"><b>18.5. </b>Testing</a></li></ul><li><span class="title-icon "></span><a href="#u280-platform"><b>19. </b>U280 Platform</a></li><ul><li><span class="title-icon "></span><a href="#host-application"><b>19.1. </b>Host Application</a></li><li><span class="title-icon "></span><a href="#u280-tools"><b>19.2. </b>U280 Tools</a></li></ul><li><span class="title-icon "></span><a href="#axi-protocol"><b>20. </b>AXI Protocol</a></li><ul><li><span class="title-icon "></span><a href="#axi-channels"><b>20.1. </b>AXI Channels</a></li><li><span class="title-icon "></span><a href="#axi-burst"><b>20.2. </b>AXI Burst</a></li></ul><li><span class="title-icon "></span><a href="#verilog-components"><b>21. </b>Verilog Components</a></li><ul><li><span class="title-icon "></span><a href="#clock-unit"><b>21.1. </b>Clock Unit</a></li><li><span class="title-icon "></span><a href="#signal-unit"><b>21.2. </b>Signal Unit</a></li><li><span class="title-icon "></span><a href="#alu-unit"><b>21.3. </b>ALU Unit</a></li><li><span class="title-icon "></span><a href="#memory-unit"><b>21.4. </b>Memory Unit</a></li></ul></ul></ul></div><a href="#" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p>&#xFEFF;# Verilog Basic Notes</p>
<!-- TOC -->
<ul>
<li><a href="#verilog-basic-notes">Verilog Basic Notes</a><ul>
<li><a href="#general-flow">General Flow</a><ul>
<li><a href="#create-project">Create Project</a></li>
<li><a href="#rtl-analysis">RTL Analysis</a></li>
<li><a href="#simulate-design">Simulate Design</a></li>
<li><a href="#synthesize-design">Synthesize Design</a></li>
<li><a href="#implement-design">Implement Design</a></li>
<li><a href="#post-implementation-timing-simulate-design">Post-Implementation Timing Simulate Design</a></li>
<li><a href="#generate-bitstream">Generate Bitstream</a></li>
<li><a href="#testing-and-verification">Testing and Verification</a></li>
</ul>
</li>
<li><a href="#timing-in-circuits">Timing in Circuits</a><ul>
<li><a href="#combinational-circuit-timing">Combinational Circuit Timing</a></li>
<li><a href="#sequential-circuit-timing">Sequential Circuit Timing</a></li>
</ul>
</li>
<li><a href="#key-words">Key Words</a></li>
<li><a href="#module">Module</a><ul>
<li><a href="#&#x5916;&#x90E8;&#x7AEF;&#x53E3;">&#x5916;&#x90E8;&#x7AEF;&#x53E3;</a></li>
</ul>
</li>
<li><a href="#function">function</a><ul>
<li><a href="#task">task</a></li>
</ul>
</li>
<li><a href="#variabledata-structure">Variable/Data Structure</a><ul>
<li><a href="#&#x5E38;&#x91CF;">&#x5E38;&#x91CF;</a></li>
<li><a href="#&#x5411;&#x91CF;">&#x5411;&#x91CF;</a><ul>
<li><a href="#&#x90E8;&#x5206;&#x4F4D;&#x9009;">&#x90E8;&#x5206;&#x4F4D;&#x9009;</a></li>
</ul>
</li>
<li><a href="#&#x6570;&#x5B57;">&#x6570;&#x5B57;</a><ul>
<li><a href="#&#x6709;&#x7B26;&#x53F7;&#x6570;">&#x6709;&#x7B26;&#x53F7;&#x6570;</a></li>
<li><a href="#&#x65E0;&#x7B26;&#x53F7;&#x6570;">&#x65E0;&#x7B26;&#x53F7;&#x6570;</a></li>
</ul>
</li>
<li><a href="#register---regintegertimerealrealtime">Register - reg/integer/time/real/realtime</a><ul>
<li><a href="#integer">integer</a></li>
<li><a href="#real">real</a></li>
</ul>
</li>
<li><a href="#net---wirewandwor">Net - wire/wand/wor</a></li>
</ul>
</li>
<li><a href="#gate-level">Gate Level</a><ul>
<li><a href="#basic-gate">Basic Gate</a></li>
<li><a href="#use-gate">Use Gate</a></li>
<li><a href="#self-defined-gate&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;">Self-Defined Gate(&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;)</a></li>
</ul>
</li>
<li><a href="#dataflow-level">Dataflow Level</a><ul>
<li><a href="#operators">Operators</a></li>
<li><a href="#&#x6574;&#x6570;&#x63D0;&#x5347;">&#x6574;&#x6570;&#x63D0;&#x5347;</a><ul>
<li><a href="#-">{ }</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#behavior-level">Behavior Level</a><ul>
<li><a href="#&#x65F6;&#x5EF6;&#x63A7;&#x5236;">&#x65F6;&#x5EF6;&#x63A7;&#x5236;</a></li>
<li><a href="#&#x4E8B;&#x4EF6;&#x63A7;&#x5236;">&#x4E8B;&#x4EF6;&#x63A7;&#x5236;</a></li>
<li><a href="#&#x8BED;&#x53E5;&#x5185;&#x95F4;&#x63A7;&#x5236;">&#x8BED;&#x53E5;&#x5185;/&#x95F4;&#x63A7;&#x5236;</a></li>
<li><a href="#always">always</a></li>
<li><a href="#if-else">if-else</a></li>
<li><a href="#casecasexcasez">case/casex/casez</a></li>
<li><a href="#for">for</a></li>
<li><a href="#repeat-loop">repeat loop</a></li>
<li><a href="#forever-loop">forever loop</a></li>
<li><a href="#forcerelease">force/release</a></li>
<li><a href="#blockingnon-blocking">Blocking/Non-Blocking</a></li>
<li><a href="#disable">disable</a></li>
</ul>
</li>
<li><a href="#&#x7ED3;&#x6784;&#x5EFA;&#x6A21;">&#x7ED3;&#x6784;&#x5EFA;&#x6A21;</a><ul>
<li><a href="#generate-&#x8BED;&#x53E5;">generate &#x8BED;&#x53E5;</a></li>
</ul>
</li>
<li><a href="#delay&#x65F6;&#x5EF6;">Delay(&#x65F6;&#x5EF6;)</a></li>
<li><a href="#&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;">&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;</a><ul>
<li><a href="#define-&#x5B8F;">define &#x5B8F;</a></li>
<li><a href="#&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;">&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;</a></li>
</ul>
</li>
<li><a href="#data-path">Data Path</a><ul>
<li><a href="#multiplexer">Multiplexer</a></li>
<li><a href="#adder">Adder</a></li>
<li><a href="#register">Register</a></li>
<li><a href="#memory">Memory</a></li>
</ul>
</li>
<li><a href="#demos">Demos</a><ul>
<li><a href="#binary-multiplier">Binary Multiplier</a></li>
<li><a href="#multi-hz">Multi-Hz</a></li>
</ul>
</li>
<li><a href="#tips">Tips</a><ul>
<li><a href="#&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;">&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;</a></li>
<li><a href="#&#x6DF7;&#x5408;&#x7F16;&#x7A0B;">&#x6DF7;&#x5408;&#x7F16;&#x7A0B;</a></li>
<li><a href="#&#x4E0A;&#x5347;&#x6CBF;&#x4E0B;&#x964D;&#x6CBF;">&#x4E0A;&#x5347;&#x6CBF;/&#x4E0B;&#x964D;&#x6CBF;</a></li>
<li><a href="#parameter">Parameter</a><ul>
<li><a href="#overload-method">Overload Method</a></li>
<li><a href="#constant-variable">Constant Variable</a></li>
<li><a href="#test-bench">Test Bench</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;fsm">&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;(FSM)</a></li>
<li><a href="#&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;asm">&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;(ASM)</a></li>
<li><a href="#systemverilog">SystemVerilog</a><ul>
<li><a href="#enum">Enum</a></li>
<li><a href="#struct-and-union">Struct and Union</a></li>
<li><a href="#procedural-block">Procedural Block</a></li>
<li><a href="#interface">Interface</a></li>
<li><a href="#testing">Testing</a></li>
</ul>
</li>
<li><a href="#u280-platform">U280 Platform</a><ul>
<li><a href="#host-application">Host Application</a><ul>
<li><a href="#basic-flow">Basic Flow</a></li>
<li><a href="#tlp">TLP</a></li>
</ul>
</li>
<li><a href="#u280-tools">U280 Tools</a><ul>
<li><a href="#gdb-based-debugging">GDB Based Debugging</a></li>
<li><a href="#xclbinutil">xclbinutil</a></li>
<li><a href="#xocc-xp-flag">xocc xp flag</a></li>
<li><a href="#xbutil">xbutil</a></li>
<li><a href="#dmesg">dmesg</a></li>
<li><a href="#ila-trigger">ILA Trigger</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#axi-protocol">AXI Protocol</a><ul>
<li><a href="#axi-channels">AXI Channels</a><ul>
<li><a href="#read-address-channel">Read Address Channel</a></li>
<li><a href="#read-data-channel">Read Data Channel</a></li>
<li><a href="#write-address-channel">Write Address Channel</a></li>
<li><a href="#write-data-channel">Write Data Channel</a></li>
<li><a href="#write-response-channel">Write Response Channel</a></li>
</ul>
</li>
<li><a href="#axi-burst">AXI Burst</a><ul>
<li><a href="#read-burst">Read Burst</a></li>
<li><a href="#write-burst">Write Burst</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#verilog-components">Verilog Components</a><ul>
<li><a href="#clock-unit">Clock Unit</a></li>
<li><a href="#signal-unit">Signal Unit</a></li>
<li><a href="#alu-unit">ALU Unit</a></li>
<li><a href="#memory-unit">Memory Unit</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="general-flow"><a name="general-flow" class="anchor-navigation-ex-anchor" href="#general-flow"><i class="fa fa-link" aria-hidden="true"></i></a>1. General Flow</h2>
<h3 id="create-project"><a name="create-project" class="anchor-navigation-ex-anchor" href="#create-project"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Create Project</h3>
<ul>
<li><code>.v</code> (sources)</li>
<li><code>.xdc</code> (constraints)</li>
</ul>
<h3 id="rtl-analysis"><a name="rtl-analysis" class="anchor-navigation-ex-anchor" href="#rtl-analysis"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. RTL Analysis</h3>
<p>Schematic</p>
<h3 id="simulate-design"><a name="simulate-design" class="anchor-navigation-ex-anchor" href="#simulate-design"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Simulate Design</h3>
<ul>
<li><code>_tb.v</code>: test bench</li>
<li>simulation options: 500ns</li>
<li>Scopes -&gt; dut -&gt; swt/led</li>
<li>Schematic</li>
</ul>
<h3 id="synthesize-design"><a name="synthesize-design" class="anchor-navigation-ex-anchor" href="#synthesize-design"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Synthesize Design</h3>
<p>Schematic</p>
<h3 id="implement-design"><a name="implement-design" class="anchor-navigation-ex-anchor" href="#implement-design"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Implement Design</h3>
<p>Schematic</p>
<h3 id="post-implementation-timing-simulate-design"><a name="post-implementation-timing-simulate-design" class="anchor-navigation-ex-anchor" href="#post-implementation-timing-simulate-design"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. Post-Implementation Timing Simulate Design</h3>
<h3 id="generate-bitstream"><a name="generate-bitstream" class="anchor-navigation-ex-anchor" href="#generate-bitstream"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. Generate Bitstream</h3>
<h3 id="testing-and-verification"><a name="testing-and-verification" class="anchor-navigation-ex-anchor" href="#testing-and-verification"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. Testing and Verification</h3>
<p>low-level (circuit) simulation is much slower than high-level (C, HDL) simulation:</p>
<ul>
<li>check only functionality at high level (C, HDL)</li>
<li>check only timing, power at low level (circuit)</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> <span class="token function">testbench</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">reg</span>         clk<span class="token punctuation">,</span> reset<span class="token punctuation">;</span>           <span class="token comment">// clock and reset are internal</span>
  <span class="token keyword">reg</span>         a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> yexpected<span class="token punctuation">;</span>   <span class="token comment">// values from testvectors</span>
  <span class="token keyword">wire</span>        y<span class="token punctuation">;</span>                    <span class="token comment">// output of circuit</span>
  <span class="token keyword">reg</span>  <span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> vectornum<span class="token punctuation">,</span> errors<span class="token punctuation">;</span>    <span class="token comment">// bookkeeping variables</span>
  <span class="token keyword">reg</span>  <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span>  testvectors<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// array of testvectors</span>

  <span class="token comment">// instantiate device under test</span>
  sillyfunction <span class="token function">dut</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token function">c</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// generate clock</span>
  <span class="token important">always </span>    <span class="token comment">// no sensitivity list, so it always executes</span>
    <span class="token keyword">begin</span>
      clk <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">#5</span><span class="token punctuation">;</span> clk <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">#5</span><span class="token punctuation">;</span>     <span class="token comment">// 10ns period</span>
    <span class="token keyword">end</span>

  <span class="token comment">// at start of test, load vectors and pulse reset</span>
  <span class="token keyword">initial</span>   <span class="token comment">// Only executes once</span>
  <span class="token keyword">begin</span>
    <span class="token property">$readmemb</span><span class="token punctuation">(</span><span class="token string">&quot;example.tv&quot;</span><span class="token punctuation">,</span> testvectors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Read vectors: e.g 000_0 001_1 ... xxx_x</span>
    vectornum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> errors <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment">// Initialize</span>
    reset <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">#27</span><span class="token punctuation">;</span> reset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment">// Apply reset wait</span>
  <span class="token keyword">end</span>

  <span class="token comment">// Note: $readmemh reads testvector files written in</span>
  <span class="token comment">// hexadecimal</span>
  <span class="token comment">// apply test vectors on rising edge of clk</span>
  <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span>
  <span class="token keyword">begin</span>
    <span class="token number">#1</span><span class="token punctuation">;</span> <span class="token operator">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> yexpected<span class="token operator">}</span> <span class="token operator">=</span> testvectors<span class="token punctuation">[</span>vectornum<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">end</span>

  <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">negedge</span> clk<span class="token punctuation">)</span>
  <span class="token keyword">begin</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">~</span>reset<span class="token punctuation">)</span> <span class="token comment">// don&#x2019;t test during reset</span>
    <span class="token keyword">begin</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">!==</span> yexpected<span class="token punctuation">)</span>
      <span class="token keyword">begin</span>
        <span class="token property">$display</span><span class="token punctuation">(</span><span class="token string">&quot;Error: inputs = %b&quot;</span><span class="token punctuation">,</span> <span class="token operator">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token operator">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">$display</span><span class="token punctuation">(</span><span class="token string">&quot;  outputs = %b (%b exp)&quot;</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>yexpected<span class="token punctuation">)</span><span class="token punctuation">;</span>
        errors <span class="token operator">=</span> errors <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">end</span>

      <span class="token comment">// increment array index and read next testvector</span>
      vectornum <span class="token operator">=</span> vectornum <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>testvectors<span class="token punctuation">[</span>vectornum<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">4&apos;bx</span><span class="token punctuation">)</span>
      <span class="token keyword">begin</span>
        <span class="token property">$display</span><span class="token punctuation">(</span><span class="token string">&quot;%d tests completed with %d errors&quot;</span><span class="token punctuation">,</span> vectornum<span class="token punctuation">,</span> errors<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">$finish</span><span class="token punctuation">;</span>                 <span class="token comment">// End simulation</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>
<span class="token keyword">endmodule</span>
</code></pre>
<h2 id="timing-in-circuits"><a name="timing-in-circuits" class="anchor-navigation-ex-anchor" href="#timing-in-circuits"><i class="fa fa-link" aria-hidden="true"></i></a>2. Timing in Circuits</h2>
<h3 id="combinational-circuit-timing"><a name="combinational-circuit-timing" class="anchor-navigation-ex-anchor" href="#combinational-circuit-timing"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. Combinational Circuit Timing</h3>
<ul>
<li>contamination delay (<code>t_cd</code>): minimum path in circuits, outputs start to change</li>
<li>propagation delay (<code>t_pd</code>): maximum path in circuits, outputs complete change</li>
<li>(delay) heavy dependence on <strong>voltage</strong> and <strong>temperature</strong></li>
</ul>
<h3 id="sequential-circuit-timing"><a name="sequential-circuit-timing" class="anchor-navigation-ex-anchor" href="#sequential-circuit-timing"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. Sequential Circuit Timing</h3>
<p>minimize clock skew time:
requires intelligent <strong>clock network</strong> across a chip,
making clock arrives at all locations at roughly the same time.</p>
<pre class="language-"><code class="lang-verilog">T_clock <span class="token operator">&gt;=</span> T_pcq <span class="token operator">+</span> T_pd <span class="token operator">+</span> <span class="token punctuation">(</span>T_setup <span class="token operator">+</span> T_skew<span class="token punctuation">)</span>
T_ccq <span class="token operator">+</span> T_cd <span class="token operator">&gt;</span> <span class="token punctuation">(</span>T_hold <span class="token operator">+</span> T_skew<span class="token punctuation">)</span>
</code></pre>
<h2 id="key-words"><a name="key-words" class="anchor-navigation-ex-anchor" href="#key-words"><i class="fa fa-link" aria-hidden="true"></i></a>3. Key Words</h2>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span>
<span class="token keyword">input</span><span class="token punctuation">,</span> <span class="token keyword">output</span><span class="token punctuation">,</span> <span class="token keyword">inout</span>
<span class="token keyword">wire</span><span class="token punctuation">,</span> <span class="token keyword">reg</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span>
<span class="token important">always@</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">assign</span>
<span class="token keyword">posedge</span><span class="token punctuation">,</span> <span class="token keyword">negedge</span>
<span class="token keyword">if</span><span class="token operator">-</span><span class="token keyword">else</span><span class="token punctuation">,</span> <span class="token keyword">case</span><span class="token punctuation">,</span> <span class="token keyword">begin</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">end</span>
</code></pre>
<pre class="language-"><code class="lang-verilog">port<span class="token punctuation">,</span> signal
</code></pre>
<h2 id="module"><a name="module" class="anchor-navigation-ex-anchor" href="#module"><i class="fa fa-link" aria-hidden="true"></i></a>4. Module</h2>
<ul>
<li>Inout(Net) -&gt; (Net)Module(Net) -&gt; Inout(Net)</li>
<li>Input(Net/Register) -&gt; (Net)Module(Net/Register) -&gt; Output(Net)</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> <span class="token function">moduleName</span><span class="token punctuation">(</span> In1<span class="token punctuation">,</span> In2<span class="token punctuation">,</span> Out1<span class="token punctuation">,</span> Out2<span class="token punctuation">,</span> InOut1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x8F93;&#x5165;&#x8F93;&#x51FA;&#x5B9A;&#x4E49;: &#x8BF4;&#x660E;&#x7AEF;&#x53E3;&#x662F;&#x8F93;&#x5165;&#x8FD8;&#x662F;&#x8F93;&#x51FA;</span>
    <span class="token keyword">input</span> In1<span class="token punctuation">,</span> In2<span class="token punctuation">;</span>
    <span class="token keyword">output</span> Out1<span class="token punctuation">,</span> Out2<span class="token punctuation">;</span>
    <span class="token keyword">inout</span> InOut1<span class="token punctuation">;</span>

    <span class="token comment">// &#x6570;&#x636E;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;: &#x8BF4;&#x660E;&#x7AEF;&#x53E3;&#x6570;&#x636E;&#x7C7B;&#x578B; - Net/Register</span>
    <span class="token keyword">wire</span> In1<span class="token punctuation">,</span> In2<span class="token punctuation">,</span> Out1<span class="token punctuation">;</span>
    <span class="token keyword">wire</span> InOut1<span class="token punctuation">;</span>
    <span class="token keyword">reg</span> Out2<span class="token punctuation">;</span>
    <span class="token comment">// Instantiation of lower level modules</span>
    Design <span class="token function">u_2</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">(</span>&#x7AEF;&#x53E3;<span class="token punctuation">(</span>&#x4FE1;&#x53F7;<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">(</span>&#x7AEF;&#x53E3;<span class="token function">2</span><span class="token punctuation">(</span>&#x4FE1;&#x53F7;<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">(</span>&#x7AEF;&#x53E3;<span class="token function">3</span><span class="token punctuation">(</span>&#x4FE1;&#x53F7;<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Functionality</span>

    <span class="token comment">// &#x4E09;&#x79CD;&#x5C42;&#x6B21;&#x7684;&#x63CF;&#x8FF0;: &#x903B;&#x8F91;&#x5C42;&#x6B21;(Gate Level), &#x6570;&#x636E;&#x6D41;&#x5C42;&#x6B21;(Dataflow Level), &#x884C;&#x4E3A;&#x5C42;&#x6B21;(Behavior Level)</span>
    <span class="token comment">// and/or - gate level</span>
    <span class="token keyword">and</span> <span class="token function">and1</span><span class="token punctuation">(</span> Out1<span class="token punctuation">,</span> In1<span class="token punctuation">,</span> In2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// assign - dataflow level</span>
    <span class="token keyword">assign</span> <span class="token number">#2</span> Out1 <span class="token operator">=</span> In1 <span class="token operator">&amp;</span> In2<span class="token punctuation">;</span>
    <span class="token comment">// always/initial - behavior level</span>
    allways @<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
        <span class="token keyword">begin</span>
            Out2 <span class="token operator">=</span> In1 <span class="token operator">&amp;</span> In2
        <span class="token keyword">end</span>

    <span class="token comment">// Timing specification</span>

<span class="token keyword">endmodule</span>
</code></pre>
<h3 id="&#x5916;&#x90E8;&#x7AEF;&#x53E3;"><a name="&#x5916;&#x90E8;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x5916;&#x90E8;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. &#x5916;&#x90E8;&#x7AEF;&#x53E3;</h3>
<ul>
<li>&#x5C01;&#x88C5;&#x5185;&#x90E8;&#x7AEF;&#x53E3;,&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;</li>
<li>&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x7AEF;&#x53E3;&#x53EF;&#x4E0E;&#x591A;&#x4E2A;&#x5916;&#x90E8;&#x7AEF;&#x53E3;&#x76F8;&#x8FDE;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> scram_b <span class="token punctuation">(</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>arb<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token function">control</span><span class="token punctuation">(</span>ctrl<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token function">mem_word</span><span class="token punctuation">(</span>mem_blk<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token function">addr</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> arb<span class="token punctuation">;</span>
    <span class="token keyword">input</span> ctrl<span class="token punctuation">;</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> mem_blk<span class="token punctuation">;</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">byte</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span>
</code></pre>
<h2 id="function"><a name="function" class="anchor-navigation-ex-anchor" href="#function"><i class="fa fa-link" aria-hidden="true"></i></a>5. function</h2>
<ul>
<li>&#x4E0D;&#x542B;&#x65F6;&#x95F4;/&#x4E8B;&#x4EF6;&#x63A7;&#x5236;</li>
<li>&#x81F3;&#x5C11; 1 &#x4E2A;&#x8F93;&#x5165;</li>
<li>&#x81F3;&#x591A; 1 &#x4E2A;&#x8F93;&#x51FA;</li>
<li>&#x53EA;&#x542B;&#x884C;&#x4E3A;&#x6A21;&#x5757;</li>
<li>&#x53EA;&#x542B;&#x963B;&#x585E;&#x8D4B;&#x503C;&#x8BED;&#x53E5;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">function</span>  <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>  aligned_word<span class="token punctuation">;</span>    <span class="token comment">// function declaration</span>
    <span class="token keyword">input</span>  <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>  word<span class="token punctuation">;</span>
    <span class="token keyword">begin</span>
      aligned_word <span class="token operator">=</span> word<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>aligned_word <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>aligned_word<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> aligned_word <span class="token operator">=</span> aligned_word <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
  <span class="token keyword">endfunction</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> arithmetic_unit <span class="token punctuation">(</span>result_1<span class="token punctuation">,</span> result_2<span class="token punctuation">,</span> operand_1<span class="token punctuation">,</span> operand_2<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">output</span>   <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> result_1<span class="token punctuation">;</span>
  <span class="token keyword">output</span>  <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> result_2<span class="token punctuation">;</span>
  <span class="token keyword">input</span>   <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> operand_1<span class="token punctuation">,</span> operand_2<span class="token punctuation">;</span>
  <span class="token keyword">assign</span> result_1 <span class="token operator">=</span> sum_of_operands <span class="token punctuation">(</span>operand_1<span class="token punctuation">,</span> operand_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">assign</span> result_2 <span class="token operator">=</span> larger_operand <span class="token punctuation">(</span>operand_1<span class="token punctuation">,</span> operand_2<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token function">sum_of_operands</span><span class="token punctuation">(</span><span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> operand_1<span class="token punctuation">,</span> operand_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sum_of_operands <span class="token operator">=</span> operand_1 <span class="token operator">+</span> operand_2<span class="token punctuation">;</span>
  <span class="token keyword">endfunction</span>

  <span class="token keyword">function</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token function">larger_operand</span><span class="token punctuation">(</span><span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> operand_1<span class="token punctuation">,</span> operand_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    larger_operand <span class="token operator">=</span> <span class="token punctuation">(</span>operand_1 <span class="token operator">&gt;=</span> operand_2<span class="token punctuation">)</span> <span class="token operator">?</span> operand_1 <span class="token punctuation">:</span> operand_2<span class="token punctuation">;</span>
  <span class="token keyword">endfunction</span>
<span class="token keyword">endmodule</span>
</code></pre>
<h3 id="task"><a name="task" class="anchor-navigation-ex-anchor" href="#task"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. task</h3>
<p>&#x5C06;&#x6D4B;&#x8BD5;&#x6D41;&#x7A0B;&#x5206;&#x4E3A;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;:</p>
<ul>
<li>&#x521D;&#x59CB;&#x5316;&#x4EFB;&#x52A1;</li>
<li>&#x6A21;&#x62DF;&#x751F;&#x6210;&#x4EFB;&#x52A1;</li>
<li>&#x81EA;&#x6211;&#x68C0;&#x67E5;&#x4EFB;&#x52A1;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> adder_task <span class="token punctuation">(</span>c_out<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> clk<span class="token punctuation">,</span> reset<span class="token punctuation">,</span> c_in<span class="token punctuation">,</span> data_a<span class="token punctuation">,</span> data_b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>  sum<span class="token punctuation">;</span>
  <span class="token keyword">output</span> <span class="token keyword">reg</span>  c_out<span class="token punctuation">;</span>
  <span class="token keyword">input</span>  <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>  data_a<span class="token punctuation">,</span> data_b<span class="token punctuation">;</span>
  <span class="token keyword">input</span>   clk<span class="token punctuation">,</span> reset<span class="token punctuation">,</span> c_in<span class="token punctuation">;</span>

  <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk <span class="token keyword">or</span> <span class="token keyword">posedge</span> reset<span class="token punctuation">)</span> <span class="token keyword">begin</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reset<span class="token punctuation">)</span> <span class="token operator">{</span>c_out<span class="token punctuation">,</span> sum<span class="token operator">}</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> add_values <span class="token punctuation">(</span>sum<span class="token punctuation">,</span> c_out<span class="token punctuation">,</span> data_a<span class="token punctuation">,</span> data_b<span class="token punctuation">,</span> c_in<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// invoke task</span>
  <span class="token keyword">end</span>
  <span class="token keyword">task</span> add_values<span class="token punctuation">;</span> <span class="token comment">// task declaration</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>  SUM<span class="token punctuation">;</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span>  C_OUT<span class="token punctuation">;</span>
    <span class="token keyword">input</span>  <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>  DATA_A<span class="token punctuation">,</span> DATA_B<span class="token punctuation">;</span>
    <span class="token keyword">input</span>   C_IN<span class="token punctuation">;</span>
            <span class="token operator">{</span>C_OUT<span class="token punctuation">,</span> SUM<span class="token operator">}</span> <span class="token operator">=</span> DATA_A <span class="token operator">+</span> <span class="token punctuation">(</span>DATA_B <span class="token operator">+</span> C_IN<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">endtask</span>
<span class="token keyword">endmodule</span>
</code></pre>
<p>&#x5E38;&#x7528;&#x7684; task &#x6709;: $display(&quot;fmt&quot;, ...), $monitor(&quot;fmt&quot;, ...), $time, $finish</p>
<h2 id="variabledata-structure"><a name="variabledata-structure" class="anchor-navigation-ex-anchor" href="#variabledata-structure"><i class="fa fa-link" aria-hidden="true"></i></a>6. Variable/Data Structure</h2>
<h3 id="&#x5E38;&#x91CF;"><a name="&#x5E38;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>6.1. &#x5E38;&#x91CF;</h3>
<ul>
<li>0: &#x903B;&#x8F91; 0</li>
<li>1: &#x903B;&#x8F91; 1</li>
<li>x/X: Unknow/Floating</li>
<li>z/Z: &#x9AD8;&#x963B;&#x6297;&#x72B6;&#x6001;(High Impendence)</li>
<li>parameter: #define</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">localparam</span> idle <span class="token operator">=</span> <span class="token number">2&apos;b00</span><span class="token punctuation">;</span>
<span class="token keyword">parameter</span> Bit <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> cnt_up <span class="token operator">=</span> <span class="token number">1&apos;b1</span><span class="token punctuation">;</span>

<span class="token keyword">output</span> <span class="token punctuation">[</span>Bit <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> A<span class="token punctuation">;</span>
<span class="token keyword">reg</span> <span class="token punctuation">[</span>Bit <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> A<span class="token punctuation">;</span>

A <span class="token operator">=</span> A <span class="token operator">+</span> cnt_up<span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x5411;&#x91CF;"><a name="&#x5411;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5411;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>6.2. &#x5411;&#x91CF;</h3>
<pre class="language-"><code class="lang-verilog"><span class="token punctuation">[</span>MSB<span class="token punctuation">:</span> LSB<span class="token punctuation">]</span> &#x6216; <span class="token punctuation">[</span>LSB<span class="token punctuation">:</span> MSB<span class="token punctuation">]</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> A<span class="token punctuation">;</span>    <span class="token comment">// 4 bit</span>
<span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> B<span class="token punctuation">,</span> C<span class="token punctuation">;</span>    <span class="token comment">// 4 bit</span>
<span class="token keyword">wire</span> <span class="token punctuation">[</span><span class="token number">63</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> D<span class="token punctuation">;</span>    <span class="token comment">// 64 bit</span>
<span class="token keyword">wire</span> E<span class="token punctuation">;</span>               <span class="token comment">// 1 bit</span>

A<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> C<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// A[2] = 0 &amp; C[1], A[1] = B[0] &amp; C[2]</span>
B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
C <span class="token operator">=</span> <span class="token number">4&apos;b1011</span><span class="token punctuation">;</span>                   <span class="token comment">// C[0] = 1, C[1] = 0, C[2] = 1, C[3] = 1</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">integer</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> A <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 4&#x5143;&#x7D20;&#x6570;&#x7EC4;. &#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E3A;16bit&#x5143;</span>
<span class="token keyword">reg</span> B <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">// arr[4][16]&#x6570;&#x7EC4;, &#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E3A;1bit&#x5143;</span>
<span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> C <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// arr[4][16]&#x6570;&#x7EC4;, &#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E3A;8bit&#x5143;</span>

A<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                     <span class="token comment">// &#x7F6E;&#x96F6;A&#x4E2D;&#x7B2C;&#x4E09;&#x4E2A;&#x5143;&#x7D20;(8 bit)</span>
A <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                        <span class="token comment">// &#x7F6E;&#x96F6;A</span>
B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                  <span class="token comment">// B[1][0](1 bit)&#x7F6E;1</span>
C<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4&apos;b0010</span><span class="token punctuation">;</span>      <span class="token comment">// C[0][0] &#x4F4E;4bit&#x4E3A;0010</span>
C<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>               <span class="token comment">// C[2][8] &#x7B2C;5bit&#x4E3A;1</span>
</code></pre>
<h4 id="&#x90E8;&#x5206;&#x4F4D;&#x9009;"><a name="&#x90E8;&#x5206;&#x4F4D;&#x9009;" class="anchor-navigation-ex-anchor" href="#&#x90E8;&#x5206;&#x4F4D;&#x9009;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x90E8;&#x5206;&#x4F4D;&#x9009;" class="plugin-anchor" href="#&#x90E8;&#x5206;&#x4F4D;&#x9009;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x90E8;&#x5206;&#x4F4D;&#x9009;</h4>
<pre class="language-"><code class="lang-verilog">vector<span class="token punctuation">[</span>base_expr<span class="token operator">+</span><span class="token punctuation">:</span> const_width<span class="token punctuation">]</span><span class="token punctuation">;</span>
vector<span class="token punctuation">[</span>base_expr<span class="token operator">-</span><span class="token punctuation">:</span> const_width<span class="token punctuation">]</span><span class="token punctuation">;</span>

inst_mode<span class="token punctuation">[</span>mark<span class="token operator">+</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; mark,mark+1</span>
gpio_mode<span class="token punctuation">[</span>mark<span class="token operator">-</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; mark,mark-1,mark-2,mark-3</span>
</code></pre>
<h3 id="&#x6570;&#x5B57;"><a name="&#x6570;&#x5B57;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x5B57;"><i class="fa fa-link" aria-hidden="true"></i></a>6.3. &#x6570;&#x5B57;</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">// size &apos; signed base value</span>
<span class="token operator">&lt;</span>Bits&#x957F;&#x5EA6;<span class="token operator">&gt;</span>&apos;<span class="token punctuation">[</span><span class="token keyword">signed</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>&#x8FDB;&#x5236;<span class="token operator">&gt;&lt;</span>&#x6570;&#x503C;<span class="token operator">&gt;</span>
</code></pre>
<ul>
<li>&#x4F4D;&#x957F;&#x4E0D;&#x80FD;&#x7528;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x793A;,&#x53EA;&#x53EF;&#x7528;&#x56FA;&#x5B9A;&#x7684; parameter</li>
</ul>
<pre class="language-"><code class="lang-verilog">Num <span class="token operator">=</span> <span class="token number">5&apos;b01101</span><span class="token punctuation">;</span>               <span class="token comment">// &#x4E8C;&#x8FDB;&#x5236;</span>
Num <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>                     <span class="token comment">// &#x5341;&#x8FDB;&#x5236;</span>
Num <span class="token operator">=</span> <span class="token number">12&apos;b0000_1111_0000</span><span class="token punctuation">;</span>    <span class="token comment">// &#x53EF;&#x8BFB;&#x6027;</span>
Num <span class="token operator">=</span> <span class="token number">4&apos;hf</span><span class="token punctuation">;</span>                  <span class="token comment">// &#x5341;&#x516D;&#x8FDB;&#x5236;(1111)</span>
Num <span class="token operator">=</span> <span class="token number">4&apos;bxxx1</span><span class="token punctuation">;</span>              <span class="token comment">// &#x524D;&#x4E09;&#x4F4D;&#x672A;&#x77E5;</span>
Num <span class="token operator">=</span> <span class="token number">4&apos;bz01</span><span class="token punctuation">;</span>               <span class="token comment">// &#x524D;&#x4E24;&#x4F4D;&#x4E3A;z, &#x540E;&#x4E24;&#x4F4D;&#x4E3A;01</span>
</code></pre>
<h4 id="&#x6709;&#x7B26;&#x53F7;&#x6570;"><a name="&#x6709;&#x7B26;&#x53F7;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x6709;&#x7B26;&#x53F7;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6709;&#x7B26;&#x53F7;&#x6570;" class="plugin-anchor" href="#&#x6709;&#x7B26;&#x53F7;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6709;&#x7B26;&#x53F7;&#x6570;</h4>
<ul>
<li>signed reg</li>
<li>signed wire</li>
<li>integer</li>
<li>&apos;sxx</li>
</ul>
<h4 id="&#x65E0;&#x7B26;&#x53F7;&#x6570;"><a name="&#x65E0;&#x7B26;&#x53F7;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x65E0;&#x7B26;&#x53F7;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x65E0;&#x7B26;&#x53F7;&#x6570;" class="plugin-anchor" href="#&#x65E0;&#x7B26;&#x53F7;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x65E0;&#x7B26;&#x53F7;&#x6570;</h4>
<ul>
<li>reg</li>
<li>wire</li>
<li>&apos;xx</li>
</ul>
<h3 id="register---regintegertimerealrealtime"><a name="register---regintegertimerealrealtime" class="anchor-navigation-ex-anchor" href="#register---regintegertimerealrealtime"><i class="fa fa-link" aria-hidden="true"></i></a>6.4. Register - reg/integer/time/real/realtime</h3>
<ul>
<li>&#x6709;&#x8BB0;&#x5FC6;&#x6027;</li>
<li>&#x9ED8;&#x8BA4;&#x503C;: x</li>
</ul>
<h4 id="integer"><a name="integer" class="anchor-navigation-ex-anchor" href="#integer"><i class="fa fa-link" aria-hidden="true"></i></a><a name="integer" class="plugin-anchor" href="#integer"><i class="fa fa-link" aria-hidden="true"></i></a>integer</h4>
<p>&#x957F;&#x5EA6;&#x4E3A; 32 Bit, &#x8865;&#x7801;&#x8868;&#x793A;, &#x5E38;&#x7528;&#x4E8E;&#x8BA1;&#x6570;&#x5668;</p>
<pre class="language-"><code class="lang-verilog"><span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> CLK<span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token keyword">integer</span> i<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> <span class="token number">7</span><span class="token punctuation">;</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> tmp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> In<span class="token punctuation">;</span>
    <span class="token keyword">end</span>
</code></pre>
<h4 id="real"><a name="real" class="anchor-navigation-ex-anchor" href="#real"><i class="fa fa-link" aria-hidden="true"></i></a><a name="real" class="plugin-anchor" href="#real"><i class="fa fa-link" aria-hidden="true"></i></a>real</h4>
<ul>
<li>real &#x9ED8;&#x8BA4;&#x503C;&#x4E3A; 0,&#x4E0D;&#x53EF;&#x4E3A; x/z</li>
<li>&#x4E0D;&#x53EF;&#x58F0;&#x660E;&#x4F4D;&#x5BBD;</li>
</ul>
<h3 id="net---wirewandwor"><a name="net---wirewandwor" class="anchor-navigation-ex-anchor" href="#net---wirewandwor"><i class="fa fa-link" aria-hidden="true"></i></a>6.5. Net - wire/wand/wor</h3>
<ul>
<li>&#x5C40;&#x90E8;&#x53D8;&#x91CF;, &#x6CA1;&#x6709;&#x8BB0;&#x5FC6;&#x6027;</li>
<li>&#x9ED8;&#x8BA4;&#x503C;: z</li>
<li>wire &#x95F4;&#x4E0D;&#x53EF;&#x76F4;&#x63A5;&#x76F8;&#x8FDE;, wand/wor &#x95F4;&#x8BFE;&#x76F4;&#x63A5;&#x76F8;&#x8FDE;</li>
<li>&#x53EF;&#x7528; wire &#x5B9A;&#x4E49;&#x5C40;&#x90E8;&#x53D8;&#x91CF;</li>
</ul>
<h2 id="gate-level"><a name="gate-level" class="anchor-navigation-ex-anchor" href="#gate-level"><i class="fa fa-link" aria-hidden="true"></i></a>7. Gate Level</h2>
<h3 id="basic-gate"><a name="basic-gate" class="anchor-navigation-ex-anchor" href="#basic-gate"><i class="fa fa-link" aria-hidden="true"></i></a>7.1. Basic Gate</h3>
<ul>
<li>and</li>
<li>nand(&#x4E0E;&#x975E;)</li>
<li>or</li>
<li>nor(&#x6216;&#x975E;)</li>
<li>xor(&#x5F02;&#x6216;)</li>
<li>xnor(&#x540C;&#x6216;)</li>
</ul>
<h3 id="use-gate"><a name="use-gate" class="anchor-navigation-ex-anchor" href="#use-gate"><i class="fa fa-link" aria-hidden="true"></i></a>7.2. Use Gate</h3>
<ul>
<li>&#x540C;&#x4E00;&#x6A21;&#x5757;&#x4E2D;, &#x5B9E;&#x4F8B;&#x540D;&#x4E0D;&#x80FD;&#x4E0E;&#x7EBF;&#x7F51;&#x540D;&#x76F8;&#x540C;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">and</span> <span class="token punctuation">(</span>w1<span class="token punctuation">,</span> In1<span class="token punctuation">,</span> In2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// w1 = Int and In2</span>
<span class="token keyword">or</span> <span class="token function">or1</span><span class="token punctuation">(</span>w2<span class="token punctuation">,</span> w1<span class="token punctuation">,</span> In2<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// w2 = w1 or In2</span>
<span class="token keyword">xor</span> <span class="token function">xor</span><span class="token punctuation">(</span>Out<span class="token punctuation">,</span> w1<span class="token punctuation">,</span> w2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Out = w1 xor w2</span>
</code></pre>
<ul>
<li>&#x5B9E;&#x4F8B;&#x6570;&#x7EC4;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">wire</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> irq<span class="token punctuation">,</span> ctrl<span class="token punctuation">,</span> sense<span class="token punctuation">;</span>

<span class="token comment">/*
 * =&gt;
 * nand
 *      u8nand3 (irq[3], ctrl[3], sense[3]);
 *      u8nand2 (irq[2], ctrl[2], sense[2]);
 *      u8nand1 (irq[1], ctrl[1], sense[1]);
 *      u8nand0 (irq[0], ctrl[0], sense[0]);
 */</span>
<span class="token keyword">nand</span> u8nand <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>irq<span class="token punctuation">,</span> ctrl<span class="token punctuation">,</span> sense<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">parameter</span> NUM_BITS <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">wire</span> <span class="token punctuation">[</span>NUM_BITS <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> gated_d<span class="token punctuation">,</span> din<span class="token punctuation">;</span>
<span class="token keyword">wire</span> bypass<span class="token punctuation">;</span>

<span class="token keyword">and</span> #<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> u0and <span class="token punctuation">[</span>NUM_BITS <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>gated_d<span class="token punctuation">,</span> din<span class="token punctuation">,</span> bypass<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="self-defined-gate&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;"><a name="self-defined-gate&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;" class="anchor-navigation-ex-anchor" href="#self-defined-gate&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;"><i class="fa fa-link" aria-hidden="true"></i></a>7.3. Self-Defined Gate(&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;)</h3>
<ul>
<li>&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;/&#x591A;&#x4E2A;&#x8F93;&#x5165;</li>
<li>&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x8F93;&#x51FA;</li>
<li>&#x7B2C;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x5FC5;&#x987B;&#x662F;&#x8F93;&#x51FA;&#x7AEF;&#x53E3;</li>
<li><code>-</code> &#x8868;&#x793A; &#x503C;&quot;&#x65E0;&#x53D8;&#x5316;&quot;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">primitive</span> XOR2 <span class="token punctuation">(</span>DOUT<span class="token punctuation">,</span> X1<span class="token punctuation">,</span> X2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">input</span> X1<span class="token punctuation">,</span> X2<span class="token punctuation">;</span>
    <span class="token keyword">output</span> DOUT<span class="token punctuation">;</span>

    <span class="token keyword">table</span> <span class="token comment">// X1 X2 : DOUT</span>
        <span class="token number">0</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token number">0</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token number">1</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token number">1</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">endtable</span>
<span class="token keyword">endprimitive</span>
</code></pre>
<h2 id="dataflow-level"><a name="dataflow-level" class="anchor-navigation-ex-anchor" href="#dataflow-level"><i class="fa fa-link" aria-hidden="true"></i></a>8. Dataflow Level</h2>
<ul>
<li>assign net = net/reg: <strong>&#x5DE6;&#x5F0F;&#x53EA;&#x80FD;&#x662F; net</strong></li>
</ul>
<h3 id="operators"><a name="operators" class="anchor-navigation-ex-anchor" href="#operators"><i class="fa fa-link" aria-hidden="true"></i></a>8.1. Operators</h3>
<pre class="language-"><code class="lang-verilog">&#x8D4B;&#x503C;<span class="token punctuation">:</span> <span class="token operator">&lt;=</span><span class="token punctuation">,</span> <span class="token operator">=</span>
<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;=</span><span class="token punctuation">,</span> <span class="token operator">&gt;=</span>
<span class="token operator">!=</span><span class="token punctuation">.</span> <span class="token operator">==</span>
<span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">.</span> <span class="token operator">{</span> <span class="token operator">}</span>
<span class="token operator">&lt;&lt;</span><span class="token punctuation">,</span> <span class="token operator">&gt;&gt;</span>
<span class="token operator">+</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token operator">/</span><span class="token punctuation">,</span> <span class="token operator">%</span>
</code></pre>
<h3 id="&#x6574;&#x6570;&#x63D0;&#x5347;"><a name="&#x6574;&#x6570;&#x63D0;&#x5347;" class="anchor-navigation-ex-anchor" href="#&#x6574;&#x6570;&#x63D0;&#x5347;"><i class="fa fa-link" aria-hidden="true"></i></a>8.2. &#x6574;&#x6570;&#x63D0;&#x5347;</h3>
<ul>
<li>&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x6709;&#x4E2D;&#x95F4;&#x53D6; &#x6700;&#x5927;&#x4F4D;&#x5BBD;(&#x6700;&#x957F;(&#x5DE6;/&#x53F3;)&#x64CD;&#x4F5C;&#x6570;)</li>
</ul>
<h4 id=""><a name="" class="plugin-anchor" href="#"><i class="fa fa-link" aria-hidden="true"></i></a>{ }</h4>
<p>&#x53EF;&#x5B9E;&#x73B0; haskell &#x4E2D;&#x7684;<strong>&#x6A21;&#x5F0F;&#x5339;&#x914D;</strong></p>
<pre class="language-"><code class="lang-verilog"><span class="token comment">// &#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#x7B26;</span>
A <span class="token operator">=</span> <span class="token operator">{</span> <span class="token number">1&apos;b0</span><span class="token punctuation">,</span> <span class="token number">1&apos;b1</span><span class="token operator">}</span><span class="token punctuation">;</span>                <span class="token comment">// A = 2&apos;b01</span>
A <span class="token operator">=</span> <span class="token operator">{</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> C<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> D<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">}</span><span class="token punctuation">;</span>    <span class="token comment">// A = B[1], B[2], C[0], D[2]</span>
A <span class="token operator">=</span> <span class="token operator">{</span> <span class="token number">2</span><span class="token operator">{</span><span class="token number">2&apos;b01</span><span class="token operator">}</span> <span class="token operator">}</span><span class="token punctuation">;</span>                  <span class="token comment">// A = 4&apos;b0101</span>
A <span class="token operator">=</span> <span class="token operator">{</span> <span class="token number">3&apos;b101</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">{</span><span class="token number">1&apos;b0</span><span class="token operator">}</span> <span class="token operator">}</span><span class="token punctuation">;</span>        <span class="token comment">// A = 5&apos;b101_00</span>
</code></pre>
<h2 id="behavior-level"><a name="behavior-level" class="anchor-navigation-ex-anchor" href="#behavior-level"><i class="fa fa-link" aria-hidden="true"></i></a>9. Behavior Level</h2>
<ul>
<li>reg = net/reg: *<em>&#x5DE6;&#x5F0F;&#x53EA;&#x80FD;&#x662F; reg</em></li>
</ul>
<h3 id="&#x65F6;&#x5EF6;&#x63A7;&#x5236;"><a name="&#x65F6;&#x5EF6;&#x63A7;&#x5236;" class="anchor-navigation-ex-anchor" href="#&#x65F6;&#x5EF6;&#x63A7;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a>9.1. &#x65F6;&#x5EF6;&#x63A7;&#x5236;</h3>
<pre class="language-"><code class="lang-verilog">#num

<span class="token keyword">parameter</span> cycle <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

# <span class="token number">2</span>
# cycle<span class="token operator">/</span><span class="token number">2</span>
</code></pre>
<h3 id="&#x4E8B;&#x4EF6;&#x63A7;&#x5236;"><a name="&#x4E8B;&#x4EF6;&#x63A7;&#x5236;" class="anchor-navigation-ex-anchor" href="#&#x4E8B;&#x4EF6;&#x63A7;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a>9.2. &#x4E8B;&#x4EF6;&#x63A7;&#x5236;</h3>
<pre class="language-"><code class="lang-verilog">@<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
@<span class="token punctuation">(</span> sel<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
@<span class="token punctuation">(</span>sel <span class="token keyword">or</span> a <span class="token keyword">or</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
@<span class="token punctuation">(</span><span class="token keyword">posedge</span> CLK<span class="token punctuation">)</span><span class="token punctuation">;</span>
@<span class="token punctuation">(</span><span class="token keyword">negedge</span> CLK<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x8BED;&#x53E5;&#x5185;&#x95F4;&#x63A7;&#x5236;"><a name="&#x8BED;&#x53E5;&#x5185;&#x95F4;&#x63A7;&#x5236;" class="anchor-navigation-ex-anchor" href="#&#x8BED;&#x53E5;&#x5185;&#x95F4;&#x63A7;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a>9.3. &#x8BED;&#x53E5;&#x5185;/&#x95F4;&#x63A7;&#x5236;</h3>
<pre class="language-"><code class="lang-verilog">q <span class="token operator">=</span> @<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk_iol<span class="token punctuation">)</span> d<span class="token punctuation">;</span> <span class="token comment">// &#x8BED;&#x53E5;&#x5185;&#x4E8B;&#x4EF6;&#x63A7;&#x5236;</span>

@<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk_iol<span class="token punctuation">)</span>        <span class="token comment">// &#x8BED;&#x53E5;&#x95F4;&#x4E8B;&#x4EF6;&#x63A7;&#x5236;</span>
    q <span class="token operator">=</span> temp<span class="token punctuation">;</span>
</code></pre>
<h3 id="always"><a name="always" class="anchor-navigation-ex-anchor" href="#always"><i class="fa fa-link" aria-hidden="true"></i></a>9.4. always</h3>
<pre class="language-"><code class="lang-verilog"><span class="token important">always @</span><span class="token punctuation">(</span>&#x4E8B;&#x4EF6;<span class="token number">1</span><span class="token punctuation">,</span> &#x4E8B;&#x4EF6;<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
</code></pre>
<h3 id="if-else"><a name="if-else" class="anchor-navigation-ex-anchor" href="#if-else"><i class="fa fa-link" aria-hidden="true"></i></a>9.5. if-else</h3>
<ul>
<li>&#x5FC5;&#x987B;&#x6DFB;&#x52A0; else</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">if</span> <span class="token punctuation">(</span>condition1<span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>condition2<span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">else</span>
    <span class="token keyword">begin</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
</code></pre>
<h3 id="casecasexcasez"><a name="casecasexcasez" class="anchor-navigation-ex-anchor" href="#casecasexcasez"><i class="fa fa-link" aria-hidden="true"></i></a>9.6. case/casex/casez</h3>
<ul>
<li>expr: &#x5E38;&#x91CF;/&#x53D8;&#x91CF;/&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#x7B26;{ }/x/z</li>
<li>casex: &#x5F53;&#x8F93;&#x5165;&#x67D0;&#x4E00;&#x4F4D;&#x4E3A; x/z &#x65F6;&#xFF0C;&#x5FFD;&#x7565;&#x6B64;&#x4F4D;&#x5339;&#x914D;(&#x6052;&#x5C06;&#x6B64;&#x4F4D;&#x5339;&#x914D;&#x4E3A;&#x771F;)</li>
<li>casez: &#x5F53;&#x8F93;&#x5165;&#x67D0;&#x4E00;&#x4F4D;&#x4E3A; z &#x65F6;&#xFF0C;&#x5FFD;&#x7565;&#x6B64;&#x4F4D;&#x5339;&#x914D;(&#x6052;&#x5C06;&#x6B64;&#x4F4D;&#x5339;&#x914D;&#x4E3A;&#x771F;)</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">case</span> <span class="token punctuation">(</span>expr<span class="token punctuation">)</span>
    item <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">begin</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    item <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">begin</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    item <span class="token number">3</span><span class="token punctuation">:</span>
        <span class="token keyword">begin</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token keyword">endcase</span>
</code></pre>
<h3 id="for"><a name="for" class="anchor-navigation-ex-anchor" href="#for"><i class="fa fa-link" aria-hidden="true"></i></a>9.7. for</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">for</span> <span class="token punctuation">(</span>&#x5FAA;&#x73AF;&#x521D;&#x503C;<span class="token punctuation">;</span> &#x5FAA;&#x73AF;&#x6761;&#x4EF6;<span class="token punctuation">;</span> &#x63A7;&#x5236;&#x90E8;&#x5206;<span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
</code></pre>
<h3 id="repeat-loop"><a name="repeat-loop" class="anchor-navigation-ex-anchor" href="#repeat-loop"><i class="fa fa-link" aria-hidden="true"></i></a>9.8. repeat loop</h3>
<ul>
<li>initial for <strong>test bench</strong></li>
<li>&#x5F53;&#x9700; if/else &#x8FDB;&#x884C;&#x65AD;&#x8A00;&#x65F6;,&#x6CE8;&#x610F; <strong>&#x5EF6;&#x65F6;</strong> &#x9020;&#x6210;&#x7684;&#x9519;&#x8BEF;&#x903B;&#x8F91;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token comment">// &#x91CD;&#x590D;&#x4E8B;&#x4EF6;&#x63A7;&#x5236;:</span>
<span class="token comment">// &#x5148;&#x8BA1;&#x7B97;&#x597D;&#x53F3;&#x503C;, &#x7B49;&#x5F85;&#x65F6;&#x949F; tclk &#x4E0A;&#x51FA;&#x73B0;2&#x4E2A;&#x8D1F;&#x8DF3;&#x53D8;&#x6CBF;, &#x518D;&#x628A;&#x53F3;&#x503C;&#x8D4B;&#x7ED9; hresult</span>
hresult <span class="token operator">=</span> <span class="token keyword">repeat</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> @<span class="token punctuation">(</span><span class="token keyword">negedge</span> tclk<span class="token punctuation">)</span> hw_data <span class="token operator">+</span> hr_data<span class="token punctuation">;</span>

<span class="token comment">// repeat &#x5FAA;&#x73AF;&#x8BED;&#x53E5;:</span>
<span class="token keyword">repeat</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    @<span class="token punctuation">(</span><span class="token keyword">posedge</span> tclk<span class="token punctuation">)</span> hresult <span class="token operator">=</span> hw_data <span class="token operator">+</span> hr_data<span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">initial</span> <span class="token keyword">begin</span>
    inc_DAC <span class="token operator">=</span> <span class="token number">1</span>&#x2019;b1<span class="token punctuation">;</span>

    <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">4095</span><span class="token punctuation">)</span> @<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bring DAC right up to point of rollover</span>
    inc_DAC <span class="token operator">=</span> <span class="token number">1</span>&#x2019;b0<span class="token punctuation">;</span>
    inc_smpl <span class="token operator">=</span> <span class="token number">1</span>&#x2019;b1<span class="token punctuation">;</span>

    <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>@<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bring sample count up to 7</span>
    inc_smpl <span class="token operator">=</span> <span class="token number">1</span>&#x2019;b0<span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token keyword">initial</span> <span class="token keyword">begin</span>
    <span class="token number">#100</span> <span class="token property">$finish</span><span class="token punctuation">;</span> <span class="token comment">// run simulation for 100 units</span>
<span class="token keyword">end</span>
</code></pre>
<h3 id="forever-loop"><a name="forever-loop" class="anchor-navigation-ex-anchor" href="#forever-loop"><i class="fa fa-link" aria-hidden="true"></i></a>9.9. forever loop</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">// $stop, $finish &#x53EF;&#x4EE5;&#x7EC8;&#x6B62; forevr loop</span>
<span class="token keyword">forever</span> <span class="token number">#10</span> clk <span class="token operator">=</span> <span class="token operator">~</span> clk<span class="token punctuation">;</span>
</code></pre>
<h3 id="forcerelease"><a name="forcerelease" class="anchor-navigation-ex-anchor" href="#forcerelease"><i class="fa fa-link" aria-hidden="true"></i></a>9.10. force/release</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">initial</span>
    <span class="token keyword">begin</span>
        <span class="token keyword">force</span> test_reset <span class="token operator">=</span> penable <span class="token operator">&amp;</span> rtc_intr<span class="token punctuation">;</span>
        <span class="token number">#5</span><span class="token punctuation">;</span>
        <span class="token keyword">release</span> test_reset<span class="token punctuation">;</span>
    <span class="token keyword">end</span>
</code></pre>
<h3 id="blockingnon-blocking"><a name="blockingnon-blocking" class="anchor-navigation-ex-anchor" href="#blockingnon-blocking"><i class="fa fa-link" aria-hidden="true"></i></a>9.11. Blocking/Non-Blocking</h3>
<ul>
<li>Blocking(=): &#x987A;&#x5E8F;&#x6267;&#x884C;</li>
<li>Non-Blocking(&lt;=): &#x5E76;&#x884C;&#x6267;&#x884C;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">output</span> <span class="token operator">=</span> input_logic<span class="token punctuation">;</span>

<span class="token keyword">output</span> <span class="token operator">&lt;=</span> input_logic<span class="token punctuation">;</span>
</code></pre>
<h3 id="disable"><a name="disable" class="anchor-navigation-ex-anchor" href="#disable"><i class="fa fa-link" aria-hidden="true"></i></a>9.12. disable</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">begin</span> <span class="token punctuation">:</span> <span class="token keyword">break</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">begin</span> <span class="token punctuation">:</span> <span class="token keyword">continue</span>
        @<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// &quot;continue&quot; loop</span>
            <span class="token keyword">disable</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token comment">// &quot;break&quot; from loop</span>
            <span class="token keyword">disable</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        statement1
        statement2
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="&#x7ED3;&#x6784;&#x5EFA;&#x6A21;"><a name="&#x7ED3;&#x6784;&#x5EFA;&#x6A21;" class="anchor-navigation-ex-anchor" href="#&#x7ED3;&#x6784;&#x5EFA;&#x6A21;"><i class="fa fa-link" aria-hidden="true"></i></a>10. &#x7ED3;&#x6784;&#x5EFA;&#x6A21;</h2>
<h3 id="generate-&#x8BED;&#x53E5;"><a name="generate-&#x8BED;&#x53E5;" class="anchor-navigation-ex-anchor" href="#generate-&#x8BED;&#x53E5;"><i class="fa fa-link" aria-hidden="true"></i></a>10.1. generate &#x8BED;&#x53E5;</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">generate</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>gv_i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> gv_i <span class="token operator">&lt;</span> SIZE<span class="token punctuation">;</span> gv_i <span class="token operator">=</span> gv_i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">begin</span><span class="token punctuation">:</span> sblka
            <span class="token keyword">xor</span> uxor <span class="token punctuation">(</span>y<span class="token punctuation">[</span>gv_i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>gv_i<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>gv_i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
<span class="token keyword">endgenerate</span>
<span class="token comment">// =&gt;</span>
<span class="token comment">// module.sblka[0].uxor</span>
<span class="token comment">// module.sblka[1].uxor</span>
<span class="token comment">// module.sblka[2].uxor</span>
<span class="token comment">// ...</span>
</code></pre>
<h2 id="delay&#x65F6;&#x5EF6;"><a name="delay&#x65F6;&#x5EF6;" class="anchor-navigation-ex-anchor" href="#delay&#x65F6;&#x5EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>11. Delay(&#x65F6;&#x5EF6;)</h2>
<ul>
<li>&#x8BED;&#x53E5;&#x5185;&#x65F6;&#x5EF6;</li>
<li>&#x8BED;&#x53E5;&#x95F4;&#x65F6;&#x5EF6;</li>
<li>&#x8BED;&#x53E5;&#x5185;&#x65F6;&#x5EF6;&#x671F;&#x95F4;&#xFF1A;&#x53F3;&#x503C;&#x4FDD;&#x6301;&#x7A33;&#x5B9A;&#x4E0D;&#x53D8;&#xFF0C;&#x624D;&#x53EF;&#x6210;&#x529F;&#x8D4B;&#x7ED9;&#x5DE6;&#x503C;</li>
</ul>
<pre class="language-"><code class="lang-verilog">sum <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">^</span> b<span class="token punctuation">)</span> <span class="token operator">^</span> cin<span class="token punctuation">;</span>
<span class="token number">#4</span> t1 <span class="token operator">=</span> a <span class="token operator">&amp;</span> cin<span class="token punctuation">;</span>
</code></pre>
<h2 id="&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;"><a name="&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#&#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>12. &#x9884;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;</h2>
<h3 id="define-&#x5B8F;"><a name="define-&#x5B8F;" class="anchor-navigation-ex-anchor" href="#define-&#x5B8F;"><i class="fa fa-link" aria-hidden="true"></i></a>12.1. define &#x5B8F;</h3>
<p>&#x5C06;&#x591A;&#x4E2A; define &#x5B8F;,&#x653E;&#x81F3; _defines.v, &#x4F5C;&#x4E3A;&#x5168;&#x5C40;&#x5B8F;</p>
<h3 id="&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;"><a name="&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>12.2. &#x9ED8;&#x8BA4;&#x672A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;</h3>
<pre class="language-"><code class="lang-verilog"><span class="token constant">`unconnected_drive</span> <span class="token keyword">pull1</span>

<span class="token comment">// &#x6B64;&#x533A;&#x95F4;&#x672A;&#x8FDE;&#x63A5;&#x8F93;&#x5165;&#x7AEF;&#x53E3;&#x4E3A;&#x4E0A;&#x62C9;(1)</span>

<span class="token constant">`nounconnected_drive</span>

<span class="token constant">`unconnected_drive</span> <span class="token keyword">pull0</span>

<span class="token comment">// &#x6B64;&#x533A;&#x95F4;&#x672A;&#x8FDE;&#x63A5;&#x8F93;&#x5165;&#x7AEF;&#x53E3;&#x4E3A;&#x4E0B;&#x62C9;(0)</span>

<span class="token constant">`nounconnected_drive</span>
</code></pre>
<h2 id="data-path"><a name="data-path" class="anchor-navigation-ex-anchor" href="#data-path"><i class="fa fa-link" aria-hidden="true"></i></a>13. Data Path</h2>
<h3 id="multiplexer"><a name="multiplexer" class="anchor-navigation-ex-anchor" href="#multiplexer"><i class="fa fa-link" aria-hidden="true"></i></a>13.1. Multiplexer</h3>
<h3 id="adder"><a name="adder" class="anchor-navigation-ex-anchor" href="#adder"><i class="fa fa-link" aria-hidden="true"></i></a>13.2. Adder</h3>
<h3 id="register"><a name="register" class="anchor-navigation-ex-anchor" href="#register"><i class="fa fa-link" aria-hidden="true"></i></a>13.3. Register</h3>
<h3 id="memory"><a name="memory" class="anchor-navigation-ex-anchor" href="#memory"><i class="fa fa-link" aria-hidden="true"></i></a>13.4. Memory</h3>
<ul>
<li>&#x5176;&#x4E2D;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E2D;&#x5730;&#x5740;&#x5FC5;&#x987B;&#x5728;&#x7CFB;&#x7EDF;&#x4EFB;&#x52A1;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x8303;&#x56F4;&#x5185;&#xFF0C;&#x7CFB;&#x7EDF;&#x4EFB;&#x52A1;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5730;&#x5740;&#x5FC5;&#x987B;&#x5728;&#x5B58;&#x50A8;&#x5668;&#x5B9A;&#x4E49;&#x7684;&#x5730;&#x5740;&#x8303;&#x56F4;&#x5185;</li>
<li>&#x4F18;&#x5148;&#x8003;&#x8651;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5730;&#x5740;&gt;&#x7CFB;&#x7EDF;&#x4EFB;&#x52A1;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;&#x548C;&#x7ED3;&#x675F;&#x5730;&#x5740;&gt;&#x5B58;&#x50A8;&#x5668;&#x5B9A;&#x4E49;&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;&#x548C;&#x7ED3;&#x675F;&#x5730;&#x5740;</li>
</ul>
<h2 id="demos"><a name="demos" class="anchor-navigation-ex-anchor" href="#demos"><i class="fa fa-link" aria-hidden="true"></i></a>14. Demos</h2>
<ul>
<li><a href="https://hom-wang.gitbooks.io/verilog-hdl/content/Chapter_07.html" target="_blank">gitbooks.io</a></li>
<li><a href="http://www.xilinx.com/support/university/ise/ise-teaching-material/hdl-design.html" target="_blank">Xilinx Lab</a></li>
</ul>
<h3 id="binary-multiplier"><a name="binary-multiplier" class="anchor-navigation-ex-anchor" href="#binary-multiplier"><i class="fa fa-link" aria-hidden="true"></i></a>14.1. Binary Multiplier</h3>
<pre class="language-"><code class="lang-verilog">   <span class="token number">1100</span> <span class="token punctuation">(</span>the multiplicand<span class="token punctuation">)</span>
x  <span class="token number">1011</span> <span class="token punctuation">(</span>the multiplier<span class="token punctuation">)</span>
   <span class="token operator">----</span>
   <span class="token number">0000</span> <span class="token punctuation">(</span><span class="token keyword">initial</span> partial product<span class="token punctuation">,</span> start <span class="token keyword">with</span> <span class="token number">0000</span><span class="token punctuation">)</span>
   <span class="token number">1100</span> <span class="token punctuation">(</span><span class="token number">1</span>st multiplier <span class="token keyword">bit</span> is <span class="token number">1</span><span class="token punctuation">,</span> so add the multiplicand<span class="token punctuation">)</span>
   <span class="token operator">----</span>
   <span class="token number">1100</span> <span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
   <span class="token operator">----</span>
   <span class="token number">01100</span> <span class="token punctuation">(</span>shift sum one position to the right<span class="token punctuation">)</span>
   <span class="token number">1100</span> <span class="token punctuation">(</span><span class="token number">2</span>nd multiplier <span class="token keyword">bit</span> is <span class="token number">1</span><span class="token punctuation">,</span> so add multiplicand again<span class="token punctuation">)</span>
   <span class="token operator">----</span>
  <span class="token number">100100</span> <span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token keyword">with</span> a carry generated on the left<span class="token punctuation">)</span>
   <span class="token operator">----</span>
   <span class="token number">100100</span> <span class="token punctuation">(</span>shift sum once to the right<span class="token punctuation">,</span> including carry<span class="token punctuation">)</span>
   <span class="token number">0100100</span> <span class="token punctuation">(</span><span class="token number">3</span>rd multiplier <span class="token keyword">bit</span> is <span class="token number">0</span><span class="token punctuation">,</span> so skip add<span class="token punctuation">,</span> shift once<span class="token punctuation">)</span>
   <span class="token operator">----</span>
   <span class="token number">1100</span> <span class="token punctuation">(</span><span class="token number">4</span>th multiplier <span class="token keyword">bit</span> is <span class="token number">1</span><span class="token punctuation">,</span> so add multiplicand again<span class="token punctuation">)</span>
   <span class="token operator">----</span>
  <span class="token number">10000100</span> <span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token keyword">with</span> a carry generated on the left<span class="token punctuation">)</span>
   <span class="token number">10000100</span> <span class="token punctuation">(</span>shift sum once to the right<span class="token punctuation">,</span> including carry<span class="token punctuation">)</span>
</code></pre>
<h3 id="multi-hz"><a name="multi-hz" class="anchor-navigation-ex-anchor" href="#multi-hz"><i class="fa fa-link" aria-hidden="true"></i></a>14.2. Multi-Hz</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/*
 * &#x5229;&#x7528;&#x8BA1;&#x6570;&#x5668;&#x5B9E;&#x73B0;&#x4EFB;&#x610F;&#x5206;&#x9891;
 */</span>
<span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> f_clk<span class="token punctuation">)</span> <span class="token keyword">begin</span>

    <span class="token comment">//&#x8BBE;&#x5B9A;&#x9891;&#x7387;&#x63A7;&#x5236;&#x5B57;p  </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> p<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        f_out<span class="token operator">=~</span>f_out<span class="token punctuation">;</span>
    <span class="token keyword">end</span>
    <span class="token keyword">else</span> <span class="token keyword">begin</span>
        i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="tips"><a name="tips" class="anchor-navigation-ex-anchor" href="#tips"><i class="fa fa-link" aria-hidden="true"></i></a>15. Tips</h2>
<h3 id="&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;"><a name="&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;" class="anchor-navigation-ex-anchor" href="#&#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>15.1. &#x4E0D;&#x53EF;&#x7EFC;&#x5408;&#x7ED3;&#x6784;</h3>
<ul>
<li>initial: &#x53EA;&#x7528;&#x4E8E; test bench</li>
<li>events: Events &#x540C;&#x6B65;&#x6D4B;&#x8BD5;&#x5404;&#x4E2A;&#x7EC4;&#x4EF6;</li>
<li>real: Real &#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x53EF;&#x7EFC;&#x5408;</li>
<li>time: Time &#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x53EF;&#x7EFC;&#x5408;</li>
<li>force/release</li>
<li>assign(reg)/deassign(reg)</li>
<li>fork join</li>
<li>primitive: &#x53EA;&#x6709;&#x95E8;&#x7EA7;&#x7684;&#x539F;&#x8BED;&#xFF08;primitives&#xFF09;&#x53EF;&#x7EFC;&#x5408;</li>
<li>table: &#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x8BED;&#xFF08;UDP&#xFF09;&#x53CA; table &#x4E0D;&#x53EF;&#x7EFC;&#x5408;</li>
<li><code>#1</code> &#x5EF6;&#x8FDF;&#x53EA;&#x7528;&#x4E8E;&#x4EFF;&#x771F;&#xFF0C;&#x7EFC;&#x5408;&#x5668;&#x76F4;&#x63A5;&#x5FFD;&#x7565;&#x5EF6;&#x8FDF;</li>
</ul>
<h3 id="&#x6DF7;&#x5408;&#x7F16;&#x7A0B;"><a name="&#x6DF7;&#x5408;&#x7F16;&#x7A0B;" class="anchor-navigation-ex-anchor" href="#&#x6DF7;&#x5408;&#x7F16;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a>15.2. &#x6DF7;&#x5408;&#x7F16;&#x7A0B;</h3>
<ul>
<li>&#x5185;&#x90E8;&#x53D8;&#x91CF;&#x7528; assign &#x8D4B;&#x503C;</li>
<li>&#x8F93;&#x51FA;&#x53D8;&#x91CF;&#x901A;&#x8FC7;&#x76D1;&#x542C; &#x5185;&#x90E8;&#x53D8;&#x91CF; &#x6539;&#x53D8;&#x8F93;&#x51FA;&#x503C;</li>
</ul>
<pre class="language-"><code class="lang-verilog">    <span class="token keyword">assign</span> DT0 <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> DT1 <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>

    <span class="token important">always @</span><span class="token punctuation">(</span>DT0<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        Aout <span class="token operator">&lt;=</span> DT0<span class="token punctuation">;</span>
    <span class="token keyword">end</span>
    <span class="token important">always @</span><span class="token punctuation">(</span>DT1<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        Bout <span class="token operator">&lt;=</span> DT1<span class="token punctuation">;</span>
    <span class="token keyword">end</span>
</code></pre>
<h3 id="&#x4E0A;&#x5347;&#x6CBF;&#x4E0B;&#x964D;&#x6CBF;"><a name="&#x4E0A;&#x5347;&#x6CBF;&#x4E0B;&#x964D;&#x6CBF;" class="anchor-navigation-ex-anchor" href="#&#x4E0A;&#x5347;&#x6CBF;&#x4E0B;&#x964D;&#x6CBF;"><i class="fa fa-link" aria-hidden="true"></i></a>15.3. &#x4E0A;&#x5347;&#x6CBF;/&#x4E0B;&#x964D;&#x6CBF;</h3>
<pre class="language-"><code class="lang-verilog">    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> A <span class="token keyword">or</span> <span class="token keyword">negedge</span> B<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>B<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">else</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">end</span>
</code></pre>
<h3 id="parameter"><a name="parameter" class="anchor-navigation-ex-anchor" href="#parameter"><i class="fa fa-link" aria-hidden="true"></i></a>15.4. Parameter</h3>
<ul>
<li>&#x53EA;&#x5728;&#x5B9A;&#x4E49;&#x7684;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x8D77;&#x4F5C;&#x7528;</li>
</ul>
<h4 id="overload-method"><a name="overload-method" class="anchor-navigation-ex-anchor" href="#overload-method"><i class="fa fa-link" aria-hidden="true"></i></a><a name="overload-method" class="plugin-anchor" href="#overload-method"><i class="fa fa-link" aria-hidden="true"></i></a>Overload Method</h4>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> data_path
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> A<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> B<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> C
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">endmodule</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> data_path_tb
<span class="token punctuation">(</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
    data_path #<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">DATA_WIDTH</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> DUT <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">A</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token function">B</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token function">C</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">endmodule</span>
</code></pre>
<h4 id="constant-variable"><a name="constant-variable" class="anchor-navigation-ex-anchor" href="#constant-variable"><i class="fa fa-link" aria-hidden="true"></i></a><a name="constant-variable" class="plugin-anchor" href="#constant-variable"><i class="fa fa-link" aria-hidden="true"></i></a>Constant Variable</h4>
<pre class="language-"><code class="lang-verilog">reset_value <span class="token operator">=</span> <span class="token operator">{{</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">{</span><span class="token number">1&apos;b0</span><span class="token operator">}}</span><span class="token punctuation">,</span> <span class="token operator">{</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">{</span><span class="token number">1&apos;b1</span><span class="token operator">}}}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="test-bench"><a name="test-bench" class="anchor-navigation-ex-anchor" href="#test-bench"><i class="fa fa-link" aria-hidden="true"></i></a><a name="test-bench" class="plugin-anchor" href="#test-bench"><i class="fa fa-link" aria-hidden="true"></i></a>Test Bench</h4>
<pre class="language-"><code class="lang-verilog"><span class="token important">always </span><span class="token keyword">begin</span>
    clk <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">forever</span> #DELAY clk <span class="token operator">=</span> <span class="token operator">~</span>clk<span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">reg</span> clock<span class="token punctuation">;</span>
<span class="token keyword">integer</span> no_of_clocks<span class="token punctuation">;</span>

<span class="token keyword">parameter</span> CLOCK_PERIOD <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">parameter</span> TIME <span class="token operator">=</span> <span class="token number">50000</span><span class="token punctuation">;</span>

<span class="token keyword">initial</span> no_of_clocks <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">initial</span> clock <span class="token operator">=</span> <span class="token number">1&apos;b0</span><span class="token punctuation">;</span>

<span class="token important">always </span>#<span class="token punctuation">(</span>CLOCK_PERIOD<span class="token operator">/</span><span class="token number">2.0</span><span class="token punctuation">)</span> clock <span class="token operator">=</span> <span class="token operator">~</span>clock<span class="token punctuation">;</span>

<span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clock<span class="token punctuation">)</span>
    no_of_clocks <span class="token operator">=</span> no_of_clocks <span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">;</span>

<span class="token keyword">initial</span> <span class="token keyword">begin</span>
    #TIME<span class="token punctuation">;</span>
    <span class="token property">$display</span><span class="token punctuation">(</span>&quot;End of simulation <span class="token keyword">time</span> is <span class="token operator">%</span>d <span class="token punctuation">,</span>
      total number of clocks seen is <span class="token operator">%</span>d expected is <span class="token operator">%</span>d&quot;<span class="token punctuation">,</span><span class="token property">$time</span><span class="token punctuation">,</span>no_of_clocks<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token property">$time</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">$finish</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre>
<h2 id="&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;fsm"><a name="&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;fsm" class="anchor-navigation-ex-anchor" href="#&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;fsm"><i class="fa fa-link" aria-hidden="true"></i></a>16. &#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;(FSM)</h2>
<ul>
<li>reset: initial state</li>
<li>default: illegal/unreachable state</li>
</ul>
<h2 id="&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;asm"><a name="&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;asm" class="anchor-navigation-ex-anchor" href="#&#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;asm"><i class="fa fa-link" aria-hidden="true"></i></a>17. &#x7B97;&#x672F;&#x72B6;&#x6001;&#x673A;(ASM)</h2>
<ul>
<li>state box: moore fsm</li>
<li>conditional box: mealy fsm</li>
<li>decision box: <code>x_input</code> = 0/1</li>
</ul>
<h2 id="systemverilog"><a name="systemverilog" class="anchor-navigation-ex-anchor" href="#systemverilog"><i class="fa fa-link" aria-hidden="true"></i></a>18. SystemVerilog</h2>
<h3 id="enum"><a name="enum" class="anchor-navigation-ex-anchor" href="#enum"><i class="fa fa-link" aria-hidden="true"></i></a>18.1. Enum</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token keyword">logic</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">{</span>
  RED<span class="token punctuation">,</span> GREEN<span class="token punctuation">,</span> BLUE<span class="token punctuation">,</span> CYAN<span class="token punctuation">,</span> MAGENTA<span class="token punctuation">,</span> YELLOW
<span class="token operator">}</span> color_t<span class="token punctuation">;</span>

color_t my_color <span class="token operator">=</span> GREEN<span class="token punctuation">;</span>
<span class="token keyword">initial</span> <span class="token property">$display</span><span class="token punctuation">(</span><span class="token string">&quot;The color is %s&quot;</span><span class="token punctuation">,</span> my_color<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="struct-and-union"><a name="struct-and-union" class="anchor-navigation-ex-anchor" href="#struct-and-union"><i class="fa fa-link" aria-hidden="true"></i></a>18.2. Struct and Union</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token keyword">packed</span> <span class="token operator">{</span>
  <span class="token keyword">bit</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span>  expo<span class="token punctuation">;</span>
  <span class="token keyword">bit</span>         sign<span class="token punctuation">;</span>
  <span class="token keyword">bit</span> <span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span>  mant<span class="token punctuation">;</span>
<span class="token operator">}</span> FP<span class="token punctuation">;</span>

FP zero <span class="token operator">=</span> <span class="token number">64&apos;b0</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="procedural-block"><a name="procedural-block" class="anchor-navigation-ex-anchor" href="#procedural-block"><i class="fa fa-link" aria-hidden="true"></i></a>18.3. Procedural Block</h3>
<ul>
<li>always_comb: &#x7528;&#x4E8E;&#x7EC4;&#x5408;&#x903B;&#x8F91;&#x7535;&#x8DEF;&#xFF08;&#x76F8;&#x5F53;&#x4E8E; Verilog &#x4E2D;&#x5BF9;&#x6240;&#x6709;&#x8F93;&#x5165;&#x53D8;&#x91CF;&#x7535;&#x5E73;&#x654F;&#x611F;&#x7684; always&#xFF0C;&#x4F46; always_comb &#x65E0;&#x9700;&#x624B;&#x52A8;&#x5217;&#x51FA;&#x6240;&#x6709;&#x8F93;&#x5165;&#x53D8;&#x91CF;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#xFF09;</li>
<li>always_ff: &#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x5668;&#x53CA;&#x76F8;&#x5173;&#x7684;&#x65F6;&#x5E8F;&#x903B;&#x8F91;&#x7535;&#x8DEF;&#xFF08;&#x76F8;&#x5F53;&#x4E8E; Verilog &#x4E2D;&#x5BF9;&#x67D0;&#x4E2A;&#x6216;&#x67D0;&#x51E0;&#x4E2A;&#x4FE1;&#x53F7;&#x6709;&#x6548;&#x8DF3;&#x53D8;&#x6CBF;&#x654F;&#x611F;&#x3001;&#x5E76;&#x5E26;&#x6709;&#x4FE1;&#x53F7;&#x50A8;&#x5B58;&#x7279;&#x6027;&#x7684; always&#xFF09;</li>
<li>always_latch: &#x7528;&#x4E8E;&#x9501;&#x5B58;&#x5668;&#x7EA7;&#x76F8;&#x5173;&#x7684;&#x65F6;&#x5E8F;&#x903B;&#x8F91;&#x7535;&#x8DEF;&#xFF08;&#x76F8;&#x5F53;&#x4E8E; Verilog &#x4E2D;&#x5BF9;&#x67D0;&#x4E2A;&#x6216;&#x67D0;&#x51E0;&#x4E2A;&#x4FE1;&#x53F7;&#x7535;&#x5E73;&#x654F;&#x611F;&#x3001;&#x5E76;&#x5E26;&#x6709;&#x4FE1;&#x53F7;&#x50A8;&#x5B58;&#x7279;&#x6027;&#x7684;&#x7684; always&#xFF09;</li>
</ul>
<pre class="language-"><code class="lang-verilog"><span class="token important">always_comb </span><span class="token keyword">begin</span>
  tmp <span class="token operator">=</span> b <span class="token operator">*</span> b <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">*</span> a <span class="token operator">*</span> c<span class="token punctuation">;</span>
  no_root <span class="token operator">=</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token important">always_ff @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span>
  count <span class="token operator">&lt;=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>


<span class="token important">always_latch</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>en<span class="token punctuation">)</span> q <span class="token operator">&lt;=</span> d<span class="token punctuation">;</span>
</code></pre>
<h3 id="interface"><a name="interface" class="anchor-navigation-ex-anchor" href="#interface"><i class="fa fa-link" aria-hidden="true"></i></a>18.4. Interface</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">interface</span> intf<span class="token punctuation">;</span>
  <span class="token keyword">logic</span> a<span class="token punctuation">;</span>
  <span class="token keyword">logic</span> b<span class="token punctuation">;</span>
  <span class="token keyword">modport</span> in <span class="token punctuation">(</span><span class="token keyword">input</span> a<span class="token punctuation">,</span> <span class="token keyword">output</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">modport</span> out <span class="token punctuation">(</span><span class="token keyword">input</span> b<span class="token punctuation">,</span> <span class="token keyword">output</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">endinterface</span>

<span class="token keyword">module</span> top<span class="token punctuation">;</span>
  intf i <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  u_a m1 <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">i1</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  u_b m2 <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">i2</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>

<span class="token keyword">module</span> u_a <span class="token punctuation">(</span>intf<span class="token punctuation">.</span>in i1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>

<span class="token keyword">module</span> u_b <span class="token punctuation">(</span>intf<span class="token punctuation">.</span>out i2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
</code></pre>
<h3 id="testing"><a name="testing" class="anchor-navigation-ex-anchor" href="#testing"><i class="fa fa-link" aria-hidden="true"></i></a>18.5. Testing</h3>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">module</span> top<span class="token punctuation">;</span>
  <span class="token keyword">integer</span> num_pkts <span class="token operator">=</span> <span class="token property">$random</span><span class="token punctuation">;</span>
  <span class="token keyword">reg</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">,</span> clk<span class="token punctuation">,</span> reset_n<span class="token punctuation">;</span>
  <span class="token keyword">wire</span> D<span class="token punctuation">;</span>
  register_logic <span class="token function">dut</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">,</span> clk<span class="token punctuation">,</span> reset_n<span class="token punctuation">,</span> D<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// generate clock</span>
  <span class="token comment">// ...</span>

  <span class="token keyword">initial</span> <span class="token keyword">begin</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">end</span>

  <span class="token keyword">task</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reset_n  <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token number">#20</span> reset_n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    @<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span> reset_n <span class="token operator">&lt;=</span> <span class="token number">#1</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">repeat</span> <span class="token punctuation">(</span>num_pkts<span class="token punctuation">)</span> <span class="token keyword">begin</span>
      A <span class="token operator">=</span> <span class="token property">$random</span><span class="token punctuation">;</span> B <span class="token operator">=</span> <span class="token property">$random</span><span class="token punctuation">;</span> C <span class="token operator">=</span> <span class="token property">$random</span><span class="token punctuation">;</span>
      @<span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">$display</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">,</span> D<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
    <span class="token property">$finish</span><span class="token punctuation">;</span>
  <span class="token keyword">endtask</span>
<span class="token keyword">endmodule</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token keyword">class</span> Packet<span class="token punctuation">;</span>
  <span class="token keyword">string</span> name<span class="token punctuation">;</span>
  <span class="token keyword">rand</span> <span class="token keyword">bit</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sa<span class="token punctuation">,</span> da<span class="token punctuation">;</span>
  <span class="token keyword">rand</span> <span class="token keyword">reg</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">$display</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">endfunction</span>
<span class="token keyword">endclass</span><span class="token punctuation">:</span> Packet

<span class="token comment">// inheritance</span>
<span class="token keyword">class</span> Packet_da_3 <span class="token keyword">extends</span> Packet<span class="token punctuation">;</span>
  <span class="token keyword">constraint</span> da_3 <span class="token operator">{</span>
    da <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token operator">}</span>

  <span class="token keyword">function</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">$display</span><span class="token punctuation">(</span>sa<span class="token punctuation">,</span> da<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">endfunction</span>
<span class="token keyword">endclass</span><span class="token punctuation">:</span> Packet_da_3

<span class="token keyword">class</span> Generator<span class="token punctuation">;</span>
  Packet pkt<span class="token punctuation">;</span>
  Channel out_chan<span class="token punctuation">;</span>
  <span class="token keyword">int</span> num_pkts<span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token keyword">void</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pkt <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pkt<span class="token punctuation">.</span><span class="token function">randomize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out_chan<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>pkt<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">endfunction</span>

  <span class="token keyword">task</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>num_pkts<span class="token operator">--</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">endtask</span>
<span class="token keyword">endclass</span>

<span class="token keyword">class</span> Driver<span class="token punctuation">;</span>
  Channel in_chan<span class="token punctuation">;</span>

  <span class="token keyword">task</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    in_chan<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>pkt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    top<span class="token punctuation">.</span>A <span class="token operator">=</span> pkt<span class="token punctuation">.</span>A<span class="token punctuation">;</span>
    top<span class="token punctuation">.</span>B <span class="token operator">=</span> pkt<span class="token punctuation">.</span>B<span class="token punctuation">;</span>
    top<span class="token punctuation">.</span>C <span class="token operator">=</span> pkt<span class="token punctuation">.</span>C<span class="token punctuation">;</span>
    @<span class="token punctuation">(</span><span class="token keyword">posedge</span> top<span class="token punctuation">.</span>clk<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">endtask</span>

  <span class="token keyword">task</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">forever</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">endtask</span>
<span class="token keyword">endclass</span>

<span class="token keyword">module</span> top<span class="token punctuation">;</span>
  <span class="token keyword">initial</span> <span class="token keyword">begin</span>
    <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">end</span>

  <span class="token keyword">task</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Config cfg <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Channel chan <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Generator gen <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Driver drv <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gen<span class="token punctuation">.</span>out_chan <span class="token operator">=</span> chan<span class="token punctuation">;</span>
    drv<span class="token punctuation">.</span>in_chan <span class="token operator">=</span> chan<span class="token punctuation">;</span>

    cfg<span class="token punctuation">.</span><span class="token function">randomize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">with</span> <span class="token operator">{</span> num_pkts <span class="token operator">&gt;</span> <span class="token number">1500</span><span class="token punctuation">;</span> <span class="token operator">}</span>
    gen<span class="token punctuation">.</span>num_pkts <span class="token operator">=</span> cfg<span class="token punctuation">.</span>num_pkts<span class="token punctuation">;</span>
  <span class="token keyword">endtask</span>

  <span class="token keyword">task</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">fork</span>
      gen<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      drv<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">join</span>
    <span class="token property">$finish</span><span class="token punctuation">;</span>
  <span class="token keyword">endtask</span>
<span class="token keyword">endmodule</span>
</code></pre>
<h2 id="u280-platform"><a name="u280-platform" class="anchor-navigation-ex-anchor" href="#u280-platform"><i class="fa fa-link" aria-hidden="true"></i></a>19. U280 Platform</h2>
<pre class="language-"><code class="lang-bash">-xp param <span class="token punctuation">(</span>clock frequency etc.<span class="token punctuation">)</span>
-R report level
-slr SLR region setting
-sp meomry resources mapping
</code></pre>
<p>tools:</p>
<ul>
<li>xbutil query</li>
<li>platforminfo</li>
<li>kernelinfo</li>
<li><strong>xclbinutil</strong></li>
<li>dmesg</li>
</ul>
<h3 id="host-application"><a name="host-application" class="anchor-navigation-ex-anchor" href="#host-application"><i class="fa fa-link" aria-hidden="true"></i></a>19.1. Host Application</h3>
<h4 id="basic-flow"><a name="basic-flow" class="anchor-navigation-ex-anchor" href="#basic-flow"><i class="fa fa-link" aria-hidden="true"></i></a><a name="basic-flow" class="plugin-anchor" href="#basic-flow"><i class="fa fa-link" aria-hidden="true"></i></a>Basic Flow</h4>
<ul>
<li>set the kernel arguments before performing any enqueue operation</li>
<li>keeping the buffer size <strong>2 MB ~ 4 GB</strong></li>
<li><code>posix_memalign</code> is used instead of malloc for the host memory space pointer</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">uint32_t</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> <span class="token operator">*</span>c<span class="token punctuation">,</span> <span class="token operator">*</span>d <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token function">posix_memalign</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">4096</span><span class="token punctuation">,</span> BUFSIZE <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">uint32_t</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">posix_memalign</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token number">4096</span><span class="token punctuation">,</span> BUFSIZE <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">uint32_t</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">posix_memalign</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>c<span class="token punctuation">,</span> <span class="token number">4096</span><span class="token punctuation">,</span> BUFSIZE <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">uint32_t</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">posix_memalign</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>d<span class="token punctuation">,</span> <span class="token number">4096</span><span class="token punctuation">,</span> BUFSIZE <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">uint32_t</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>release resources for proper performance profile report</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token function">clReleaseCommandQueue</span><span class="token punctuation">(</span>Command_Queue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clReleaseContext</span><span class="token punctuation">(</span>Context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clReleaseDevice</span><span class="token punctuation">(</span>Target_Device_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clReleaseKernel</span><span class="token punctuation">(</span>Kernel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clReleaseProgram</span><span class="token punctuation">(</span>Program<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">free</span><span class="token punctuation">(</span>Platform_IDs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">free</span><span class="token punctuation">(</span>Device_IDs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="tlp"><a name="tlp" class="anchor-navigation-ex-anchor" href="#tlp"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tlp" class="plugin-anchor" href="#tlp"><i class="fa fa-link" aria-hidden="true"></i></a>TLP</h4>
<p>It is advisable to use the <code>posix_spawn()</code> system call
to launch another process from the SDAccel environment application.</p>
<h3 id="u280-tools"><a name="u280-tools" class="anchor-navigation-ex-anchor" href="#u280-tools"><i class="fa fa-link" aria-hidden="true"></i></a>19.2. U280 Tools</h3>
<h4 id="gdb-based-debugging"><a name="gdb-based-debugging" class="anchor-navigation-ex-anchor" href="#gdb-based-debugging"><i class="fa fa-link" aria-hidden="true"></i></a><a name="gdb-based-debugging" class="plugin-anchor" href="#gdb-based-debugging"><i class="fa fa-link" aria-hidden="true"></i></a>GDB Based Debugging</h4>
<pre class="language-"><code class="lang-bash">xprint queue <span class="token punctuation">[</span><span class="token operator">&lt;</span>cl_command_queue<span class="token operator">&gt;</span><span class="token punctuation">]</span>
xprint event <span class="token operator">&lt;</span>cl_event<span class="token operator">&gt;</span>
xprint mem <span class="token punctuation">[</span><span class="token operator">&lt;</span>cl_mem<span class="token operator">&gt;</span><span class="token punctuation">]</span>
xprint kernel
xprint all
xstatus all
xstatus --<span class="token operator">&lt;</span>ipname<span class="token operator">&gt;</span>
</code></pre>
<h4 id="xclbinutil"><a name="xclbinutil" class="anchor-navigation-ex-anchor" href="#xclbinutil"><i class="fa fa-link" aria-hidden="true"></i></a><a name="xclbinutil" class="plugin-anchor" href="#xclbinutil"><i class="fa fa-link" aria-hidden="true"></i></a>xclbinutil</h4>
<pre class="language-"><code class="lang-bash">xclbinutil -i binary_container_1.xclbin --info
</code></pre>
<h4 id="xocc-xp-flag"><a name="xocc-xp-flag" class="anchor-navigation-ex-anchor" href="#xocc-xp-flag"><i class="fa fa-link" aria-hidden="true"></i></a><a name="xocc-xp-flag" class="plugin-anchor" href="#xocc-xp-flag"><i class="fa fa-link" aria-hidden="true"></i></a>xocc xp flag</h4>
<p>Checking out-of-bound access made by kernel interface buffers (option: address)
and uninitialized memory access initiated by kernel local to kernel (option: memory).</p>
<pre class="language-"><code class="lang-bash">xocc -l &#x2013;t sw_emu --xp param:compiler.fsanitize<span class="token operator">=</span>address -o bin_kernel.xclbin
xocc -l &#x2013;t sw_emu --xp param:compiler.fsanitize<span class="token operator">=</span>memory -o bin_kernel.xclbin
xocc -l &#x2013;t sw_emu --xp param:compiler.fsanitize<span class="token operator">=</span>address,memory -o bin_kernel.xclbin
</code></pre>
<h4 id="xbutil"><a name="xbutil" class="anchor-navigation-ex-anchor" href="#xbutil"><i class="fa fa-link" aria-hidden="true"></i></a><a name="xbutil" class="plugin-anchor" href="#xbutil"><i class="fa fa-link" aria-hidden="true"></i></a>xbutil</h4>
<pre class="language-"><code class="lang-bash"><span class="token function">sudo</span> /opt/xilinx/xrt/bin/xbutil flash -a <span class="token operator">&lt;</span>shell_name<span class="token operator">&gt;</span> <span class="token comment"># flash the firmware</span>
</code></pre>
<pre class="language-"><code class="lang-bash"><span class="token function">sudo</span> lspci -vd 10ee:
<span class="token function">sudo</span> /opt/xilinx/xrt/bin/xbutil flash scan
<span class="token function">sudo</span> /opt/xilinx/xrt/bin/xbutil validate -d <span class="token operator">&lt;</span>card_id<span class="token operator">&gt;</span>
</code></pre>
<pre class="language-"><code class="lang-bash">xbutil program -p <span class="token operator">&lt;</span>xclbin<span class="token operator">&gt;</span>
xbutil query         <span class="token comment"># check memory banks usage</span>
xbutil status --lapc <span class="token comment"># check AXI violations</span>
</code></pre>
<h4 id="dmesg"><a name="dmesg" class="anchor-navigation-ex-anchor" href="#dmesg"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dmesg" class="plugin-anchor" href="#dmesg"><i class="fa fa-link" aria-hidden="true"></i></a>dmesg</h4>
<h4 id="ila-trigger"><a name="ila-trigger" class="anchor-navigation-ex-anchor" href="#ila-trigger"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ila-trigger" class="plugin-anchor" href="#ila-trigger"><i class="fa fa-link" aria-hidden="true"></i></a>ILA Trigger</h4>
<ul>
<li>debug protocol hangs</li>
<li>examine the burst size, pipelining and data width to locate the bottleneck</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
std<span class="token double-colon punctuation">::</span>string binaryFile <span class="token operator">=</span> xcl<span class="token double-colon punctuation">::</span><span class="token function">find_binary_file</span><span class="token punctuation">(</span>device_name<span class="token punctuation">,</span><span class="token string">&quot;vadd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cl<span class="token double-colon punctuation">::</span>Program<span class="token double-colon punctuation">::</span>Binaries bins <span class="token operator">=</span> xcl<span class="token double-colon punctuation">::</span><span class="token function">import_binary_file</span><span class="token punctuation">(</span>binaryFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
devices<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cl<span class="token double-colon punctuation">::</span>Program <span class="token function">program</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> devices<span class="token punctuation">,</span> bins<span class="token punctuation">)</span><span class="token punctuation">;</span>
cl<span class="token double-colon punctuation">::</span>Kernel <span class="token function">krnl_vadd</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span><span class="token string">&quot;krnl_vadd_rtl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// wait_for_enter(&quot;\nPress ENTER to continue after setting up ILA trigger...&quot;);</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Pausing to arm ILA trigger. Hit enter here to resume host program...&quot;</span>
          <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>cin<span class="token double-colon punctuation">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Allocate Buffer in Global Memory</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>cl<span class="token double-colon punctuation">::</span>Memory<span class="token operator">&gt;</span> inBufVec<span class="token punctuation">,</span> outBufVec<span class="token punctuation">;</span>
cl<span class="token double-colon punctuation">::</span>Buffer <span class="token function">buffer_r1</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>CL_MEM_USE_HOST_PTR <span class="token operator">|</span> CL_MEM_READ_ONLY<span class="token punctuation">,</span>
vector_size_bytes<span class="token punctuation">,</span> source_input1<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token comment">// ...</span>
<span class="token comment">// ...</span>

<span class="token comment">//Copy input data to device global memory</span>
q<span class="token punctuation">.</span><span class="token function">enqueueMigrateMemObjects</span><span class="token punctuation">(</span>inBufVec<span class="token punctuation">,</span><span class="token number">0</span><span class="token comment">/* 0 means from host*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Set the Kernel Arguments</span>
<span class="token comment">// ...</span>
<span class="token comment">// ...</span>
<span class="token comment">// ...</span>

<span class="token comment">//Launch the Kernel</span>
q<span class="token punctuation">.</span><span class="token function">enqueueTask</span><span class="token punctuation">(</span>krnl_vadd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="axi-protocol"><a name="axi-protocol" class="anchor-navigation-ex-anchor" href="#axi-protocol"><i class="fa fa-link" aria-hidden="true"></i></a>20. AXI Protocol</h2>
<p>Advanced eXtensible Interface Protocol:</p>
<ul>
<li>handshake protocol: ready-valid protocol</li>
</ul>
<h3 id="axi-channels"><a name="axi-channels" class="anchor-navigation-ex-anchor" href="#axi-channels"><i class="fa fa-link" aria-hidden="true"></i></a>20.1. AXI Channels</h3>
<h4 id="read-address-channel"><a name="read-address-channel" class="anchor-navigation-ex-anchor" href="#read-address-channel"><i class="fa fa-link" aria-hidden="true"></i></a><a name="read-address-channel" class="plugin-anchor" href="#read-address-channel"><i class="fa fa-link" aria-hidden="true"></i></a>Read Address Channel</h4>
<ul>
<li>arburst: burst type</li>
<li>araddr: start address</li>
<li>arlen: (# of transfers) - 1</li>
<li>arsize: bytes/transfer</li>
<li>arready (memory to host)</li>
<li>arvalid</li>
</ul>
<h4 id="read-data-channel"><a name="read-data-channel" class="anchor-navigation-ex-anchor" href="#read-data-channel"><i class="fa fa-link" aria-hidden="true"></i></a><a name="read-data-channel" class="plugin-anchor" href="#read-data-channel"><i class="fa fa-link" aria-hidden="true"></i></a>Read Data Channel</h4>
<ul>
<li>rdata: data</li>
<li>rresp: response (failure check)</li>
<li>rlast: flag for last piece of data</li>
<li>rready (host to memory)</li>
<li>rvalid</li>
</ul>
<h4 id="write-address-channel"><a name="write-address-channel" class="anchor-navigation-ex-anchor" href="#write-address-channel"><i class="fa fa-link" aria-hidden="true"></i></a><a name="write-address-channel" class="plugin-anchor" href="#write-address-channel"><i class="fa fa-link" aria-hidden="true"></i></a>Write Address Channel</h4>
<ul>
<li>awburst: burst type</li>
<li>awaddr: start address</li>
<li>awlen: (# of transfers) - 1</li>
<li>awsize: bytes/transfer</li>
<li>awready (memory to host)</li>
<li>awvalid</li>
</ul>
<h4 id="write-data-channel"><a name="write-data-channel" class="anchor-navigation-ex-anchor" href="#write-data-channel"><i class="fa fa-link" aria-hidden="true"></i></a><a name="write-data-channel" class="plugin-anchor" href="#write-data-channel"><i class="fa fa-link" aria-hidden="true"></i></a>Write Data Channel</h4>
<ul>
<li>wdata: data</li>
<li>wstrb: write strobe -&gt; write mask (1 bit mask for 1 byte data)</li>
<li>wlast: flag for last piece of data</li>
<li>wready (memory to host)</li>
<li>wvalid</li>
</ul>
<h4 id="write-response-channel"><a name="write-response-channel" class="anchor-navigation-ex-anchor" href="#write-response-channel"><i class="fa fa-link" aria-hidden="true"></i></a><a name="write-response-channel" class="plugin-anchor" href="#write-response-channel"><i class="fa fa-link" aria-hidden="true"></i></a>Write Response Channel</h4>
<ul>
<li>bresp: response (failure check)</li>
<li>bready (host to memory)</li>
<li>bvalid</li>
</ul>
<h3 id="axi-burst"><a name="axi-burst" class="anchor-navigation-ex-anchor" href="#axi-burst"><i class="fa fa-link" aria-hidden="true"></i></a>20.2. AXI Burst</h3>
<table>
<thead>
<tr>
<th style="text-align:right">AxBURST[1:0]</th>
<th style="text-align:left">Burst Type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0b00</td>
<td style="text-align:left">FIXED</td>
</tr>
<tr>
<td style="text-align:right">0b01</td>
<td style="text-align:left">INCR</td>
</tr>
<tr>
<td style="text-align:right">0b10</td>
<td style="text-align:left">WRAP</td>
</tr>
<tr>
<td style="text-align:right">0b11</td>
<td style="text-align:left">Reserved</td>
</tr>
</tbody>
</table>
<p>burst length = AxLEN[7:0] + 1 (up to 256 transfers in each burst)</p>
<table>
<thead>
<tr>
<th style="text-align:right">AxSIZE[2:0]</th>
<th style="text-align:right">Bytes in Transfer</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0b000</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td style="text-align:right">0b001</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td style="text-align:right">0b010</td>
<td style="text-align:right">4</td>
</tr>
<tr>
<td style="text-align:right">0b011</td>
<td style="text-align:right">8</td>
</tr>
<tr>
<td style="text-align:right">0b100</td>
<td style="text-align:right">16</td>
</tr>
<tr>
<td style="text-align:right">0b101</td>
<td style="text-align:right">32</td>
</tr>
<tr>
<td style="text-align:right">0b110</td>
<td style="text-align:right">64</td>
</tr>
<tr>
<td style="text-align:right">0b111</td>
<td style="text-align:right">128</td>
</tr>
</tbody>
</table>
<h4 id="read-burst"><a name="read-burst" class="anchor-navigation-ex-anchor" href="#read-burst"><i class="fa fa-link" aria-hidden="true"></i></a><a name="read-burst" class="plugin-anchor" href="#read-burst"><i class="fa fa-link" aria-hidden="true"></i></a>Read Burst</h4>
<p><img src="figures/AXI_Read_Burst.png" alt="Read Burst Example"></p>
<h4 id="write-burst"><a name="write-burst" class="anchor-navigation-ex-anchor" href="#write-burst"><i class="fa fa-link" aria-hidden="true"></i></a><a name="write-burst" class="plugin-anchor" href="#write-burst"><i class="fa fa-link" aria-hidden="true"></i></a>Write Burst</h4>
<p><img src="figures/AXI_Write_Burst.png" alt="Write Burst Example"></p>
<h2 id="verilog-components"><a name="verilog-components" class="anchor-navigation-ex-anchor" href="#verilog-components"><i class="fa fa-link" aria-hidden="true"></i></a>21. Verilog Components</h2>
<h3 id="clock-unit"><a name="clock-unit" class="anchor-navigation-ex-anchor" href="#clock-unit"><i class="fa fa-link" aria-hidden="true"></i></a>21.1. Clock Unit</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module tick_divider
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief simple clock divider
 * @param DATA_WIDTH data width
 * @input clk_src clock signal
 * @ouput clk_group divided clock signals
 */</span>
<span class="token keyword">module</span> tick_divider
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk_src<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> clk_group
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">initial</span> <span class="token keyword">begin</span>
        clk_group <span class="token operator">&lt;=</span> <span class="token operator">{</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token punctuation">)</span><span class="token operator">{</span><span class="token number">1&apos;b0</span><span class="token operator">}}</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>

    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk_src<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        clk_group <span class="token operator">&lt;=</span> clk_group <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">endmodule</span>
</code></pre>
<h3 id="signal-unit"><a name="signal-unit" class="anchor-navigation-ex-anchor" href="#signal-unit"><i class="fa fa-link" aria-hidden="true"></i></a>21.2. Signal Unit</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module integer_to_segment
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief raw data to segment encoder
 * @param DATA_WIDTH data width
 * @input data raw decimal data (4 bit)
 * @output seg_data bit data for cnodes
 */</span>
<span class="token keyword">module</span> integer_to_segment
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> int_data<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> seg_data
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token important">always @</span><span class="token punctuation">(</span>int_data<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>int_data<span class="token punctuation">)</span>
            <span class="token number">4&apos;b0000</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b11000000</span><span class="token punctuation">;</span>    <span class="token comment">// 0</span>
            <span class="token number">4&apos;b0001</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b11111001</span><span class="token punctuation">;</span>    <span class="token comment">// 1</span>
            <span class="token number">4&apos;b0010</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10100100</span><span class="token punctuation">;</span>    <span class="token comment">// 2</span>
            <span class="token number">4&apos;b0011</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10110000</span><span class="token punctuation">;</span>    <span class="token comment">// 3</span>
            <span class="token number">4&apos;b0100</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10011001</span><span class="token punctuation">;</span>    <span class="token comment">// 4</span>
            <span class="token number">4&apos;b0101</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10010010</span><span class="token punctuation">;</span>    <span class="token comment">// 5</span>
            <span class="token number">4&apos;b0110</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10000010</span><span class="token punctuation">;</span>    <span class="token comment">// 6</span>
            <span class="token number">4&apos;b0111</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b11111000</span><span class="token punctuation">;</span>    <span class="token comment">// 7</span>
            <span class="token number">4&apos;b1000</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10000000</span><span class="token punctuation">;</span>    <span class="token comment">// 8</span>
            <span class="token number">4&apos;b1001</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10010000</span><span class="token punctuation">;</span>    <span class="token comment">// 9</span>
            <span class="token number">4&apos;b1010</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10001000</span><span class="token punctuation">;</span>    <span class="token comment">// a</span>
            <span class="token number">4&apos;b1011</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10000011</span><span class="token punctuation">;</span>    <span class="token comment">// b</span>
            <span class="token number">4&apos;b1100</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b11000110</span><span class="token punctuation">;</span>    <span class="token comment">// c</span>
            <span class="token number">4&apos;b1101</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10100001</span><span class="token punctuation">;</span>    <span class="token comment">// d</span>
            <span class="token number">4&apos;b1110</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10000110</span><span class="token punctuation">;</span>    <span class="token comment">// e</span>
            <span class="token number">4&apos;b1111</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b10001110</span><span class="token punctuation">;</span>    <span class="token comment">// f</span>
            <span class="token keyword">default</span><span class="token punctuation">:</span>    seg_data <span class="token operator">&lt;=</span> <span class="token number">8&apos;b11111111</span><span class="token punctuation">;</span>    <span class="token comment">// off</span>
        <span class="token keyword">endcase</span>
    <span class="token keyword">end</span>
<span class="token keyword">endmodule</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module data_to_segment
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief raw data to segment encoder
 * @param DATA_WIDTH data width
 * @input data raw decimal data
 * @output seg_data bit data for cnodes
 */</span>
<span class="token keyword">module</span> data_to_segment
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> data<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> seg_data
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans1 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans2 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans3 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans4 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans5 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">39</span><span class="token punctuation">:</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans6 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">47</span><span class="token punctuation">:</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans7 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">:</span><span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    integer_to_segment trans8 <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">int_data</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">28</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">[</span><span class="token number">63</span><span class="token punctuation">:</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module led_unit
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief led display module (bind to anodes and cnodes in FPGA)
 * @param DATA_WIDTH data width
 * @input clk_src clock signal (light different led on in round turn)
 * @input led_data raw decimal data
 * @output anodes determine which led light on at now
 * @output cnodes determine how led light on (number)
 */</span>
<span class="token keyword">module</span> led_unit
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk_src<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> led_data<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> anodes<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> cnodes
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> count<span class="token punctuation">;</span> <span class="token comment">// 2^3 = 8</span>
    <span class="token keyword">wire</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> seg_data<span class="token punctuation">;</span>

    <span class="token keyword">initial</span> <span class="token keyword">begin</span>
        count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        anodes <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        cnodes <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>

    data_to_segment #<span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">DATA_WIDTH</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token punctuation">)</span>
    <span class="token punctuation">)</span> data_to_segment <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>led_data<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">seg_data</span><span class="token punctuation">(</span>seg_data<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk_src<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>

    <span class="token important">always @</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span>
            <span class="token number">3&apos;b000</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11111110</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b001</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11111101</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b010</span><span class="token punctuation">:</span>  <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11111011</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b011</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11110111</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b100</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11101111</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">39</span><span class="token punctuation">:</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b101</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11011111</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">47</span><span class="token punctuation">:</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b110</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b10111111</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">:</span><span class="token number">48</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token number">3&apos;b111</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b01111111</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> seg_data<span class="token punctuation">[</span><span class="token number">63</span><span class="token punctuation">:</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token keyword">begin</span>
            anodes <span class="token operator">=</span> <span class="token number">8&apos;b11111110</span><span class="token punctuation">;</span>
            cnodes <span class="token operator">=</span> <span class="token number">8&apos;b11111111</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token keyword">endcase</span>
    <span class="token keyword">end</span>

<span class="token keyword">endmodule</span>
</code></pre>
<h3 id="alu-unit"><a name="alu-unit" class="anchor-navigation-ex-anchor" href="#alu-unit"><i class="fa fa-link" aria-hidden="true"></i></a>21.3. ALU Unit</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module counter
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief up counter
 * @param DATA_WIDTH data width
 * @param STEP counting step
 * @input clk clock signal
 * @input rst reset signal
 * @output en enable signal
 * @output count counting value
 */</span>
<span class="token keyword">module</span> counter
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> STEP <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk<span class="token punctuation">,</span>
    <span class="token keyword">input</span> rst<span class="token punctuation">,</span>
    <span class="token keyword">input</span> en<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> count
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rst<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            count <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>en<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            count <span class="token operator">&lt;=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">begin</span>
            count <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

<span class="token keyword">endmodule</span> <span class="token comment">// counter</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module latch_counter
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief latch counter (latching when reaching max vlaue)
 * @input clk clock signal
 * @input rst reset signal
 * @output en enable signal
 * @output count counting value
 */</span>
<span class="token keyword">module</span> latch_counter
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk<span class="token punctuation">,</span>
    <span class="token keyword">input</span> rst<span class="token punctuation">,</span>
    <span class="token keyword">input</span> en<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> count
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">initial</span> <span class="token keyword">begin</span>
        count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>

    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rst<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            count <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>en<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">begin</span>
                count <span class="token operator">&lt;=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">begin</span>
                count <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span>
            <span class="token keyword">end</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">begin</span>
            count <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

<span class="token keyword">endmodule</span> <span class="token comment">// latch_counter</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module alu_flags
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief get flags after alu calculation
 * @param DATA_WIDTH data width
 * @input srcA A port data
 * @input srcB B port data
 * @input aluop operation code
 * @output zero equal flag
 * @output of signed overflow flag
 * @output uof unsigned overflow flag
 */</span>
<span class="token keyword">module</span> alu_flags
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> srcA<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> srcB<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> aluop<span class="token punctuation">,</span>
    <span class="token keyword">output</span> zero<span class="token punctuation">,</span>
    <span class="token keyword">output</span> of<span class="token punctuation">,</span>
    <span class="token keyword">output</span> uof
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">wire</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum<span class="token punctuation">,</span> diff<span class="token punctuation">;</span>
    <span class="token keyword">wire</span> carry1<span class="token punctuation">,</span> carry2<span class="token punctuation">;</span>

    <span class="token keyword">assign</span> <span class="token operator">{</span>carry1<span class="token punctuation">,</span> sum<span class="token operator">}</span> <span class="token operator">=</span> srcA <span class="token operator">+</span> srcB<span class="token punctuation">;</span>    <span class="token comment">// awesome tip</span>
    <span class="token keyword">assign</span> <span class="token operator">{</span>carry2<span class="token punctuation">,</span> diff<span class="token operator">}</span> <span class="token operator">=</span> srcA <span class="token operator">-</span> srcB<span class="token punctuation">;</span>    <span class="token comment">// awesome tip</span>

    <span class="token keyword">assign</span> zero <span class="token operator">=</span> <span class="token punctuation">(</span>srcA <span class="token operator">==</span> srcB<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> of <span class="token operator">=</span> <span class="token punctuation">(</span>aluop <span class="token operator">==</span> <span class="token number">4&apos;d5</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
      <span class="token punctuation">(</span>srcA<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> srcB<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token operator">~</span>sum<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">~</span>srcA<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token operator">~</span>srcB<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> sum<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">:</span> <span class="token punctuation">(</span>aluop <span class="token operator">==</span> <span class="token number">4&apos;d6</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
      <span class="token punctuation">(</span>srcA<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token operator">~</span>srcB<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token operator">~</span>diff<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">~</span>srcA<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> srcB<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> diff<span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> uof <span class="token operator">=</span> <span class="token punctuation">(</span>aluop <span class="token operator">==</span> <span class="token number">4&apos;d5</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>carry1<span class="token punctuation">)</span>
                <span class="token punctuation">:</span> <span class="token punctuation">(</span>aluop <span class="token operator">==</span> <span class="token number">4&apos;d6</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>carry2<span class="token punctuation">)</span>
                <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span> <span class="token comment">// alu_flags</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module alu
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @param DATA_WIDTH data width
 * @input srcA A port data
 * @input srcB B port data
 * @input aluop operation code
 * @ouput aluout calculation result
 * @output zero equal flag
 * @output of signed overflow flag
 * @output uof unsigned overflow flag
 */</span>
<span class="token keyword">module</span> alu
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> srcA<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> srcB<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> aluop<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> aluout<span class="token punctuation">,</span>
    <span class="token keyword">output</span> zero<span class="token punctuation">,</span>
    <span class="token keyword">output</span> of<span class="token punctuation">,</span>
    <span class="token keyword">output</span> uof
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">wire</span> <span class="token keyword">signed</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> signed_srcA<span class="token punctuation">;</span>
    <span class="token keyword">wire</span> <span class="token keyword">signed</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> signed_srcB<span class="token punctuation">;</span>

    <span class="token keyword">assign</span> signed_srcA <span class="token operator">=</span> <span class="token property">$signed</span><span class="token punctuation">(</span>srcA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> signed_srcB <span class="token operator">=</span> <span class="token property">$signed</span><span class="token punctuation">(</span>srcB<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token important">always @</span> <span class="token punctuation">(</span> <span class="token operator">*</span> <span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>aluop<span class="token punctuation">)</span>
            <span class="token number">4&apos;d0</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">&lt;&lt;</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d1</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> signed_srcA <span class="token operator">&gt;&gt;&gt;</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d2</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">&gt;&gt;</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d3</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">*</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d4</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">/</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d5</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">+</span> srcB<span class="token punctuation">;</span>  <span class="token comment">// awesome tip</span>
            <span class="token number">4&apos;d6</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">-</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d7</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">&amp;</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d8</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">|</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d9</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> srcA <span class="token operator">^</span> srcB<span class="token punctuation">;</span>
            <span class="token number">4&apos;d10</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> <span class="token operator">~</span><span class="token punctuation">(</span>srcA <span class="token operator">|</span> srcB<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token number">4&apos;d11</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>signed_srcA <span class="token operator">&lt;</span> signed_srcB<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token number">4&apos;d12</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>srcA <span class="token operator">&lt;</span> srcB<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token punctuation">:</span> aluout <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">endcase</span>
    <span class="token keyword">end</span>

    alu_flags #<span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">DATA_WIDTH</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token punctuation">)</span>
    <span class="token punctuation">)</span> FLAGS  <span class="token punctuation">(</span>
        <span class="token punctuation">.</span><span class="token function">srcA</span><span class="token punctuation">(</span>srcA<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">srcB</span><span class="token punctuation">(</span>srcB<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">aluop</span><span class="token punctuation">(</span>aluop<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">zero</span><span class="token punctuation">(</span>zero<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>of<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token function">uof</span><span class="token punctuation">(</span>uof<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span> <span class="token comment">// alu</span>
</code></pre>
<h3 id="memory-unit"><a name="memory-unit" class="anchor-navigation-ex-anchor" href="#memory-unit"><i class="fa fa-link" aria-hidden="true"></i></a>21.4. Memory Unit</h3>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module register
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief D filp flop
 * @param DATA_WIDTH data width
 * @input clk clock signal
 * @input rst reset signal
 * @input en enable signal
 * @input din data in
 * @ouput dout data out
 */</span>
<span class="token keyword">module</span> register
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk<span class="token punctuation">,</span>
    <span class="token keyword">input</span> rst<span class="token punctuation">,</span>
    <span class="token keyword">input</span> en<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> din<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> dout
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token important">always @</span> <span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rst<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            dout <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment">// reset</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>en<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            dout <span class="token operator">&lt;=</span> din<span class="token punctuation">;</span>    <span class="token comment">// update</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">begin</span>
            dout <span class="token operator">&lt;=</span> dout<span class="token punctuation">;</span>   <span class="token comment">// hold</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

<span class="token keyword">endmodule</span> <span class="token comment">// register</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module regfile
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief register files for MIPS CPU, contains 32 D flip-flop registers
 * @param DATA_WIDTH data width
 * @input clk clock signal
 * @input we write enable signal
 * @input raddrA read address (No.register) for A out port
 * @input raddrB read address (No.register) for B out port
 * @input waddr write address (No.register) for wdata (in port)
 * @input wdata data to write into regfile
 * @output regA A port output
 * @output regB B port output
 */</span>
<span class="token keyword">module</span> regfile
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk<span class="token punctuation">,</span>
    <span class="token keyword">input</span> rst<span class="token punctuation">,</span>
    <span class="token keyword">input</span> we<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> raddrA<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> raddrB<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> waddr<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> wdata<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> regA<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> regB<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> v0_data<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a0_data
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token constant">`include</span> <span class="token string">&quot;defines.vh&quot;</span>

    <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> i<span class="token punctuation">;</span>

    <span class="token comment">///&lt; three ported regfile contains 32 registers</span>
    <span class="token keyword">reg</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> regfile <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token important">always @</span> <span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rst<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">31</span><span class="token punctuation">;</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token keyword">begin</span>
                    regfile<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">end</span>
        <span class="token keyword">end</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>we <span class="token operator">&amp;&amp;</span> waddr <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">begin</span>
            regfile<span class="token punctuation">[</span>waddr<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> wdata<span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">assign</span> regA <span class="token operator">=</span> <span class="token punctuation">(</span>we <span class="token operator">&amp;&amp;</span> waddr <span class="token operator">==</span> raddrA<span class="token punctuation">)</span> <span class="token operator">?</span> wdata
                <span class="token punctuation">:</span> <span class="token punctuation">(</span>raddrA <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> regfile<span class="token punctuation">[</span>raddrA<span class="token punctuation">]</span>
                <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> regB <span class="token operator">=</span> <span class="token punctuation">(</span>we <span class="token operator">&amp;&amp;</span> waddr <span class="token operator">==</span> raddrB<span class="token punctuation">)</span> <span class="token operator">?</span> wdata
                <span class="token punctuation">:</span> <span class="token punctuation">(</span>raddrB <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> regfile<span class="token punctuation">[</span>raddrB<span class="token punctuation">]</span>
                <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> v0_data <span class="token operator">=</span> regfile<span class="token punctuation">[</span><span class="token constant">`V0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> a0_data <span class="token operator">=</span> regfile<span class="token punctuation">[</span><span class="token constant">`A0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span> <span class="token comment">// regfile</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module imem
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief instruction cache memory (ROM)
 * @param DATA_WIDTH data width
 * @param BUS_WIDTH bus width
 * @param CODE_FILE MIPS assembly hexdecimal code file
 * @input addr memory address
 * @output rdata instruction read out from memory
 */</span>
<span class="token keyword">module</span> imem
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">,</span> BUS_WIDTH <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> CODE_FILE<span class="token operator">=</span> <span class="token string">&quot;mips/benchmark.hex&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>BUS_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> addr<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> rdata
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">reg</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> ROM <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span>BUS_WIDTH<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">initial</span> <span class="token keyword">begin</span>
        <span class="token property">$readmemh</span><span class="token punctuation">(</span>CODE_FILE<span class="token punctuation">,</span> ROM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span>BUS_WIDTH<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>

    <span class="token keyword">assign</span> rdata <span class="token operator">=</span> ROM<span class="token punctuation">[</span>addr<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span> <span class="token comment">// imem</span>
</code></pre>
<pre class="language-"><code class="lang-verilog"><span class="token comment">/**
 * @module dmem
 * @author sabertazimi
 * @email sabertazimi@gmail.com
 * @brief data cache memory (RAM)
 * @param DATA_WIDTH data width
 * @param BUS_WIDTH bus width
 * @input clk clock signal
 * @input re read enable signal
 * @input we write enable signal
 * @input addr memory address
 * @input wdata data write into memory
 * @output rdata data read out from memory
 */</span>
<span class="token keyword">module</span> dmem
#<span class="token punctuation">(</span><span class="token keyword">parameter</span> DATA_WIDTH <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">,</span> BUS_WIDTH <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    <span class="token keyword">input</span> clk<span class="token punctuation">,</span>
    <span class="token keyword">input</span> re<span class="token punctuation">,</span>
    <span class="token keyword">input</span> we<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>BUS_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> addr<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> wdata<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> switch_addr<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> rdata<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> led_data
<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">reg</span> <span class="token punctuation">[</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> RAM <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span>BUS_WIDTH<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token important">always @</span> <span class="token punctuation">(</span><span class="token keyword">posedge</span> clk<span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>we<span class="token punctuation">)</span> <span class="token keyword">begin</span>
            RAM<span class="token punctuation">[</span>addr<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> wdata<span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">assign</span> rdata <span class="token operator">=</span> re <span class="token operator">?</span> RAM<span class="token punctuation">[</span>addr<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token operator">{</span><span class="token punctuation">(</span>DATA_WIDTH<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">{</span><span class="token number">1&apos;bx</span><span class="token operator">}}</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> led_data <span class="token operator">=</span> RAM<span class="token punctuation">[</span>switch_addr<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">endmodule</span> <span class="token comment">// dmem</span>
</code></pre>
<footer class="page-footer"><span class="copyright">&#xA9; <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/sabertazimi/awesome-notes" property="cc:attributionName" rel="cc:attributionURL" target="_blank">sabertazimi</a> &#xB7; &#x9075;&#x5FAA; <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">&#x77E5;&#x8BC6;&#x5171;&#x4EAB; &#x7F72;&#x540D;-&#x975E;&#x5546;&#x4E1A;&#x6027;&#x4F7F;&#x7528; 4.0 &#x56FD;&#x9645; &#x8BB8;&#x53EF;&#x534F;&#x8BAE;</a> all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6700;&#x8FD1;&#x66F4;&#x65B0;&#xFF1A;
2021-07-15 21:57
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Verilog Basic Notes","level":"1.3.8.1","depth":3,"next":{"title":"Programming","level":"1.4","depth":1,"ref":"","articles":[{"title":"Android","level":"1.4.1","depth":2,"ref":"","articles":[{"title":"Android Basic Notes","level":"1.4.1.1","depth":3,"path":"programming/android/androidBasicNotes.md","ref":"programming/android/androidBasicNotes.md","articles":[]}]},{"title":"Code Guide","level":"1.4.2","depth":2,"ref":"","articles":[{"title":"Bug Guide Basic Notes","level":"1.4.2.1","depth":3,"path":"programming/codeGuide/bugGuideBasicNotes.md","ref":"programming/codeGuide/bugGuideBasicNotes.md","articles":[]},{"title":"Clean Code Basic Notes","level":"1.4.2.2","depth":3,"path":"programming/codeGuide/cleanCodeBasicNotes.md","ref":"programming/codeGuide/cleanCodeBasicNotes.md","articles":[]},{"title":"Code Review Basic Notes","level":"1.4.2.3","depth":3,"path":"programming/codeGuide/codeReviewBasicNotes.md","ref":"programming/codeGuide/codeReviewBasicNotes.md","articles":[]},{"title":"Design Patterns Notes","level":"1.4.2.4","depth":3,"path":"programming/codeGuide/designPatternsNotes.md","ref":"programming/codeGuide/designPatternsNotes.md","articles":[]}]},{"title":"Functional Programming","level":"1.4.3","depth":2,"ref":"","articles":[{"title":"Functional Programming Basic Notes","level":"1.4.3.1","depth":3,"path":"programming/functionalProgramming/functionalProgrammingBasicNotes.md","ref":"programming/functionalProgramming/functionalProgrammingBasicNotes.md","articles":[]}]},{"title":"Game","level":"1.4.4","depth":2,"ref":"","articles":[{"title":"Game Design Basic Notes","level":"1.4.4.1","depth":3,"path":"programming/game/gameDesignBasicNotes.md","ref":"programming/game/gameDesignBasicNotes.md","articles":[]}]},{"title":"Linux","level":"1.4.5","depth":2,"ref":"","articles":[{"title":"Linux Basic Notes","level":"1.4.5.1","depth":3,"path":"programming/linux/linuxBasicNotes.md","ref":"programming/linux/linuxBasicNotes.md","articles":[]}]},{"title":"Server","level":"1.4.6","depth":2,"ref":"","articles":[{"title":"Message Queue Basic Notes","level":"1.4.6.1","depth":3,"path":"programming/server/messageQueueBasicNotes.md","ref":"programming/server/messageQueueBasicNotes.md","articles":[]}]},{"title":"Tools","level":"1.4.7","depth":2,"ref":"","articles":[{"title":"Build Tools","level":"1.4.7.1","depth":3,"ref":"","articles":[{"title":"Cmake Basic Notes","level":"1.4.7.1.1","depth":4,"path":"programming/tools/buildTools/CmakeBasicNotes.md","ref":"programming/tools/buildTools/CmakeBasicNotes.md","articles":[]},{"title":"Makefile Basic Notes","level":"1.4.7.1.2","depth":4,"path":"programming/tools/buildTools/makefileBasicNotes.md","ref":"programming/tools/buildTools/makefileBasicNotes.md","articles":[]}]},{"title":"Git","level":"1.4.7.2","depth":3,"ref":"","articles":[{"title":"Git Basic Notes","level":"1.4.7.2.1","depth":4,"path":"programming/tools/git/gitBasicNotes.md","ref":"programming/tools/git/gitBasicNotes.md","articles":[]}]},{"title":"Vim","level":"1.4.7.3","depth":3,"ref":"","articles":[{"title":"Vim Basic Notes","level":"1.4.7.3.1","depth":4,"path":"programming/tools/vim/vimBasicNotes.md","ref":"programming/tools/vim/vimBasicNotes.md","articles":[]}]}]},{"title":"Web","level":"1.4.8","depth":2,"ref":"","articles":[{"title":"Angular","level":"1.4.8.1","depth":3,"ref":"","articles":[{"title":"Angular Basic Notes","level":"1.4.8.1.1","depth":4,"path":"programming/web/angular/angularBasicNotes.md","ref":"programming/web/angular/angularBasicNotes.md","articles":[]}]},{"title":"Css","level":"1.4.8.2","depth":3,"ref":"","articles":[{"title":"Bootstrap Basic Notes","level":"1.4.8.2.1","depth":4,"path":"programming/web/css/bootstrapBasicNotes.md","ref":"programming/web/css/bootstrapBasicNotes.md","articles":[]},{"title":"Css Advanced Notes","level":"1.4.8.2.2","depth":4,"path":"programming/web/css/cssAdvancedNotes.md","ref":"programming/web/css/cssAdvancedNotes.md","articles":[]},{"title":"Css Basic Notes","level":"1.4.8.2.3","depth":4,"path":"programming/web/css/cssBasicNotes.md","ref":"programming/web/css/cssBasicNotes.md","articles":[]},{"title":"Sass Basic Notes","level":"1.4.8.2.4","depth":4,"path":"programming/web/css/sassBasicNotes.md","ref":"programming/web/css/sassBasicNotes.md","articles":[]},{"title":"Sass Offical Reference","level":"1.4.8.2.5","depth":4,"path":"programming/web/css/sassOfficalReference.md","ref":"programming/web/css/sassOfficalReference.md","articles":[]}]},{"title":"Frameworks","level":"1.4.8.3","depth":3,"ref":"","articles":[{"title":"Electron Basic Notes","level":"1.4.8.3.1","depth":4,"path":"programming/web/frameworks/electronBasicNotes.md","ref":"programming/web/frameworks/electronBasicNotes.md","articles":[]},{"title":"J Query Basic Notes","level":"1.4.8.3.2","depth":4,"path":"programming/web/frameworks/jQueryBasicNotes.md","ref":"programming/web/frameworks/jQueryBasicNotes.md","articles":[]}]},{"title":"Html","level":"1.4.8.4","depth":3,"ref":"","articles":[{"title":"Html Basic Notes","level":"1.4.8.4.1","depth":4,"path":"programming/web/html/htmlBasicNotes.md","ref":"programming/web/html/htmlBasicNotes.md","articles":[]}]},{"title":"Javascript","level":"1.4.8.5","depth":3,"ref":"","articles":[{"title":"Javascript Advanced Notes","level":"1.4.8.5.1","depth":4,"path":"programming/web/javascript/javascriptAdvancedNotes.md","ref":"programming/web/javascript/javascriptAdvancedNotes.md","articles":[]},{"title":"Javascript Basic Notes","level":"1.4.8.5.2","depth":4,"path":"programming/web/javascript/javascriptBasicNotes.md","ref":"programming/web/javascript/javascriptBasicNotes.md","articles":[]},{"title":"Typescript Basic Notes","level":"1.4.8.5.3","depth":4,"path":"programming/web/javascript/typescriptBasicNotes.md","ref":"programming/web/javascript/typescriptBasicNotes.md","articles":[]}]},{"title":"Nodejs","level":"1.4.8.6","depth":3,"ref":"","articles":[{"title":"Express Basic Notes","level":"1.4.8.6.1","depth":4,"path":"programming/web/nodejs/expressBasicNotes.md","ref":"programming/web/nodejs/expressBasicNotes.md","articles":[]},{"title":"Graphql Basic Notes","level":"1.4.8.6.2","depth":4,"path":"programming/web/nodejs/graphqlBasicNotes.md","ref":"programming/web/nodejs/graphqlBasicNotes.md","articles":[]},{"title":"Nodejs Basic Notes","level":"1.4.8.6.3","depth":4,"path":"programming/web/nodejs/nodejsBasicNotes.md","ref":"programming/web/nodejs/nodejsBasicNotes.md","articles":[]}]},{"title":"Reactjs","level":"1.4.8.7","depth":3,"ref":"","articles":[{"title":"Reactjs Basic Notes","level":"1.4.8.7.1","depth":4,"path":"programming/web/reactjs/reactjsBasicNotes.md","ref":"programming/web/reactjs/reactjsBasicNotes.md","articles":[]},{"title":"React Router Basic Notes","level":"1.4.8.7.2","depth":4,"path":"programming/web/reactjs/reactRouterBasicNotes.md","ref":"programming/web/reactjs/reactRouterBasicNotes.md","articles":[]},{"title":"Redux Basic Notes","level":"1.4.8.7.3","depth":4,"path":"programming/web/reactjs/reduxBasicNotes.md","ref":"programming/web/reactjs/reduxBasicNotes.md","articles":[]},{"title":"Webpack Basic Notes","level":"1.4.8.7.4","depth":4,"path":"programming/web/reactjs/webpackBasicNotes.md","ref":"programming/web/reactjs/webpackBasicNotes.md","articles":[]}]},{"title":"Security","level":"1.4.8.8","depth":3,"ref":"","articles":[{"title":"Security Basic Notes","level":"1.4.8.8.1","depth":4,"path":"programming/web/security/securityBasicNotes.md","ref":"programming/web/security/securityBasicNotes.md","articles":[]}]},{"title":"Vuejs","level":"1.4.8.9","depth":3,"ref":"","articles":[{"title":"Vue Basic Notes","level":"1.4.8.9.1","depth":4,"path":"programming/web/vuejs/vueBasicNotes.md","ref":"programming/web/vuejs/vueBasicNotes.md","articles":[]}]},{"title":"Library Basic Notes","level":"1.4.8.10","depth":3,"path":"programming/web/libraryBasicNotes.md","ref":"programming/web/libraryBasicNotes.md","articles":[]}]}]},"previous":{"title":"Verilog","level":"1.3.8","depth":2,"ref":"","articles":[{"title":"Verilog Basic Notes","level":"1.3.8.1","depth":3,"path":"language/verilog/verilogBasicNotes.md","ref":"language/verilog/verilogBasicNotes.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-plus","splitter","anchors","anchor-navigation-ex","copy-code-button","expandable-chapters","theme-darkblue","theme-comscore","tbfed-pagefooter","prism","-highlight","github-buttons","edit-link","disqus","introsum"],"ignores":[".*","build","_book","gitbook","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"&copy <a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"https://github.com/sabertazimi/awesome-notes\" property=\"cc:attributionName\" rel=\"cc:attributionURL\">sabertazimi</a> Â· éµå¾ª <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">ç¥è¯å±äº« ç½²å-éåä¸æ§ä½¿ç¨ 4.0 å½é è®¸å¯åè®®</a>","modify_label":"æè¿æ´æ°ï¼","modify_format":"YYYY-MM-DD HH:mm"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"disqus":{"useIdentifier":false,"shortName":"gitbook-8"},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-darkblue":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"theme-comscore":{},"github-buttons":{"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]},"copy-code-button":{},"sharing":{"facebook":false,"twitter":true,"google":false,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/sabertazimi/awesome-notes/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"introsum":{},"expandable-chapters":{},"search-plus":{}},"theme":"default","author":"sabertazimi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Awesome Notes","links":{"sidebar":{"Awesome Notes":"https://github.com/sabertazimi/awesome-notes"}},"gitbook":"*"},"file":{"path":"language/verilog/verilogBasicNotes.md","mtime":"2021-07-15T21:57:06.356Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-15T21:58:50.568Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

