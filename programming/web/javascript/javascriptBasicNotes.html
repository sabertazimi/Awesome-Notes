
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Javascript Basic Notes Â· Awesome Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="sabertazimi">
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="typescriptBasicNotes.html" />
    
    
    <link rel="prev" href="javascriptAdvancedNotes.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/sabertazimi/awesome-notes" target="_blank" class="custom-link">Awesome Notes</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Computer Science
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    Algorithms
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../../computerScience/algorithms/algorithmsBasicNotes.html">
            
                <a href="../../../computerScience/algorithms/algorithmsBasicNotes.html">
            
                    
                    Algorithms Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../../computerScience/algorithms/ojBasicNotes.html">
            
                <a href="../../../computerScience/algorithms/ojBasicNotes.html">
            
                    
                    Oj Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Architecture
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../../computerScience/architecture/archBasicNotes.html">
            
                <a href="../../../computerScience/architecture/archBasicNotes.html">
            
                    
                    Arch Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../../computerScience/architecture/graphProcessingNotes.html">
            
                <a href="../../../computerScience/architecture/graphProcessingNotes.html">
            
                    
                    Graph Processing Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    Compilers
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../../computerScience/compilers/compilersBasicNotes.html">
            
                <a href="../../../computerScience/compilers/compilersBasicNotes.html">
            
                    
                    Compilers Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    Data Base
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../../computerScience/dataBase/databaseBasicNotes.html">
            
                <a href="../../../computerScience/dataBase/databaseBasicNotes.html">
            
                    
                    Database Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" >
            
                <span>
            
                    
                    Network
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../../computerScience/network/networkBasicNotes.html">
            
                <a href="../../../computerScience/network/networkBasicNotes.html">
            
                    
                    Network Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" >
            
                <span>
            
                    
                    Operating Systems
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../../computerScience/operatingSystems/CSAPP.html">
            
                <a href="../../../computerScience/operatingSystems/CSAPP.html">
            
                    
                    CSAPP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../../../computerScience/operatingSystems/memoryManagementBasicNotes.html">
            
                <a href="../../../computerScience/operatingSystems/memoryManagementBasicNotes.html">
            
                    
                    Memory Management Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../../../computerScience/operatingSystems/operatingSystemsBasicNotes.html">
            
                <a href="../../../computerScience/operatingSystems/operatingSystemsBasicNotes.html">
            
                    
                    Operating Systems Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" >
            
                <span>
            
                    
                    Software Testing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../../computerScience/softwareTesting/softwareTestingBasicNotes.html">
            
                <a href="../../../computerScience/softwareTesting/softwareTestingBasicNotes.html">
            
                    
                    Software Testing Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" >
            
                <span>
            
                    
                    Virtualization
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../../../computerScience/virtualization/virtBasicNotes.html">
            
                <a href="../../../computerScience/virtualization/virtBasicNotes.html">
            
                    
                    Virt Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../../computerScience/latexBasicNotes.html">
            
                <a href="../../../computerScience/latexBasicNotes.html">
            
                    
                    Latex Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Language
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Assembly
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../../language/assembly/AssemblyBasic.html">
            
                <a href="../../../language/assembly/AssemblyBasic.html">
            
                    
                    Assembly Basic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    C
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="../../../language/c/tools/awesomeTools.html">
            
                <a href="../../../language/c/tools/awesomeTools.html">
            
                    
                    Awesome Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.2" data-path="../../../language/c/tools/gdbTutorial.html">
            
                <a href="../../../language/c/tools/gdbTutorial.html">
            
                    
                    Gdb Tutorial
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../../language/c/cBasicNotes.html">
            
                <a href="../../../language/c/cBasicNotes.html">
            
                    
                    C Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../../language/c/namingConventions.html">
            
                <a href="../../../language/c/namingConventions.html">
            
                    
                    Naming Conventions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../../language/c/standardLibrary.html">
            
                <a href="../../../language/c/standardLibrary.html">
            
                    
                    Standard Library
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Cpp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../../language/cpp/cppBasicNotes.html">
            
                <a href="../../../language/cpp/cppBasicNotes.html">
            
                    
                    Cpp Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Go
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../../language/go/goBasicNotes.html">
            
                <a href="../../../language/go/goBasicNotes.html">
            
                    
                    Go Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" >
            
                <span>
            
                    
                    Haskell
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../../../language/haskell/haskellBasicNotes.html">
            
                <a href="../../../language/haskell/haskellBasicNotes.html">
            
                    
                    Haskell Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../../../language/java/javaBasicNotes.html">
            
                <a href="../../../language/java/javaBasicNotes.html">
            
                    
                    Java Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../../../language/java/javaNamingConventions.html">
            
                <a href="../../../language/java/javaNamingConventions.html">
            
                    
                    Java Naming Conventions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../../language/python/pythonBasicNotes.html">
            
                <a href="../../../language/python/pythonBasicNotes.html">
            
                    
                    Python Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" >
            
                <span>
            
                    
                    Verilog
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.8.1" data-path="../../../language/verilog/verilogBasicNotes.html">
            
                <a href="../../../language/verilog/verilogBasicNotes.html">
            
                    
                    Verilog Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../android/androidBasicNotes.html">
            
                <a href="../../android/androidBasicNotes.html">
            
                    
                    Android Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Code Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../codeGuide/bugGuideBasicNotes.html">
            
                <a href="../../codeGuide/bugGuideBasicNotes.html">
            
                    
                    Bug Guide Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../codeGuide/cleanCodeBasicNotes.html">
            
                <a href="../../codeGuide/cleanCodeBasicNotes.html">
            
                    
                    Clean Code Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../codeGuide/codeReviewBasicNotes.html">
            
                <a href="../../codeGuide/codeReviewBasicNotes.html">
            
                    
                    Code Review Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../codeGuide/designPatternsNotes.html">
            
                <a href="../../codeGuide/designPatternsNotes.html">
            
                    
                    Design Patterns Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    Functional Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../../functionalProgramming/functionalProgrammingBasicNotes.html">
            
                <a href="../../functionalProgramming/functionalProgrammingBasicNotes.html">
            
                    
                    Functional Programming Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    Game
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../../game/gameDesignBasicNotes.html">
            
                <a href="../../game/gameDesignBasicNotes.html">
            
                    
                    Game Design Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="../../linux/linuxBasicNotes.html">
            
                <a href="../../linux/linuxBasicNotes.html">
            
                    
                    Linux Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" >
            
                <span>
            
                    
                    Server
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../../server/messageQueueBasicNotes.html">
            
                <a href="../../server/messageQueueBasicNotes.html">
            
                    
                    Message Queue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" >
            
                <span>
            
                    
                    Build Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1.1" data-path="../../tools/buildTools/CmakeBasicNotes.html">
            
                <a href="../../tools/buildTools/CmakeBasicNotes.html">
            
                    
                    Cmake Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.1.2" data-path="../../tools/buildTools/makefileBasicNotes.html">
            
                <a href="../../tools/buildTools/makefileBasicNotes.html">
            
                    
                    Makefile Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.2.1" data-path="../../tools/git/gitBasicNotes.html">
            
                <a href="../../tools/git/gitBasicNotes.html">
            
                    
                    Git Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" >
            
                <span>
            
                    
                    Vim
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.3.1" data-path="../../tools/vim/vimBasicNotes.html">
            
                <a href="../../tools/vim/vimBasicNotes.html">
            
                    
                    Vim Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    Web
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1.1" data-path="../angular/angularBasicNotes.html">
            
                <a href="../angular/angularBasicNotes.html">
            
                    
                    Angular Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" >
            
                <span>
            
                    
                    Css
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.2.1" data-path="../css/bootstrapBasicNotes.html">
            
                <a href="../css/bootstrapBasicNotes.html">
            
                    
                    Bootstrap Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.2" data-path="../css/cssAdvancedNotes.html">
            
                <a href="../css/cssAdvancedNotes.html">
            
                    
                    Css Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.3" data-path="../css/cssBasicNotes.html">
            
                <a href="../css/cssBasicNotes.html">
            
                    
                    Css Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.4" data-path="../css/sassBasicNotes.html">
            
                <a href="../css/sassBasicNotes.html">
            
                    
                    Sass Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.5" data-path="../css/sassOfficalReference.html">
            
                <a href="../css/sassOfficalReference.html">
            
                    
                    Sass Offical Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" >
            
                <span>
            
                    
                    Frameworks
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.3.1" data-path="../frameworks/electronBasicNotes.html">
            
                <a href="../frameworks/electronBasicNotes.html">
            
                    
                    Electron Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3.2" data-path="../frameworks/jQueryBasicNotes.html">
            
                <a href="../frameworks/jQueryBasicNotes.html">
            
                    
                    J Query Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.4" >
            
                <span>
            
                    
                    Html
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.4.1" data-path="../html/htmlBasicNotes.html">
            
                <a href="../html/htmlBasicNotes.html">
            
                    
                    Html Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.5.1" data-path="javascriptAdvancedNotes.html">
            
                <a href="javascriptAdvancedNotes.html">
            
                    
                    Javascript Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.8.5.2" data-path="javascriptBasicNotes.html">
            
                <a href="javascriptBasicNotes.html">
            
                    
                    Javascript Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.3" data-path="typescriptBasicNotes.html">
            
                <a href="typescriptBasicNotes.html">
            
                    
                    Typescript Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.6" >
            
                <span>
            
                    
                    Nodejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.6.1" data-path="../nodejs/expressBasicNotes.html">
            
                <a href="../nodejs/expressBasicNotes.html">
            
                    
                    Express Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.2" data-path="../nodejs/graphqlBasicNotes.html">
            
                <a href="../nodejs/graphqlBasicNotes.html">
            
                    
                    Graphql Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.3" data-path="../nodejs/nodejsBasicNotes.html">
            
                <a href="../nodejs/nodejsBasicNotes.html">
            
                    
                    Nodejs Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.7" >
            
                <span>
            
                    
                    Reactjs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.7.1" data-path="../reactjs/reactjsBasicNotes.html">
            
                <a href="../reactjs/reactjsBasicNotes.html">
            
                    
                    Reactjs Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.2" data-path="../reactjs/reactRouterBasicNotes.html">
            
                <a href="../reactjs/reactRouterBasicNotes.html">
            
                    
                    React Router Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.3" data-path="../reactjs/reduxBasicNotes.html">
            
                <a href="../reactjs/reduxBasicNotes.html">
            
                    
                    Redux Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.4" data-path="../reactjs/webpackBasicNotes.html">
            
                <a href="../reactjs/webpackBasicNotes.html">
            
                    
                    Webpack Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.8" >
            
                <span>
            
                    
                    Security
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.8.1" data-path="../security/securityBasicNotes.html">
            
                <a href="../security/securityBasicNotes.html">
            
                    
                    Security Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.9" >
            
                <span>
            
                    
                    Vuejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.9.1" data-path="../vuejs/vueBasicNotes.html">
            
                <a href="../vuejs/vueBasicNotes.html">
            
                    
                    Vue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.10" data-path="../libraryBasicNotes.html">
            
                <a href="../libraryBasicNotes.html">
            
                    
                    Library Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >Javascript Basic Notes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#javascript-basic-notes"><b> </b>JavaScript Basic Notes</a></li><ul><li><span class="title-icon "></span><a href="#&#x5E38;&#x91CF;"><b>1. </b>&#x5E38;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x53D8;&#x91CF;"><b>2. </b>&#x53D8;&#x91CF;</a></li><ul><li><span class="title-icon "></span><a href="#&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;-primitive-type"><b>2.1. </b>&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C; Primitive type</a></li><li><span class="title-icon "></span><a href="#&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C;-object-type"><b>2.2. </b>&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C; Object type</a></li><li><span class="title-icon "></span><a href="#date"><b>2.3. </b>Date</a></li><li><span class="title-icon "></span><a href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;"><b>2.4. </b>&#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x5C40;&#x90E8;&#x53D8;&#x91CF;"><b>2.5. </b>&#x5C40;&#x90E8;&#x53D8;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x53D8;&#x91CF;&#x63D0;&#x5347;-hoisting"><b>2.6. </b>&#x53D8;&#x91CF;&#x63D0;&#x5347; Hoisting</a></li><li><span class="title-icon "></span><a href="#&#x6570;&#x7EC4;&#x4E0E;-object-&#x540C;&#x6E90;"><b>2.7. </b>&#x6570;&#x7EC4;(&#x4E0E; Object &#x540C;&#x6E90;)</a></li><li><span class="title-icon "></span><a href="#&#x7C7B;&#x578B;&#x68C0;&#x6D4B;"><b>2.8. </b>&#x7C7B;&#x578B;&#x68C0;&#x6D4B;</a></li><li><span class="title-icon "></span><a href="#&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;type-coercion"><b>2.9. </b>&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;(Type Coercion)</a></li></ul><li><span class="title-icon "></span><a href="#&#x8FD0;&#x7B97;&#x7B26;"><b>3. </b>&#x8FD0;&#x7B97;&#x7B26;</a></li><ul><li><span class="title-icon "></span><a href="#loose-comparison"><b>3.1. </b>Loose Comparison</a></li><li><span class="title-icon "></span><a href="#&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;"><b>3.2. </b>&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;</a></li><li><span class="title-icon "></span><a href="#add-operator"><b>3.3. </b>Add Operator</a></li></ul><li><span class="title-icon "></span><a href="#&#x63A7;&#x5236;&#x6D41;&#x7A0B;"><b>4. </b>&#x63A7;&#x5236;&#x6D41;&#x7A0B;</a></li><ul><li><span class="title-icon "></span><a href="#switchcase"><b>4.1. </b>switch/case</a></li></ul><li><span class="title-icon "></span><a href="#&#x5BF9;&#x8C61;"><b>5. </b>&#x5BF9;&#x8C61;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;"><b>5.1. </b>&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;</a></li><li><span class="title-icon "></span><a href="#&#x539F;&#x578B;&#x94FE;"><b>5.2. </b>&#x539F;&#x578B;&#x94FE;</a></li><li><span class="title-icon "></span><a href="#&#x6784;&#x9020;&#x51FD;&#x6570;"><b>5.3. </b>&#x6784;&#x9020;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#&#x5168;&#x5C40;&#x5BF9;&#x8C61;"><b>5.4. </b>&#x5168;&#x5C40;&#x5BF9;&#x8C61;</a></li><li><span class="title-icon "></span><a href="#&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;"><b>5.5. </b>&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;"><b>5.6. </b>&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;"><b>5.7. </b>&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;</a></li><li><span class="title-icon "></span><a href="#&#x666E;&#x901A;&#x5C5E;&#x6027;"><b>5.8. </b>&#x666E;&#x901A;&#x5C5E;&#x6027;</a></li><li><span class="title-icon "></span><a href="#&#x666E;&#x901A;&#x65B9;&#x6CD5;"><b>5.9. </b>&#x666E;&#x901A;&#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#class-&#x5F0F;&#x7EE7;&#x627F;"><b>5.10. </b>Class &#x5F0F;&#x7EE7;&#x627F;</a></li><li><span class="title-icon "></span><a href="#&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;"><b>5.11. </b>&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;</a></li><li><span class="title-icon "></span><a href="#&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;"><b>5.12. </b>&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;</a></li><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;&#x5BF9;&#x8C61;"><b>5.13. </b>&#x9519;&#x8BEF;&#x5BF9;&#x8C61;</a></li></ul><li><span class="title-icon "></span><a href="#&#x51FD;&#x6570;"><b>6. </b>&#x51FD;&#x6570;</a></li><ul><li><span class="title-icon "></span><a href="#invocation-patterns-and-this-bindings"><b>6.1. </b>Invocation Patterns and This Bindings</a></li><li><span class="title-icon "></span><a href="#prototype"><b>6.2. </b>prototype</a></li><li><span class="title-icon "></span><a href="#arguments"><b>6.3. </b>arguments</a></li><li><span class="title-icon "></span><a href="#&#x4F5C;&#x7528;&#x57DF;&#x94FE;"><b>6.4. </b>&#x4F5C;&#x7528;&#x57DF;&#x94FE;</a></li><li><span class="title-icon "></span><a href="#&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;"><b>6.5. </b>&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;</a></li><li><span class="title-icon "></span><a href="#&#x51FD;&#x6570;&#x5165;&#x53C2;"><b>6.6. </b>&#x51FD;&#x6570;&#x5165;&#x53C2;</a></li><li><span class="title-icon "></span><a href="#&#x56DE;&#x8C03;&#x51FD;&#x6570;"><b>6.7. </b>&#x56DE;&#x8C03;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;"><b>6.8. </b>&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;/&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;</a></li><li><span class="title-icon "></span><a href="#&#x5373;&#x65F6;&#x51FD;&#x6570;"><b>6.9. </b>&#x5373;&#x65F6;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#callapplybind"><b>6.10. </b>call/apply/bind</a></li><li><span class="title-icon "></span><a href="#&#x591A;&#x6001;&#x65B9;&#x6CD5;"><b>6.11. </b>&#x591A;&#x6001;&#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#eval"><b>6.12. </b>eval</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x7528;&#x51FD;&#x6570;"><b>6.13. </b>&#x5E38;&#x7528;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x7528;&#x6A21;&#x5F0F;"><b>6.14. </b>&#x5E38;&#x7528;&#x6A21;&#x5F0F;</a></li></ul><li><span class="title-icon "></span><a href="#&#x6A21;&#x5757;&#x5316;"><b>7. </b>&#x6A21;&#x5757;&#x5316;</a></li><ul><li><span class="title-icon "></span><a href="#&#x547D;&#x540D;&#x7A7A;&#x95F4;"><b>7.1. </b>&#x547D;&#x540D;&#x7A7A;&#x95F4;</a></li><li><span class="title-icon "></span><a href="#&#x6C99;&#x76D2;&#x6A21;&#x5F0F;"><b>7.2. </b>&#x6C99;&#x76D2;&#x6A21;&#x5F0F;</a></li></ul><li><span class="title-icon "></span><a href="#javascript-dom-basic-notes"><b>8. </b>JavaScript DOM Basic Notes</a></li><ul><li><span class="title-icon "></span><a href="#dom---o"><b>8.1. </b>DOM - O</a></li><li><span class="title-icon "></span><a href="#dom-core"><b>8.2. </b>DOM Core</a></li><li><span class="title-icon "></span><a href="#html-dom"><b>8.3. </b>HTML DOM</a></li><li><span class="title-icon "></span><a href="#cssom"><b>8.4. </b>CSSOM</a></li><li><span class="title-icon "></span><a href="#dom-events"><b>8.5. </b>DOM Events</a></li><li><span class="title-icon "></span><a href="#document"><b>8.6. </b>Document</a></li><li><span class="title-icon "></span><a href="#window"><b>8.7. </b>Window</a></li><li><span class="title-icon "></span><a href="#rect-api"><b>8.8. </b>Rect API</a></li><li><span class="title-icon "></span><a href="#mutation-observer-api"><b>8.9. </b>Mutation Observer API</a></li></ul><li><span class="title-icon "></span><a href="#ajax"><b>9. </b>Ajax</a></li><ul><li><span class="title-icon "></span><a href="#&#x57FA;&#x672C;&#x7528;&#x6CD5;"><b>9.1. </b>&#x57FA;&#x672C;&#x7528;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#&#x7B80;&#x5355;&#x5C01;&#x88C5;"><b>9.2. </b>&#x7B80;&#x5355;&#x5C01;&#x88C5;</a></li><li><span class="title-icon "></span><a href="#&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;"><b>9.3. </b>&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;</a></li></ul><li><span class="title-icon "></span><a href="#json"><b>10. </b>JSON</a></li><ul><li><span class="title-icon "></span><a href="#jquery"><b>10.1. </b>jQuery</a></li></ul><li><span class="title-icon "></span><a href="#&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><b>11. </b>&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</a></li><ul><li><span class="title-icon "></span><a href="#flags"><b>11.1. </b>Flags</a></li><li><span class="title-icon "></span><a href="#&#x5143;&#x5B57;&#x7B26;"><b>11.2. </b>&#x5143;&#x5B57;&#x7B26;</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;"><b>11.3. </b>&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;</a></li><li><span class="title-icon "></span><a href="#&#x53CD;&#x5411;&#x5F15;&#x7528;"><b>11.4. </b>&#x53CD;&#x5411;&#x5F15;&#x7528;</a></li><li><span class="title-icon "></span><a href="#regexp-&#x9759;&#x6001;&#x5C5E;&#x6027;"><b>11.5. </b>RegExp &#x9759;&#x6001;&#x5C5E;&#x6027;</a></li><li><span class="title-icon "></span><a href="#&#x5206;&#x7EC4;&#x8BED;&#x6CD5;"><b>11.6. </b>&#x5206;&#x7EC4;&#x8BED;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#best-practice&#x63D0;&#x5347;&#x6548;&#x7387;"><b>11.7. </b>Best Practice(&#x63D0;&#x5347;&#x6548;&#x7387;)</a></li><li><span class="title-icon "></span><a href="#regexp-&#x5E38;&#x7528;&#x51FD;&#x6570;"><b>11.8. </b>RegExp &#x5E38;&#x7528;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><b>11.9. </b>&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</a></li></ul><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;&#x5904;&#x7406;errorexception"><b>12. </b>&#x9519;&#x8BEF;&#x5904;&#x7406;(Error/Exception)</a></li><ul><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;&#x7C7B;&#x578B;"><b>12.1. </b>&#x9519;&#x8BEF;&#x7C7B;&#x578B;</a></li><li><span class="title-icon "></span><a href="#&#x5F02;&#x5E38;&#x4F5C;&#x7528;"><b>12.2. </b>&#x5F02;&#x5E38;&#x4F5C;&#x7528;</a></li></ul><li><span class="title-icon "></span><a href="#asynchronous-programming"><b>13. </b>Asynchronous Programming</a></li><ul><li><span class="title-icon "></span><a href="#promise"><b>13.1. </b>Promise</a></li><li><span class="title-icon "></span><a href="#awaitasync"><b>13.2. </b>await/async</a></li><li><span class="title-icon "></span><a href="#sleep-function"><b>13.3. </b>Sleep Function</a></li><li><span class="title-icon "></span><a href="#race-condition"><b>13.4. </b>Race Condition</a></li></ul><li><span class="title-icon "></span><a href="#geolocation-api"><b>14. </b>Geolocation API</a></li><li><span class="title-icon "></span><a href="#web-audio-api"><b>15. </b>Web Audio API</a></li><ul><li><span class="title-icon "></span><a href="#from-oscillator"><b>15.1. </b>From Oscillator</a></li><li><span class="title-icon "></span><a href="#from-music-data"><b>15.2. </b>From Music Data</a></li><li><span class="title-icon "></span><a href="#audio-bar-chart-with-canvas"><b>15.3. </b>Audio Bar Chart with Canvas</a></li></ul><li><span class="title-icon "></span><a href="#web-storage-api"><b>16. </b>Web Storage API</a></li><li><span class="title-icon "></span><a href="#web-navigator-api"><b>17. </b>Web Navigator API</a></li><li><span class="title-icon "></span><a href="#web-files-api"><b>18. </b>Web Files API</a></li><li><span class="title-icon "></span><a href="#web-sockets-api"><b>19. </b>Web Sockets API</a></li><li><span class="title-icon "></span><a href="#web-rtc-api"><b>20. </b>Web RTC API</a></li><li><span class="title-icon "></span><a href="#web-workers-api"><b>21. </b>Web Workers API</a></li><li><span class="title-icon "></span><a href="#web-animations-api"><b>22. </b>Web Animations API</a></li><li><span class="title-icon "></span><a href="#web-canvas-api"><b>23. </b>Web Canvas API</a></li><ul><li><span class="title-icon "></span><a href="#basic-usage"><b>23.1. </b>Basic Usage</a></li><li><span class="title-icon "></span><a href="#game-loop-with-canvas"><b>23.2. </b>Game Loop With Canvas</a></li><li><span class="title-icon "></span><a href="#canvas-performance"><b>23.3. </b>Canvas Performance</a></li><li><span class="title-icon "></span><a href="#canvas-reference"><b>23.4. </b>Canvas Reference</a></li></ul><li><span class="title-icon "></span><a href="#gamepad-api"><b>24. </b>Gamepad API</a></li><li><span class="title-icon "></span><a href="#url-api"><b>25. </b>URL API</a></li><li><span class="title-icon "></span><a href="#observer-api"><b>26. </b>Observer API</a></li><ul><li><span class="title-icon "></span><a href="#intersection-observer"><b>26.1. </b>Intersection Observer</a></li></ul></ul></ul></div><a href="#javascript-basic-notes" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="javascript-basic-notes"><a name="javascript-basic-notes" class="anchor-navigation-ex-anchor" href="#javascript-basic-notes"><i class="fa fa-link" aria-hidden="true"></i></a> JavaScript Basic Notes</h1>
<!-- TOC -->
<ul>
<li><a href="#javascript-basic-notes">JavaScript Basic Notes</a><ul>
<li><a href="#&#x5E38;&#x91CF;">&#x5E38;&#x91CF;</a></li>
<li><a href="#&#x53D8;&#x91CF;">&#x53D8;&#x91CF;</a><ul>
<li><a href="#&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;-primitive-type">&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C; Primitive type</a><ul>
<li><a href="#undefined">undefined</a></li>
<li><a href="#null">null</a></li>
<li><a href="#float">float</a></li>
<li><a href="#&#x975E;&#x6570;-nan">&#x975E;&#x6570; NaN</a></li>
<li><a href="#number">number</a><ul>
<li><a href="#infinity">Infinity</a></li>
</ul>
</li>
<li><a href="#string">string</a><ul>
<li><a href="#&#x5F15;&#x7528;&#x7279;&#x6027;">&#x5F15;&#x7528;&#x7279;&#x6027;</a></li>
<li><a href="#&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x57FA;&#x672C;&#x53D8;&#x91CF;">&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;(&#x57FA;&#x672C;&#x53D8;&#x91CF;)</a></li>
<li><a href="#&#x57FA;&#x672C;&#x64CD;&#x4F5C;">&#x57FA;&#x672C;&#x64CD;&#x4F5C;</a></li>
</ul>
</li>
<li><a href="#object-wrappers-for-primitive-type">Object Wrappers for Primitive Type</a></li>
</ul>
</li>
<li><a href="#&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C;-object-type">&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C; Object type</a></li>
<li><a href="#date">Date</a></li>
<li><a href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;">&#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li>
<li><a href="#&#x5C40;&#x90E8;&#x53D8;&#x91CF;">&#x5C40;&#x90E8;&#x53D8;&#x91CF;</a></li>
<li><a href="#&#x53D8;&#x91CF;&#x63D0;&#x5347;-hoisting">&#x53D8;&#x91CF;&#x63D0;&#x5347; Hoisting</a></li>
<li><a href="#&#x6570;&#x7EC4;&#x4E0E;-object-&#x540C;&#x6E90;">&#x6570;&#x7EC4;(&#x4E0E; Object &#x540C;&#x6E90;)</a><ul>
<li><a href="#length">length</a></li>
<li><a href="#&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;">&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;</a></li>
<li><a href="#&#x5E38;&#x7528;&#x65B9;&#x6CD5;">&#x5E38;&#x7528;&#x65B9;&#x6CD5;</a><ul>
<li><a href="#sort">sort</a></li>
<li><a href="#&#x5806;&#x6808;">&#x5806;&#x6808;</a></li>
<li><a href="#&#x5206;&#x5272;&#x5408;&#x5E76;">&#x5206;&#x5272;/&#x5408;&#x5E76;</a></li>
<li><a href="#&#x66FF;&#x6362;">&#x66FF;&#x6362;</a></li>
<li><a href="#&#x67E5;&#x8BE2;">&#x67E5;&#x8BE2;</a></li>
<li><a href="#&#x904D;&#x5386;">&#x904D;&#x5386;</a></li>
<li><a href="#deep-clone-of-array">Deep Clone of Array</a></li>
<li><a href="#&#x5176;&#x4ED6;">&#x5176;&#x4ED6;</a></li>
<li><a href="#array-tips">Array Tips</a></li>
<li><a href="#&#x9AD8;&#x9636;&#x51FD;&#x6570;">&#x9AD8;&#x9636;&#x51FD;&#x6570;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x7C7B;&#x578B;&#x68C0;&#x6D4B;">&#x7C7B;&#x578B;&#x68C0;&#x6D4B;</a><ul>
<li><a href="#best-practice">Best Practice</a></li>
<li><a href="#null-&#x68C0;&#x6D4B;">Null &#x68C0;&#x6D4B;</a></li>
<li><a href="#&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;">&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;</a></li>
<li><a href="#&#x5C5E;&#x6027;&#x68C0;&#x6D4B;">&#x5C5E;&#x6027;&#x68C0;&#x6D4B;</a></li>
</ul>
</li>
<li><a href="#&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;type-coercion">&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;(Type Coercion)</a><ul>
<li><a href="#&#x5BF9;&#x8C61;&#x8F6C;&#x6362;">&#x5BF9;&#x8C61;&#x8F6C;&#x6362;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x8FD0;&#x7B97;&#x7B26;">&#x8FD0;&#x7B97;&#x7B26;</a><ul>
<li><a href="#loose-comparison">Loose Comparison</a></li>
<li><a href="#&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;">&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;</a></li>
<li><a href="#add-operator">Add Operator</a></li>
</ul>
</li>
<li><a href="#&#x63A7;&#x5236;&#x6D41;&#x7A0B;">&#x63A7;&#x5236;&#x6D41;&#x7A0B;</a><ul>
<li><a href="#switchcase">switch/case</a></li>
</ul>
</li>
<li><a href="#&#x5BF9;&#x8C61;">&#x5BF9;&#x8C61;</a><ul>
<li><a href="#&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;">&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;</a></li>
<li><a href="#&#x539F;&#x578B;&#x94FE;">&#x539F;&#x578B;&#x94FE;</a></li>
<li><a href="#&#x6784;&#x9020;&#x51FD;&#x6570;">&#x6784;&#x9020;&#x51FD;&#x6570;</a><ul>
<li><a href="#&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;">&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;</a><ul>
<li><a href="#&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;">&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;</a></li>
<li><a href="#new-&#x6784;&#x9020;&#x51FD;&#x6570;">new &#x6784;&#x9020;&#x51FD;&#x6570;</a></li>
<li><a href="#objectcreate">Object.create</a></li>
</ul>
</li>
<li><a href="#&#x8FD4;&#x56DE;&#x503C;">&#x8FD4;&#x56DE;&#x503C;</a></li>
<li><a href="#instanceof">instanceof</a></li>
<li><a href="#&#x6700;&#x4F73;&#x5B9E;&#x8DF5;">&#x6700;&#x4F73;&#x5B9E;&#x8DF5;</a></li>
</ul>
</li>
<li><a href="#&#x5168;&#x5C40;&#x5BF9;&#x8C61;">&#x5168;&#x5C40;&#x5BF9;&#x8C61;</a></li>
<li><a href="#&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;">&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;</a><ul>
<li><a href="#&#x79C1;&#x6709;&#x5C5E;&#x6027;">&#x79C1;&#x6709;&#x5C5E;&#x6027;</a></li>
<li><a href="#&#x7279;&#x6743;&#x65B9;&#x6CD5;">&#x7279;&#x6743;&#x65B9;&#x6CD5;</a></li>
</ul>
</li>
<li><a href="#&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;">&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;</a><ul>
<li><a href="#&#x9759;&#x6001;&#x5C5E;&#x6027;">&#x9759;&#x6001;&#x5C5E;&#x6027;</a></li>
<li><a href="#&#x9759;&#x6001;&#x65B9;&#x6CD5;">&#x9759;&#x6001;&#x65B9;&#x6CD5;</a></li>
</ul>
</li>
<li><a href="#&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;">&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;</a></li>
<li><a href="#&#x666E;&#x901A;&#x5C5E;&#x6027;">&#x666E;&#x901A;&#x5C5E;&#x6027;</a></li>
<li><a href="#&#x666E;&#x901A;&#x65B9;&#x6CD5;">&#x666E;&#x901A;&#x65B9;&#x6CD5;</a></li>
<li><a href="#class-&#x5F0F;&#x7EE7;&#x627F;">Class &#x5F0F;&#x7EE7;&#x627F;</a><ul>
<li><a href="#&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;">&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;(&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;)</a></li>
<li><a href="#&#x7C7B;&#x7EE7;&#x627F;&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x539F;&#x578B;-&#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;">&#x7C7B;&#x7EE7;&#x627F;(<strong>&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;</strong>)&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;(<strong>&#x8BBE;&#x7F6E;&#x539F;&#x578B;</strong>) &#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;</a></li>
<li><a href="#kclass-&#x8BED;&#x6CD5;&#x7CD6;">kclass &#x8BED;&#x6CD5;&#x7CD6;</a></li>
</ul>
</li>
<li><a href="#&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;">&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;</a><ul>
<li><a href="#&#x5171;&#x4EAB;---&#x539F;&#x578B;&#x4EE3;&#x7406;prototype">&#x5171;&#x4EAB; - &#x539F;&#x578B;&#x4EE3;&#x7406;(prototype)</a></li>
<li><a href="#&#x72EC;&#x7ACB;---&#x539F;&#x578B;&#x514B;&#x9686;">&#x72EC;&#x7ACB; - &#x539F;&#x578B;&#x514B;&#x9686;</a><ul>
<li><a href="#&#x6D45;&#x514B;&#x9686;">&#x6D45;&#x514B;&#x9686;</a></li>
<li><a href="#&#x6DF1;&#x514B;&#x9686;">&#x6DF1;&#x514B;&#x9686;</a></li>
<li><a href="#&#x5C5E;&#x6027;&#x6DF7;&#x5165;---&#x591A;&#x91CD;&#x7EE7;&#x627F;">&#x5C5E;&#x6027;&#x6DF7;&#x5165; - &#x591A;&#x91CD;&#x7EE7;&#x627F;</a></li>
</ul>
</li>
<li><a href="#&#x5C01;&#x88C5;---&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x95ED;&#x5305;">&#x5C01;&#x88C5; - &#x5DE5;&#x5382;&#x65B9;&#x6CD5;(&#x95ED;&#x5305;)</a></li>
</ul>
</li>
<li><a href="#&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;">&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;</a></li>
<li><a href="#&#x9519;&#x8BEF;&#x5BF9;&#x8C61;">&#x9519;&#x8BEF;&#x5BF9;&#x8C61;</a></li>
</ul>
</li>
<li><a href="#&#x51FD;&#x6570;">&#x51FD;&#x6570;</a><ul>
<li><a href="#invocation-patterns-and-this-bindings">Invocation Patterns and This Bindings</a><ul>
<li><a href="#implicit-binding">Implicit Binding</a></li>
<li><a href="#explicit-binding">Explicit Binding</a></li>
<li><a href="#constructor-binding">Constructor Binding</a></li>
<li><a href="#arrow-function-binding">Arrow Function Binding</a></li>
</ul>
</li>
<li><a href="#prototype">prototype</a></li>
<li><a href="#arguments">arguments</a><ul>
<li><a href="#argumentscallee">arguments.callee</a></li>
</ul>
</li>
<li><a href="#&#x4F5C;&#x7528;&#x57DF;&#x94FE;">&#x4F5C;&#x7528;&#x57DF;&#x94FE;</a><ul>
<li><a href="#&#x5168;&#x5C40;&#x5BF9;&#x8C61;-window">&#x5168;&#x5C40;&#x5BF9;&#x8C61; window</a></li>
<li><a href="#&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;activation-object">&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;(Activation Object)</a></li>
</ul>
</li>
<li><a href="#&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;">&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;</a></li>
<li><a href="#&#x51FD;&#x6570;&#x5165;&#x53C2;">&#x51FD;&#x6570;&#x5165;&#x53C2;</a></li>
<li><a href="#&#x56DE;&#x8C03;&#x51FD;&#x6570;">&#x56DE;&#x8C03;&#x51FD;&#x6570;</a></li>
<li><a href="#&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;">&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;/&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;</a></li>
<li><a href="#&#x5373;&#x65F6;&#x51FD;&#x6570;">&#x5373;&#x65F6;&#x51FD;&#x6570;</a><ul>
<li><a href="#&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;">&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;</a></li>
<li><a href="#&#x6A21;&#x5F0F;&#x4F5C;&#x7528;">&#x6A21;&#x5F0F;&#x4F5C;&#x7528;</a></li>
<li><a href="#&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;">&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;</a></li>
</ul>
</li>
<li><a href="#callapplybind">call/apply/bind</a><ul>
<li><a href="#bind">bind</a></li>
<li><a href="#&#x901A;&#x8FC7;-callapply-&#x5B9E;&#x73B0;-bind-&#x51FD;&#x6570;">&#x901A;&#x8FC7; call/apply &#x5B9E;&#x73B0; bind &#x51FD;&#x6570;</a></li>
</ul>
</li>
<li><a href="#&#x591A;&#x6001;&#x65B9;&#x6CD5;">&#x591A;&#x6001;&#x65B9;&#x6CD5;</a></li>
<li><a href="#eval">eval</a></li>
<li><a href="#&#x5E38;&#x7528;&#x51FD;&#x6570;">&#x5E38;&#x7528;&#x51FD;&#x6570;</a><ul>
<li><a href="#object">Object</a></li>
<li><a href="#&#x7C7B;&#x578B;&#x5224;&#x65AD;">&#x7C7B;&#x578B;&#x5224;&#x65AD;</a></li>
<li><a href="#&#x89E3;&#x6790;&#x51FD;&#x6570;">&#x89E3;&#x6790;&#x51FD;&#x6570;</a></li>
<li><a href="#&#x6570;&#x5B66;&#x51FD;&#x6570;">&#x6570;&#x5B66;&#x51FD;&#x6570;</a></li>
<li><a href="#&#x65F6;&#x95F4;&#x51FD;&#x6570;">&#x65F6;&#x95F4;&#x51FD;&#x6570;</a><ul>
<li><a href="#setinterval">setInterval</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x5E38;&#x7528;&#x6A21;&#x5F0F;">&#x5E38;&#x7528;&#x6A21;&#x5F0F;</a><ul>
<li><a href="#api-&#x6A21;&#x5F0F;">API &#x6A21;&#x5F0F;</a><ul>
<li><a href="#&#x56DE;&#x8C03;&#x6A21;&#x5F0F;">&#x56DE;&#x8C03;&#x6A21;&#x5F0F;</a></li>
<li><a href="#&#x914D;&#x7F6E;&#x5BF9;&#x8C61;">&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</a></li>
<li><a href="#&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x95ED;&#x5305;">&#x8FD4;&#x56DE;&#x51FD;&#x6570;(&#x95ED;&#x5305;)</a></li>
<li><a href="#curry-&#x5316;">Curry &#x5316;</a></li>
<li><a href="#&#x94FE;&#x6A21;&#x5F0F;">&#x94FE;&#x6A21;&#x5F0F;</a></li>
</ul>
</li>
<li><a href="#&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;">&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;</a><ul>
<li><a href="#&#x5373;&#x4F7F;&#x51FD;&#x6570;">&#x5373;&#x4F7F;&#x51FD;&#x6570;</a></li>
<li><a href="#&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;">&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;</a></li>
<li><a href="#&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;">&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x6A21;&#x5757;&#x5316;">&#x6A21;&#x5757;&#x5316;</a><ul>
<li><a href="#&#x547D;&#x540D;&#x7A7A;&#x95F4;">&#x547D;&#x540D;&#x7A7A;&#x95F4;</a><ul>
<li><a href="#&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;">&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;</a></li>
</ul>
</li>
<li><a href="#&#x6C99;&#x76D2;&#x6A21;&#x5F0F;">&#x6C99;&#x76D2;&#x6A21;&#x5F0F;</a><ul>
<li><a href="#&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;">&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;</a></li>
<li><a href="#&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;">&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#javascript-dom-basic-notes">JavaScript DOM Basic Notes</a><ul>
<li><a href="#dom---o">DOM - O</a></li>
<li><a href="#dom-core">DOM Core</a><ul>
<li><a href="#dynamic-creation">dynamic creation</a><ul>
<li><a href="#append">append</a></li>
<li><a href="#insert">insert</a></li>
</ul>
</li>
<li><a href="#node">node</a><ul>
<li><a href="#traverse-dom-tree">Traverse DOM Tree</a></li>
</ul>
</li>
<li><a href="#frag">Frag</a></li>
</ul>
</li>
<li><a href="#html-dom">HTML DOM</a></li>
<li><a href="#cssom">CSSOM</a><ul>
<li><a href="#inline-styles">Inline Styles</a></li>
<li><a href="#getset-styles">Get/Set Styles</a></li>
<li><a href="#computed-styles">Computed Styles</a></li>
<li><a href="#css-class">CSS Class</a></li>
<li><a href="#cssstylesheet-interface">CSSStyleSheet Interface</a><ul>
<li><a href="#css-rules-definition">CSS Rules Definition</a></li>
<li><a href="#media-rule">Media Rule</a></li>
<li><a href="#keyframe-rule">Keyframe Rule</a></li>
<li><a href="#addremove-css-rules">Add/Remove CSS Rules</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#dom-events">DOM Events</a><ul>
<li><a href="#events-checking">Events Checking</a></li>
<li><a href="#global-dom-event">Global DOM Event</a></li>
<li><a href="#tab-visibility-event">Tab Visibility Event</a></li>
<li><a href="#form-events">Form Events</a></li>
<li><a href="#input-events">Input Events</a></li>
<li><a href="#mouse-events">Mouse Events</a></li>
<li><a href="#key-events">Key Events</a></li>
<li><a href="#clipboard-event">Clipboard Event</a></li>
<li><a href="#frame-events">Frame Events</a></li>
<li><a href="#user-defined-handler">User-Defined Handler</a></li>
</ul>
</li>
<li><a href="#document">Document</a></li>
<li><a href="#window">Window</a><ul>
<li><a href="#location-api">location API</a></li>
</ul>
</li>
<li><a href="#rect-api">Rect API</a><ul>
<li><a href="#widthheight">width/height</a></li>
<li><a href="#window-height">Window Height</a></li>
<li><a href="#scroll-size">Scroll Size</a></li>
<li><a href="#dom-lefttop-property">DOM left/top Property</a></li>
</ul>
</li>
<li><a href="#mutation-observer-api">Mutation Observer API</a></li>
</ul>
</li>
<li><a href="#ajax">Ajax</a><ul>
<li><a href="#&#x57FA;&#x672C;&#x7528;&#x6CD5;">&#x57FA;&#x672C;&#x7528;&#x6CD5;</a></li>
<li><a href="#&#x7B80;&#x5355;&#x5C01;&#x88C5;">&#x7B80;&#x5355;&#x5C01;&#x88C5;</a></li>
<li><a href="#&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;">&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;</a></li>
</ul>
</li>
<li><a href="#json">JSON</a><ul>
<li><a href="#jquery">jQuery</a></li>
</ul>
</li>
<li><a href="#&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;">&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</a><ul>
<li><a href="#flags">Flags</a></li>
<li><a href="#&#x5143;&#x5B57;&#x7B26;">&#x5143;&#x5B57;&#x7B26;</a></li>
<li><a href="#&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;">&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;</a></li>
<li><a href="#&#x53CD;&#x5411;&#x5F15;&#x7528;">&#x53CD;&#x5411;&#x5F15;&#x7528;</a></li>
<li><a href="#regexp-&#x9759;&#x6001;&#x5C5E;&#x6027;">RegExp &#x9759;&#x6001;&#x5C5E;&#x6027;</a></li>
<li><a href="#&#x5206;&#x7EC4;&#x8BED;&#x6CD5;">&#x5206;&#x7EC4;&#x8BED;&#x6CD5;</a></li>
<li><a href="#best-practice&#x63D0;&#x5347;&#x6548;&#x7387;">Best Practice(&#x63D0;&#x5347;&#x6548;&#x7387;)</a></li>
<li><a href="#regexp-&#x5E38;&#x7528;&#x51FD;&#x6570;">RegExp &#x5E38;&#x7528;&#x51FD;&#x6570;</a><ul>
<li><a href="#test">test</a></li>
<li><a href="#replace">replace</a><ul>
<li><a href="#replace-arguments">replace arguments</a><ul>
<li><a href="#replace-best-practice">replace best practice</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;">&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</a><ul>
<li><a href="#&#x4E2D;&#x82F1;&#x6587;">&#x4E2D;&#x82F1;&#x6587;</a></li>
<li><a href="#&#x6570;&#x5B57;">&#x6570;&#x5B57;</a></li>
<li><a href="#&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;">&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x9519;&#x8BEF;&#x5904;&#x7406;errorexception">&#x9519;&#x8BEF;&#x5904;&#x7406;(Error/Exception)</a><ul>
<li><a href="#&#x9519;&#x8BEF;&#x7C7B;&#x578B;">&#x9519;&#x8BEF;&#x7C7B;&#x578B;</a></li>
<li><a href="#&#x5F02;&#x5E38;&#x4F5C;&#x7528;">&#x5F02;&#x5E38;&#x4F5C;&#x7528;</a></li>
</ul>
</li>
<li><a href="#asynchronous-programming">Asynchronous Programming</a><ul>
<li><a href="#promise">Promise</a><ul>
<li><a href="#promiseall">Promise.all</a></li>
<li><a href="#promise-polyfill">Promise Polyfill</a></li>
</ul>
</li>
<li><a href="#awaitasync">await/async</a><ul>
<li><a href="#await-arrays">Await Arrays</a></li>
</ul>
</li>
<li><a href="#sleep-function">Sleep Function</a></li>
<li><a href="#race-condition">Race Condition</a></li>
</ul>
</li>
<li><a href="#geolocation-api">Geolocation API</a></li>
<li><a href="#web-audio-api">Web Audio API</a><ul>
<li><a href="#from-oscillator">From Oscillator</a></li>
<li><a href="#from-music-data">From Music Data</a></li>
<li><a href="#audio-bar-chart-with-canvas">Audio Bar Chart with Canvas</a></li>
</ul>
</li>
<li><a href="#web-storage-api">Web Storage API</a></li>
<li><a href="#web-navigator-api">Web Navigator API</a></li>
<li><a href="#web-files-api">Web Files API</a></li>
<li><a href="#web-sockets-api">Web Sockets API</a></li>
<li><a href="#web-rtc-api">Web RTC API</a></li>
<li><a href="#web-workers-api">Web Workers API</a></li>
<li><a href="#web-animations-api">Web Animations API</a></li>
<li><a href="#web-canvas-api">Web Canvas API</a><ul>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#game-loop-with-canvas">Game Loop With Canvas</a></li>
<li><a href="#canvas-performance">Canvas Performance</a></li>
<li><a href="#canvas-reference">Canvas Reference</a></li>
</ul>
</li>
<li><a href="#gamepad-api">Gamepad API</a></li>
<li><a href="#url-api">URL API</a></li>
<li><a href="#observer-api">Observer API</a><ul>
<li><a href="#intersection-observer">Intersection Observer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="&#x5E38;&#x91CF;"><a name="&#x5E38;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x5E38;&#x91CF;</h2>
<p>&#x5E38;&#x6570;&#x503C; <strong>&#x52A0;&#x62EC;&#x53F7;</strong> &#x53EF;&#x8F6C;&#x5316;&#x4E3A;&#x5BF9;&#x8C61;</p>
<h2 id="&#x53D8;&#x91CF;"><a name="&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>2. &#x53D8;&#x91CF;</h2>
<h3 id="&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;-primitive-type"><a name="&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;-primitive-type" class="anchor-navigation-ex-anchor" href="#&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;-primitive-type"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. &#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C; Primitive type</h3>
<ul>
<li>Undefined</li>
<li>Null</li>
<li>Boolean</li>
<li>Number</li>
<li>String</li>
</ul>
<h4 id="undefined"><a name="undefined" class="anchor-navigation-ex-anchor" href="#undefined"><i class="fa fa-link" aria-hidden="true"></i></a><a name="undefined" class="plugin-anchor" href="#undefined"><i class="fa fa-link" aria-hidden="true"></i></a>undefined</h4>
<ul>
<li>&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x672A;&#x5B9A;&#x4E49;&#x65F6;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x503C;&#x4E3A; undefined</li>
<li>&#x672A;&#x521D;&#x59CB;&#x5316;&#x53D8;&#x91CF;&#x7684;&#x521D;&#x503C;&#x4E3A; undefined(&#x8868;&#x793A; &#x7B49;&#x5F85;&#x88AB;&#x8D4B;&#x503C;)</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">undefined</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token function">fucntion</span> <span class="token punctuation">(</span><span class="token parameter">undef</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> undef<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="null"><a name="null" class="anchor-navigation-ex-anchor" href="#null"><i class="fa fa-link" aria-hidden="true"></i></a><a name="null" class="plugin-anchor" href="#null"><i class="fa fa-link" aria-hidden="true"></i></a>null</h4>
<p>&#x5F53;&#x5F15;&#x7528;&#x4E3A;&#x7A7A;&#x6216;&#x5F15;&#x7528;&#x5BF9;&#x8C61;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#xFF0C;&#x503C;&#x4E3A; null</p>
<h4 id="float"><a name="float" class="anchor-navigation-ex-anchor" href="#float"><i class="fa fa-link" aria-hidden="true"></i></a><a name="float" class="plugin-anchor" href="#float"><i class="fa fa-link" aria-hidden="true"></i></a>float</h4>
<p>&#x8BA1;&#x7B97;&#x6D6E;&#x70B9;&#x6570;&#x65F6;&#xFF0C;&#x5E94;&#x5148;&#x8BA1;&#x7B97;&#x6574;&#x6570;&#xFF0C;&#x518D;&#x5229;&#x7528;&#x79FB;&#x4F4D;/&#x4E58;&#x6CD5;/&#x9664;&#x6CD5;&#x8F6C;&#x5316;&#x4E3A;&#x6D6E;&#x70B9;&#x6570;</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// a = 0.1 + 0.2;</span>
</code></pre>
<h4 id="&#x975E;&#x6570;-nan"><a name="&#x975E;&#x6570;-nan" class="anchor-navigation-ex-anchor" href="#&#x975E;&#x6570;-nan"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x975E;&#x6570;-nan" class="plugin-anchor" href="#&#x975E;&#x6570;-nan"><i class="fa fa-link" aria-hidden="true"></i></a>&#x975E;&#x6570; NaN</h4>
<pre class="language-"><code class="lang-js"><span class="token keyword">typeof</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// &apos;number&apos;</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">isNumber</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&apos;number&apos;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFinite</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="number"><a name="number" class="anchor-navigation-ex-anchor" href="#number"><i class="fa fa-link" aria-hidden="true"></i></a><a name="number" class="plugin-anchor" href="#number"><i class="fa fa-link" aria-hidden="true"></i></a>number</h4>
<h5 id="infinity"><a name="infinity" class="anchor-navigation-ex-anchor" href="#infinity"><i class="fa fa-link" aria-hidden="true"></i></a><a name="infinity" class="plugin-anchor" href="#infinity"><i class="fa fa-link" aria-hidden="true"></i></a>Infinity</h5>
<p>Infinity represents all values greater than 1.7976931348623157e+308.
Infinity will be converted to <code>null</code> with <code>JSON.stringify()</code>.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> largeNumber <span class="token operator">=</span> <span class="token number">1.7976931348623157e308</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> largerNumber <span class="token operator">=</span> <span class="token number">1.7976931348623157e309</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>largeNumber<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.7976931348623157e+308</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>largerNumber<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">46</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">POSITIVE_INFINITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.7976931348623157e309</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">46</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">NEGATIVE_INFINITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
</code></pre>
<h4 id="string"><a name="string" class="anchor-navigation-ex-anchor" href="#string"><i class="fa fa-link" aria-hidden="true"></i></a><a name="string" class="plugin-anchor" href="#string"><i class="fa fa-link" aria-hidden="true"></i></a>string</h4>
<h5 id="&#x5F15;&#x7528;&#x7279;&#x6027;"><a name="&#x5F15;&#x7528;&#x7279;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x5F15;&#x7528;&#x7279;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5F15;&#x7528;&#x7279;&#x6027;" class="plugin-anchor" href="#&#x5F15;&#x7528;&#x7279;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F15;&#x7528;&#x7279;&#x6027;</h5>
<ul>
<li>&#x8D4B;&#x503C;&#x4E0E;&#x4F20;&#x53C2; &#x4F20;&#x9012; string &#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF; &#x7684;&#x5F15;&#x7528;</li>
<li>&#x6240;&#x6709; string &#x91CF; &#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x91CF;,&#x5F53;&#x5BF9; string &#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x5C06;&#x5148;&#x4F1A;&#x5728;&#x5806;&#x533A;&#x521B;&#x5EFA;&#x526F;&#x672C;&#xFF0C;&#x518D;&#x901A;&#x8FC7;&#x526F;&#x672C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x526F;&#x672C;&#x7684;&#x7D22;&#x5F15;</li>
<li>&#x6CA1;&#x6709;&#x88AB;&#x4EFB;&#x4F55;&#x53D8;&#x91CF;&#x5F15;&#x7528;&#x7684; string: &#x5783;&#x573E;&#x56DE;&#x6536;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> goodString <span class="token operator">=</span> <span class="token string">&quot;I&apos;ve been a good string&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> goodString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>goodString <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>goodString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object String]</span>

<span class="token keyword">const</span> badString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;I&apos;ve been a naughty string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> badString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>badString <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>badString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object String]</span>

<span class="token keyword">const</span> <span class="token function-variable function">isPrimitiveString</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&apos;string&apos;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isPrimitiveString</span><span class="token punctuation">(</span>goodString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isPrimitiveString</span><span class="token punctuation">(</span>badString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">const</span> <span class="token function-variable function">isObjectWrappedString</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> value <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isObjectWrappedString</span><span class="token punctuation">(</span>goodString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isObjectWrappedString</span><span class="token punctuation">(</span>badString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> <span class="token function-variable function">isString</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&apos;string&apos;</span> <span class="token operator">||</span> value <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>goodString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>badString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> <span class="token function-variable function">isStringAlternative</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span>
  <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>badString<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&apos;[object String]&apos;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isStringAlternative</span><span class="token punctuation">(</span>goodString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isStringAlternative</span><span class="token punctuation">(</span>badString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre>
<h5 id="&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x57FA;&#x672C;&#x53D8;&#x91CF;"><a name="&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x57FA;&#x672C;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x57FA;&#x672C;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x57FA;&#x672C;&#x53D8;&#x91CF;" class="plugin-anchor" href="#&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x57FA;&#x672C;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x975E;&#x5BF9;&#x8C61;&#x7279;&#x6027;(&#x57FA;&#x672C;&#x53D8;&#x91CF;)</h5>
<ul>
<li>&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E0D;&#x53EF;&#x679A;&#x4E3E;(for in &#x5FAA;&#x73AF;)</li>
<li>delete &#x65E0;&#x6CD5;&#x5220;&#x9664;&#x67D0;&#x4F4D;&#x5B57;&#x7B26;</li>
</ul>
<h5 id="&#x57FA;&#x672C;&#x64CD;&#x4F5C;"><a name="&#x57FA;&#x672C;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x672C;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x672C;&#x64CD;&#x4F5C;" class="plugin-anchor" href="#&#x57FA;&#x672C;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x672C;&#x64CD;&#x4F5C;</h5>
<p>+=: &#x5B57;&#x7B26;&#x4E32;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;</p>
<h4 id="object-wrappers-for-primitive-type"><a name="object-wrappers-for-primitive-type" class="anchor-navigation-ex-anchor" href="#object-wrappers-for-primitive-type"><i class="fa fa-link" aria-hidden="true"></i></a><a name="object-wrappers-for-primitive-type" class="plugin-anchor" href="#object-wrappers-for-primitive-type"><i class="fa fa-link" aria-hidden="true"></i></a>Object Wrappers for Primitive Type</h4>
<p>Using the wrapper function without the new keyword
is a useful way of coercing a value into a primitive type.</p>
<pre class="language-"><code class="lang-js"><span class="token comment">// Not recommended (primitive object wrapper):</span>
<span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>

<span class="token comment">// Safe (type coercion with wrapper function):</span>
<span class="token keyword">typeof</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>

<span class="token comment">// Primitive strings:</span>
<span class="token string">&apos;37&apos;</span> <span class="token operator">===</span> <span class="token string">&apos;37&apos;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// Object-wrapped string:</span>
<span class="token string">&apos;37&apos;</span> <span class="token operator">===</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// Type-coerced string:</span>
<span class="token string">&apos;37&apos;</span> <span class="token operator">===</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre>
<h3 id="&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C;-object-type"><a name="&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C;-object-type" class="anchor-navigation-ex-anchor" href="#&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C;-object-type"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. &#x5F15;&#x7528;&#x7C7B;&#x578B;&#x503C; Object type</h3>
<ul>
<li>Object e.g Date</li>
<li>Array</li>
<li>Function</li>
</ul>
<p><strong>&#x53CD;&#x6A21;&#x5F0F;</strong>:</p>
<ul>
<li>&#x9690;&#x5F0F;&#x5168;&#x5C40;&#x53D8;&#x91CF;(&#x672A;&#x4F7F;&#x7528; var &#x58F0;&#x660E;&#x4FBF;&#x4F7F;&#x7528;&#x53D8;&#x91CF;)</li>
</ul>
<p>&#x5B9E;&#x8D28;:&#x9690;&#x5F0F;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x800C;&#x662F;&#x5168;&#x5C40;&#x5BF9;&#x8C61;(&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x73AF;&#x5883;&#x4E2D;&#x4E3A; window &#x5BF9;&#x8C61;)&#x7684;&#x5C5E;&#x6027;;&#x53EF;&#x4EE5;<strong><code>delete</code></strong>&#x5220;&#x9664;&#x9690;&#x5F0F;&#x5168;&#x5C40;&#x91CF;</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment">//&#x51FD;&#x6570;&#x5916;&#x9690;&#x5F0F;&#x5168;&#x5C40;&#x53D8;&#x91CF;</span>
global <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">//&#x51FD;&#x6570;&#x5185;&#x9690;&#x5F0F;&#x5168;&#x5C40;&#x53D8;&#x91CF;</span>
<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  global <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//&#x94FE;&#x5F0F;&#x8D4B;&#x503C;</span>
<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//b&#x4E3A;&#x9690;&#x5F0F;&#x5168;&#x5C40;&#x53D8;&#x91CF;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="date"><a name="date" class="anchor-navigation-ex-anchor" href="#date"><i class="fa fa-link" aria-hidden="true"></i></a>2.3. Date</h3>
<ul>
<li><a href="https://css-tricks.com/everything-you-need-to-know-about-date-in-javascript" target="_blank">Definitive Guide</a></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> now<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1-n</span>
now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Warn: 0-11</span>
now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 1-n</span>
now<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>      <span class="token comment">// Warn: 0-6</span>
now<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now<span class="token punctuation">.</span><span class="token function">toDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now<span class="token punctuation">.</span><span class="token function">toTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now<span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">daysOfMonth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span> month</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// `0` for last month of next month</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">prevYear</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">year</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">nextYear</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">year</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">prevMonth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span> month</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">nextMonth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span> month</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> <span class="token function-variable function">getDateItemList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span> month</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> days <span class="token operator">=</span> <span class="token function">daysOfMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> currentDateItemList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">Array</span><span class="token punctuation">(</span>days<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">index</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">DateItem</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> firstDayItem <span class="token operator">=</span> <span class="token function">DateItem</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> firstDayWeekday <span class="token operator">=</span> firstDayItem<span class="token punctuation">.</span>day<span class="token punctuation">;</span>
  <span class="token keyword">const</span> lastMonthDays <span class="token operator">=</span> <span class="token function">daysOfMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> prefixDays <span class="token operator">=</span> firstDayWeekday <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">7</span> <span class="token operator">:</span> firstDayWeekday<span class="token punctuation">;</span>
  <span class="token keyword">const</span> prefixFirstDay <span class="token operator">=</span> lastMonthDays <span class="token operator">-</span> prefixDays <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> prefixYear <span class="token operator">=</span> <span class="token function">prevYear</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> prefixMonth <span class="token operator">=</span> <span class="token function">prevMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> prefixDateItemList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">Array</span><span class="token punctuation">(</span>prefixDays<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">index</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">DateItem</span><span class="token punctuation">(</span>prefixYear<span class="token punctuation">,</span> prefixMonth<span class="token punctuation">,</span> prefixFirstDay <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> lastDayItem <span class="token operator">=</span> <span class="token function">DateItem</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> days<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> lastDayWeekday <span class="token operator">=</span> lastDayItem<span class="token punctuation">.</span>day<span class="token punctuation">;</span>
  <span class="token keyword">const</span> suffixDays <span class="token operator">=</span> lastDayWeekday <span class="token operator">===</span> <span class="token number">6</span> <span class="token operator">?</span> <span class="token number">7</span> <span class="token operator">:</span> <span class="token number">6</span> <span class="token operator">-</span> lastDayWeekday<span class="token punctuation">;</span>
  <span class="token keyword">const</span> suffixYear <span class="token operator">=</span> <span class="token function">nextYear</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> suffixMonth <span class="token operator">=</span> <span class="token function">nextMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> suffixDateItemList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">Array</span><span class="token punctuation">(</span>suffixDays<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">index</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">DateItem</span><span class="token punctuation">(</span>suffixYear<span class="token punctuation">,</span> suffixMonth<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> dateItemList <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>prefixDateItemList<span class="token punctuation">,</span>
    <span class="token operator">...</span>currentDateItemList<span class="token punctuation">,</span>
    <span class="token operator">...</span>suffixDateItemList
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> dateItemList<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x5168;&#x5C40;&#x53D8;&#x91CF;"><a name="&#x5168;&#x5C40;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>2.4. &#x5168;&#x5C40;&#x53D8;&#x91CF;</h3>
<p>&#x5B9A;&#x4E49;&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5916;&#xFF0C;&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x4E0D;&#x4F7F;&#x7528; var &#x5173;&#x952E;&#x5B57;&#x5F15;&#x7528;</p>
<h3 id="&#x5C40;&#x90E8;&#x53D8;&#x91CF;"><a name="&#x5C40;&#x90E8;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5C40;&#x90E8;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>2.5. &#x5C40;&#x90E8;&#x53D8;&#x91CF;</h3>
<p>&#x51FD;&#x6570;&#x4F53;&#x5185;&#x4F7F;&#x7528; var &#x5173;&#x952E;&#x5B57;&#x5B9A;&#x4E49;</p>
<ul>
<li>&#x4E0D;&#x4F7F;&#x7528; var &#x58F0;&#x660E;&#x53D8;&#x91CF;&#x5C06;&#x4F1A;&#x5BFC;&#x81F4;&#x9690;&#x5F0F;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;</li>
<li>&#x58F0;&#x660E;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x65F6;&#x7EDD;&#x5BF9;&#x4E0D;&#x8981;&#x9057;&#x6F0F; var &#x5173;&#x952E;&#x5B57;</li>
</ul>
<h3 id="&#x53D8;&#x91CF;&#x63D0;&#x5347;-hoisting"><a name="&#x53D8;&#x91CF;&#x63D0;&#x5347;-hoisting" class="anchor-navigation-ex-anchor" href="#&#x53D8;&#x91CF;&#x63D0;&#x5347;-hoisting"><i class="fa fa-link" aria-hidden="true"></i></a>2.6. &#x53D8;&#x91CF;&#x63D0;&#x5347; Hoisting</h3>
<p>var &#x8868;&#x8FBE;&#x5F0F;&#x548C; function &#x58F0;&#x660E;&#x90FD;&#x5C06;&#x4F1A;&#x88AB;&#x63D0;&#x5347;&#x5230;&#x5F53;&#x524D;&#x4F5C;&#x7528;&#x57DF;(&#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;/&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x57DF;)&#x7684;&#x9876;&#x90E8;, &#x5176;&#x4F59;&#x8868;&#x8FBE;&#x5F0F;&#x987A;&#x5E8F;&#x4E0D;&#x53D8;</p>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x884C;&#x4E0D;&#x901A; (&#x5047;&#x8BBE;&#x6CA1;&#x6709;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;)</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>notDefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; throws a ReferenceError</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x5728;&#x5F15;&#x7528;&#x53D8;&#x91CF;&#x540E;&#x521B;&#x5EFA;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#x5C06;&#x4F1A;&#x56E0;&#x53D8;&#x91CF;&#x63D0;&#x5347;&#x800C;&#x8D77;&#x4F5C;&#x7528;&#x3002;</span>
<span class="token comment">// &#x6CE8;&#x610F;: &#x771F;&#x6B63;&#x7684;&#x503C; `true` &#x4E0D;&#x4F1A;&#x88AB;&#x63D0;&#x5347;&#x3002;</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; undefined</span>
  <span class="token keyword">var</span> declaredButNotAssigned <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x89E3;&#x91CA;&#x5668;&#x5C06;&#x53D8;&#x91CF;&#x63D0;&#x5347;&#x5230;&#x51FD;&#x6570;&#x7684;&#x9876;&#x90E8;</span>
<span class="token comment">// &#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x4E0A;&#x8FB9;&#x7684;&#x4F8B;&#x5B50;&#x91CD;&#x5199;&#x4E3A;&#xFF1A;</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> declaredButNotAssigned<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; undefined</span>
  declaredButNotAssigned <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x4F7F;&#x7528; const &#x548C; let</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; throws a ReferenceError</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; throws a ReferenceError</span>
  <span class="token keyword">const</span> declaredButNotAssigned <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>named<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; undefined</span>

  <span class="token function">named</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; TypeError named is not a function</span>

  <span class="token function">superPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; ReferenceError superPower is not defined</span>

  <span class="token keyword">var</span> <span class="token function-variable function">named</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">superPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Flying&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x6570;&#x7EC4;&#x4E0E;-object-&#x540C;&#x6E90;"><a name="&#x6570;&#x7EC4;&#x4E0E;-object-&#x540C;&#x6E90;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x7EC4;&#x4E0E;-object-&#x540C;&#x6E90;"><i class="fa fa-link" aria-hidden="true"></i></a>2.7. &#x6570;&#x7EC4;(&#x4E0E; Object &#x540C;&#x6E90;)</h3>
<ul>
<li>&#x5173;&#x8054;&#x6570;&#x7EC4;&#xFF1A;<code>arrayName[&#x201C;string&#x201D;] = value;</code> &#x5B9E;&#x9645;&#x4E3A; Array &#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;<code>{string:value}</code></li>
<li>&#x7F13;&#x5B58;&#x6570;&#x7EC4;&#x957F;&#x5EA6;:<code>int l = list.length</code>(&#x8BBF;&#x95EE;<code>length</code>&#x9020;&#x6210;&#x8FD0;&#x7B97;)</li>
<li><code>[]</code>&#x6570;&#x7EC4;&#xFF0C;<code>{}</code>&#x5BF9;&#x8C61;</li>
</ul>
<p>&#x6570;&#x7EC4;&#x5728; &#x6570;&#x503C;&#x8FD0;&#x7B97;&#x73AF;&#x5883; &#x4E2D;&#x8F6C;&#x5316;&#x4E3A; 0(&#x7A7A;&#x6570;&#x7EC4;)/num(&#x5355;&#x4E00;&#x5143;&#x7D20;&#x6570;&#x7EC4;)/NaN(&#x591A;&#x5143;&#x7D20;&#x6570;&#x7EC4;/NaN &#x6570;&#x7EC4;)</p>
<h4 id="length"><a name="length" class="anchor-navigation-ex-anchor" href="#length"><i class="fa fa-link" aria-hidden="true"></i></a><a name="length" class="plugin-anchor" href="#length"><i class="fa fa-link" aria-hidden="true"></i></a>length</h4>
<ul>
<li>&#x6570;&#x7EC4;&#x4E0B;&#x6807;&#x6EE1;&#x8DB3; [0, 2^32-1) &#x5373;&#x53EF;</li>
<li>&#x8FD0;&#x7528;&#x5927;&#x4E8E; length &#x7684;&#x4E0B;&#x6807;, length &#x81EA;&#x52A8;&#x589E;&#x5927;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x6570;&#x7EC4;&#x8FB9;&#x754C;&#x9519;&#x8BEF;</li>
<li>length &#x7B49;&#x4E8E; &#x6570;&#x7EC4;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x5C5E;&#x6027;&#x540D;+1, length &#x4E0D;&#x4E00;&#x5B9A;&#x7B49;&#x4E8E; &#x6570;&#x7EC4;&#x4E2D;&#x6709;&#x6548;&#x5143;&#x7D20;&#x4E2A;&#x6570;</li>
</ul>
<h4 id="&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;"><a name="&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;" class="plugin-anchor" href="#&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;</h4>
<p>&#x4E0D;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;,&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;&#x521B;&#x5EFA;&#x6570;&#x7EC4;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x6570;&#x7EC4;&#x957F;&#x5EA6;</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RangeError</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Array<span class="token punctuation">.</span>isArray <span class="token operator">===</span> <span class="token string">&apos;undefined&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Array<span class="token punctuation">.</span><span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x5176;&#x4F59;&#x5BF9;&#x8C61;&#x8FD4;&#x56DE;&#x503C; [object Object/Number/String/Boolean]</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&apos;[object Array]&apos;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x5E38;&#x7528;&#x65B9;&#x6CD5;"><a name="&#x5E38;&#x7528;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5E38;&#x7528;&#x65B9;&#x6CD5;" class="plugin-anchor" href="#&#x5E38;&#x7528;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E38;&#x7528;&#x65B9;&#x6CD5;</h4>
<h5 id="sort"><a name="sort" class="anchor-navigation-ex-anchor" href="#sort"><i class="fa fa-link" aria-hidden="true"></i></a><a name="sort" class="plugin-anchor" href="#sort"><i class="fa fa-link" aria-hidden="true"></i></a>sort</h5>
<pre class="language-"><code class="lang-js">arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>toExchange<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> <span class="token function-variable function">toExchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// a, b &#x4EA4;&#x6362;&#x4F4D;&#x7F6E;</span>
  <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// a, b &#x4E0D;&#x4EA4;&#x6362;&#x4F4D;&#x7F6E;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="&#x5806;&#x6808;"><a name="&#x5806;&#x6808;" class="anchor-navigation-ex-anchor" href="#&#x5806;&#x6808;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5806;&#x6808;" class="plugin-anchor" href="#&#x5806;&#x6808;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5806;&#x6808;</h5>
<pre class="language-"><code class="lang-javascript">arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x6DFB;&#x52A0;&#x6570;&#x7EC4;&#x9996;&#x5143;&#x7D20;</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x6DFB;&#x52A0;&#x6570;&#x7EC4;&#x5C3E;&#x5143;&#x7D20;</span>
arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5220;&#x9664;&#x6570;&#x7EC4;&#x9996;&#x5143;&#x7D20;</span>
arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5220;&#x9664;&#x6570;&#x7EC4;&#x5C3E;&#x5143;&#x7D20;</span>
</code></pre>
<h5 id="&#x5206;&#x5272;&#x5408;&#x5E76;"><a name="&#x5206;&#x5272;&#x5408;&#x5E76;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x5272;&#x5408;&#x5E76;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x5272;&#x5408;&#x5E76;" class="plugin-anchor" href="#&#x5206;&#x5272;&#x5408;&#x5E76;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x5272;/&#x5408;&#x5E76;</h5>
<ul>
<li>slice &#x4E0D;&#x6539;&#x53D8;&#x539F;&#x6570;&#x7EC4;, splice &#x6539;&#x53D8;&#x539F;&#x6570;&#x7EC4;</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>otherArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;&#x8FDE;&#x63A5;&#x7B26;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x8FDE;&#x63A5;&#x6210;&#x5B57;&#x7B26;&#x4E32;o</span>
<span class="token function">string</span><span class="token punctuation">(</span>charArray<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;&#x5272;&#x65AD;&#x70B9;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x9009;&#x62E9;&#x5272;&#x65AD;&#x7B26;,&#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [start] - [end - 1]</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x591A;&#x6001;&#x65B9;&#x6CD5;</span>
</code></pre>
<h5 id="&#x66FF;&#x6362;"><a name="&#x66FF;&#x6362;" class="anchor-navigation-ex-anchor" href="#&#x66FF;&#x6362;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x66FF;&#x6362;" class="plugin-anchor" href="#&#x66FF;&#x6362;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66FF;&#x6362;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>oldSubStr<span class="token punctuation">,</span> newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="&#x67E5;&#x8BE2;"><a name="&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x67E5;&#x8BE2;" class="plugin-anchor" href="#&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token string">&apos;&apos;</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1 or other</span>
</code></pre>
<h5 id="&#x904D;&#x5386;"><a name="&#x904D;&#x5386;" class="anchor-navigation-ex-anchor" href="#&#x904D;&#x5386;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x904D;&#x5386;" class="plugin-anchor" href="#&#x904D;&#x5386;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x904D;&#x5386;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">/</span> obj<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x904D;&#x5386;&#x6570;&#x7EC4;/&#x5BF9;&#x8C61;&#x6240;&#x6709;&#x5143;&#x7D20;(val&#x4E3A;&#x5355;&#x4E2A;&#x5143;&#x7D20;)</span>
</code></pre>
<h5 id="deep-clone-of-array"><a name="deep-clone-of-array" class="anchor-navigation-ex-anchor" href="#deep-clone-of-array"><i class="fa fa-link" aria-hidden="true"></i></a><a name="deep-clone-of-array" class="plugin-anchor" href="#deep-clone-of-array"><i class="fa fa-link" aria-hidden="true"></i></a>Deep Clone of Array</h5>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> nestedArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arrayCopy <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>nestedArray<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Make some changes</span>
arrayCopy<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;1&apos;</span><span class="token punctuation">;</span> <span class="token comment">// change shallow element</span>
arrayCopy<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;3&apos;</span><span class="token punctuation">;</span> <span class="token comment">// change nested element</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrayCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ &apos;1&apos;, [ &apos;3&apos; ], 3 ]</span>

<span class="token comment">// Good: Nested array NOT affected</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nestedArray<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  1, [ 2 ], 3 ]</span>
</code></pre>
<h5 id="&#x5176;&#x4ED6;"><a name="&#x5176;&#x4ED6;" class="anchor-navigation-ex-anchor" href="#&#x5176;&#x4ED6;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5176;&#x4ED6;" class="plugin-anchor" href="#&#x5176;&#x4ED6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5176;&#x4ED6;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// Tips</span>
<span class="token comment">// &#x53CD;&#x8F6C;&#x5B57;&#x7B26;&#x4E32;</span>
<span class="token keyword">var</span> reverseStr <span class="token operator">=</span> normalizedStr
  <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="array-tips"><a name="array-tips" class="anchor-navigation-ex-anchor" href="#array-tips"><i class="fa fa-link" aria-hidden="true"></i></a><a name="array-tips" class="plugin-anchor" href="#array-tips"><i class="fa fa-link" aria-hidden="true"></i></a>Array Tips</h5>
<ul>
<li>&#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x5355;&#x72EC;&#x64CD;&#x4F5C; e.g map/filter</li>
</ul>
<pre class="language-"><code class="lang-javascript">str
  <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">subStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">decode</span><span class="token punctuation">(</span>subStr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

str
  <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">someOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x5B9E;&#x73B0; contains &#x65B9;&#x6CD5;</li>
</ul>
<pre class="language-"><code class="lang-javascript">arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x6539;&#x53D8;&#x67D0;&#x4E00;&#x5904;&#x5B57;&#x6BCD;</li>
</ul>
<pre class="language-"><code class="lang-javascript">after <span class="token operator">=</span> after<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> after<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x5220;&#x9664;&#x53EA;&#x80FD;&#x6307;&#x5B9A;&#x5143;&#x7D20;</li>
</ul>
<pre class="language-"><code class="lang-javascript">arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Remove Duplicate Elements</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// 1: &quot;Set&quot;</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 2: &quot;Filter&quot;</span>
array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3: &quot;Reduce&quot;</span>
array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">unique<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>unique<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">?</span> unique <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>unique<span class="token punctuation">,</span> item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="&#x9AD8;&#x9636;&#x51FD;&#x6570;"><a name="&#x9AD8;&#x9636;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x9AD8;&#x9636;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x9AD8;&#x9636;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x9AD8;&#x9636;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9AD8;&#x9636;&#x51FD;&#x6570;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// map over</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">// list comprehension</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previous<span class="token punctuation">,</span> current <span class="token punctuation">[</span><span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> arr<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> initial<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// fold function</span>
</code></pre>
<h3 id="&#x7C7B;&#x578B;&#x68C0;&#x6D4B;"><a name="&#x7C7B;&#x578B;&#x68C0;&#x6D4B;" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x578B;&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a>2.8. &#x7C7B;&#x578B;&#x68C0;&#x6D4B;</h3>
<h4 id="best-practice"><a name="best-practice" class="anchor-navigation-ex-anchor" href="#best-practice"><i class="fa fa-link" aria-hidden="true"></i></a><a name="best-practice" class="plugin-anchor" href="#best-practice"><i class="fa fa-link" aria-hidden="true"></i></a>Best Practice</h4>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">typeOf</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">,</span>
    _type <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">undefined</span><span class="token operator">:</span> <span class="token string">&apos;undefined&apos;</span><span class="token punctuation">,</span>
      number<span class="token operator">:</span> <span class="token string">&apos;number&apos;</span><span class="token punctuation">,</span>
      boolean<span class="token operator">:</span> <span class="token string">&apos;boolean&apos;</span><span class="token punctuation">,</span>
      string<span class="token operator">:</span> <span class="token string">&apos;string&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;[object Function]&apos;</span><span class="token operator">:</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;[object Array]&apos;</span><span class="token operator">:</span> <span class="token string">&apos;array&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;[object Date]&apos;</span><span class="token operator">:</span> <span class="token string">&apos;date&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;[object RegExp]&apos;</span><span class="token operator">:</span> <span class="token string">&apos;regexp&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;[object Error]&apos;</span><span class="token operator">:</span> <span class="token string">&apos;error&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;[object JSON]&apos;</span><span class="token operator">:</span> <span class="token string">&apos;json&apos;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> _type<span class="token punctuation">[</span><span class="token keyword">typeof</span> o<span class="token punctuation">]</span> <span class="token operator">||</span> _type<span class="token punctuation">[</span><span class="token function">_toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>o <span class="token operator">?</span> <span class="token string">&apos;object&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;null&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="null-&#x68C0;&#x6D4B;"><a name="null-&#x68C0;&#x6D4B;" class="anchor-navigation-ex-anchor" href="#null-&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="null-&#x68C0;&#x6D4B;" class="plugin-anchor" href="#null-&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a>Null &#x68C0;&#x6D4B;</h4>
<p>&#x4E0D;&#x5E94;&#x4F7F;&#x7528; typeof &#x68C0;&#x6D4B; null, &#x5E94;&#x4F7F;&#x7528; ===/!==</p>
<pre class="language-"><code class="lang-js"><span class="token comment">/*
 * ECMAScript &#x6807;&#x51C6;&#x7684;&#x91CD;&#x5927; bug
 */</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; object</span>
</code></pre>
<h4 id="&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;"><a name="&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;" class="anchor-navigation-ex-anchor" href="#&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;" class="plugin-anchor" href="#&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;</h4>
<p>value instanceof constructor(&#x67E5;&#x627E;&#x539F;&#x578B;&#x94FE;)</p>
<h4 id="&#x5C5E;&#x6027;&#x68C0;&#x6D4B;"><a name="&#x5C5E;&#x6027;&#x68C0;&#x6D4B;" class="anchor-navigation-ex-anchor" href="#&#x5C5E;&#x6027;&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5C5E;&#x6027;&#x68C0;&#x6D4B;" class="plugin-anchor" href="#&#x5C5E;&#x6027;&#x68C0;&#x6D4B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5C5E;&#x6027;&#x68C0;&#x6D4B;</h4>
<ul>
<li>&#x7531;&#x4E8E;&#x5C5E;&#x6027;&#x503C;&#x53EF;&#x80FD;&#x4E3A; 0 &#x503C;&#x8868;&#x8FBE;&#x5F0F;, &#x4E0D;&#x5E94;&#x4F7F;&#x7528; 0 &#x503C;&#x8868;&#x8FBE;&#x5F0F;(0/&apos;&apos;/null/undefined) &#x68C0;&#x6D4B;&#x5C5E;&#x6027;&#x503C;</li>
<li>&#x5E94;&#x4F7F;&#x7528; for in &#x8FDB;&#x884C;&#x5C5E;&#x6027;&#x68C0;&#x6D4B;</li>
</ul>
<h3 id="&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;type-coercion"><a name="&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;type-coercion" class="anchor-navigation-ex-anchor" href="#&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;type-coercion"><i class="fa fa-link" aria-hidden="true"></i></a>2.9. &#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x5316;(Type Coercion)</h3>
<ul>
<li>&#x5B57;&#x7B26;&#x4E32; -&gt; &#x6574;&#x6570;&#xFF1A;<code>+string</code>/<code>Number(string)</code>/<code>parseInt(string, arg1)</code></li>
<li>any -&gt; <code>bool</code>&#xFF1A;<code>!!any</code></li>
<li>const -&gt; <code>object</code>: <code>(const)</code></li>
</ul>
<blockquote>
<p>parseInt(): &#x9047;&#x5230;&#x975E;&#x6570;&#x5B57;&#x5B57;&#x7B26;&#x7ACB;&#x5373;&#x505C;&#x6B62;&#x8FD0;&#x884C;&#xFF0C;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x8F6C;&#x5316;&#x503C;; &#x5C06; 0 &#x5F00;&#x5934;&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x6790;&#x4E3A;&#x516B;&#x8FDB;&#x5236;&#x6570;&#xFF0C;0x &#x5F00;&#x5934;&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x6790;&#x4E3A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;</p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> base<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>boolean &#x5728; &#x6570;&#x503C;&#x8FD0;&#x7B97;&#x73AF;&#x5883; &#x4E2D; true =&gt; 1, false =&gt; 0</li>
<li>&#x6570;&#x7EC4;&#x5728; &#x6570;&#x503C;&#x8FD0;&#x7B97;&#x73AF;&#x5883; &#x4E2D; &#x8F6C;&#x5316;&#x4E3A; 0(&#x7A7A;&#x6570;&#x7EC4;)/num(&#x5355;&#x4E00;&#x5143;&#x7D20;&#x6570;&#x7EC4;)/NaN(&#x591A;&#x5143;&#x7D20;&#x6570;&#x7EC4;/NaN &#x6570;&#x7EC4;)</li>
<li>&#x5BF9;&#x8C61;&#x5728; &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x73AF;&#x5883; &#x4E2D; &#x8F6C;&#x5316;&#x4E3A; true , &#x5305;&#x62EC; false &#x7684;&#x5C01;&#x88C5;&#x5BF9;&#x8C61;</li>
<li>&#x5BF9;&#x8C61;&#x5728; &#x6570;&#x503C;&#x8FD0;&#x7B97;&#x73AF;&#x5883; &#x4E2D; &#x5148;&#x5229;&#x7528; valueOf(object), &#x518D;&#x5229;&#x7528; toString() &#x8F6C;&#x5316;&#x4E3A;&#x6570;&#x5B57;, &#x82E5;&#x8F6C;&#x5316;&#x5931;&#x8D25;, &#x5219;&#x8FD4;&#x56DE; NaN</li>
<li>&#x5BF9;&#x8C61;&#x4E0E; &#x6570;&#x503C;&#x52A0;&#x53F7;&#x8FD0;&#x7B97;: &#x5148;&#x6570;&#x503C;&#x52A0;, (<strong>&#x5931;&#x8D25;&#x540E;</strong>)&#x518D;&#x5B57;&#x7B26;&#x4E32;&#x52A0;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token comment">// good</span>
<span class="token keyword">const</span> totalScore <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reviewScore<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> hasAge <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// best</span>
<span class="token keyword">const</span> hasAge <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>age<span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x5BF9;&#x8C61;&#x8F6C;&#x6362;"><a name="&#x5BF9;&#x8C61;&#x8F6C;&#x6362;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x8C61;&#x8F6C;&#x6362;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5BF9;&#x8C61;&#x8F6C;&#x6362;" class="plugin-anchor" href="#&#x5BF9;&#x8C61;&#x8F6C;&#x6362;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BF9;&#x8C61;&#x8F6C;&#x6362;</h4>
<p>&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x4E3A;&#x5E03;&#x5C14;&#x503C;:</p>
<ul>
<li>&#x76F4;&#x63A5;&#x8F6C;&#x6362;&#x4E3A; true&#xFF08;&#x5305;&#x88C5;&#x7C7B;&#x578B;&#x4E5F;&#x4E00;&#x6837;&#xFF09;&#xFF0C;&#x4E0D;&#x8C03;&#x7528; valueOf &#x548C; toString</li>
</ul>
<p>&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x5B57;:</p>
<ul>
<li>&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5177;&#x6709; valueOf &#x65B9;&#x6CD5;&#x4E14;&#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x503C;(string&#x3001;number&#x3001;boolean&#x3001;undefined&#x3001;null)&#xFF0C;
&#x5219;&#x5C06;&#x8BE5;&#x539F;&#x59CB;&#x503C;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x5B57;(&#x8F6C;&#x6362;&#x5931;&#x8D25;&#x4F1A;&#x8FD4;&#x56DE; NaN)&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;</li>
<li>&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5177;&#x6709; toString &#x65B9;&#x6CD5;&#x4E14;&#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x503C;(string&#x3001;number&#x3001;boolean&#x3001;undefined&#x3001;null)&#xFF0C;
&#x5219;&#x5C06;&#x8BE5;&#x539F;&#x59CB;&#x503C;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x5B57;(&#x8F6C;&#x6362;&#x5931;&#x8D25;&#x4F1A;&#x8FD4;&#x56DE; NaN)&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;</li>
<li>&#x8F6C;&#x6362;&#x5931;&#x8D25;&#xFF0C;&#x629B;&#x51FA; TypeError</li>
</ul>
<p>&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;:</p>
<ul>
<li>&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5177;&#x6709; toString &#x65B9;&#x6CD5;&#x4E14;&#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x503C;(string&#x3001;number&#x3001;boolean&#x3001;undefined&#x3001;null)&#xFF0C;&#x5219;&#x5C06;&#x8BE5;&#x539F;&#x59CB;&#x503C;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;</li>
<li>&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5177;&#x6709; valueOf &#x65B9;&#x6CD5;&#x4E14;&#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x503C;(string&#x3001;number&#x3001;boolean&#x3001;undefined&#x3001;null)&#xFF0C;&#x5219;&#x5C06;&#x8BE5;&#x539F;&#x59CB;&#x503C;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;
&#x8F6C;&#x6362;&#x5931;&#x8D25;&#xFF0C;&#x629B;&#x51FA; TypeError</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x4FDD;&#x5B58;&#x539F;&#x59CB;&#x7684;valueOf</span>
<span class="token keyword">const</span> valueOf <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
<span class="token keyword">const</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

<span class="token comment">// &#x6DFB;&#x52A0;valueOf&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;valueOf&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6DFB;&#x52A0;toString&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;toString&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// output:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// &#x672A;&#x8C03;&#x7528;valueOf&#x548C;toString&#xFF0C;&#x7B26;&#x5408; [&#x5BF9;&#x8C61;&#x5230;&#x5E03;&#x5C14;&#x503C;] &#x7684;&#x8F6C;&#x6362;&#x89C4;&#x5219;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x4FDD;&#x5B58;&#x539F;&#x59CB;&#x7684;valueOf</span>
<span class="token keyword">const</span> valueOf <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
<span class="token keyword">const</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

<span class="token comment">// &#x6DFB;&#x52A0;valueOf&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;valueOf&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6DFB;&#x52A0;toString&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;toString&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// output:</span>
<span class="token comment">// valueOf</span>
<span class="token comment">// toString</span>
<span class="token comment">// NaN</span>
<span class="token comment">// 1. valueOf&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#xFF0C;&#x4E0D;&#x662F;&#x539F;&#x59CB;&#x503C;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;</span>
<span class="token comment">// 2. toString&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x201D;[object Object]&#x201D;&#xFF0C;&#x662F;&#x539F;&#x59CB;&#x503C;(&#x5B57;&#x7B26;&#x4E32;)&#xFF0C;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x5B57;NaN</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x4FDD;&#x5B58;&#x539F;&#x59CB;&#x7684;valueOf</span>
<span class="token keyword">const</span> valueOf <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
<span class="token keyword">const</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

<span class="token comment">// &#x6DFB;&#x52A0;valueOf&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;valueOf&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &#x5F3A;&#x5236;&#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x503C;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6DFB;&#x52A0;toString&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;toString&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// output:</span>
<span class="token comment">// valueOf</span>
<span class="token comment">// 2</span>
<span class="token comment">// valueOf &#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x503C;(&#x5B57;&#x7B26;&#x4E32;)&#xFF0C;&#x76F4;&#x63A5;&#x5C06;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x5B57;&#xFF0C;&#x5F97;&#x5230; 1</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x4FDD;&#x5B58;&#x539F;&#x59CB;&#x7684;valueOf</span>
<span class="token keyword">const</span> valueOf <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
<span class="token keyword">const</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

<span class="token comment">// &#x6DFB;&#x52A0;valueOf&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;valueOf&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6DFB;&#x52A0;toString&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;toString&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// output:</span>
<span class="token comment">// toString</span>
<span class="token comment">// &#x5F39;&#x51FA; &quot;[object Object]&quot;</span>
<span class="token comment">// &#x8C03;&#x7528;toString&#x65B9;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x201D;[object Object]&#x201D;&#xFF0C;&#x5BF9;&#x8C61;&#x6700;&#x7EC8;&#x8F6C;&#x6362;&#x4E3A;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x4FDD;&#x5B58;&#x539F;&#x59CB;&#x7684;valueOf</span>
<span class="token keyword">const</span> valueOf <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
<span class="token keyword">const</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

<span class="token comment">// &#x6DFB;&#x52A0;valueOf&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;valueOf&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6DFB;&#x52A0;toString&#x65E5;&#x5FD7;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;toString&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// output:</span>
<span class="token comment">// toString</span>
<span class="token comment">// valueOf</span>
<span class="token comment">// Uncaught TypeError: Cannot convert object to primitive value</span>
<span class="token comment">// &#x8C03;&#x7528;toString&#x65B9;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x4E0D;&#x662F; primitive value&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;</span>
<span class="token comment">// &#x8C03;&#x7528;valueOf&#x65B9;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x4E0D;&#x662F; primitive value&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;</span>
<span class="token comment">// &#x629B;&#x51FA; TypeError</span>
</code></pre>
<h2 id="&#x8FD0;&#x7B97;&#x7B26;"><a name="&#x8FD0;&#x7B97;&#x7B26;" class="anchor-navigation-ex-anchor" href="#&#x8FD0;&#x7B97;&#x7B26;"><i class="fa fa-link" aria-hidden="true"></i></a>3. &#x8FD0;&#x7B97;&#x7B26;</h2>
<ul>
<li>== &#x4E0E; ===</li>
<li>!= &#x4E0E; !==</li>
</ul>
<h3 id="loose-comparison"><a name="loose-comparison" class="anchor-navigation-ex-anchor" href="#loose-comparison"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. Loose Comparison</h3>
<p><a href="https://felix-kling.de/js-loose-comparison" target="_blank">JS Loose Comparison</a>:</p>
<ul>
<li>Type(x) === Type(y): return <code>x === y</code> (Strict Equality Comparison)</li>
<li>Type(x) !== Type(y):<ul>
<li>x and y are <code>undefined</code> or <code>null</code>: return true</li>
<li>return comparsion between <code>ToNumber(x)</code> and <code>ToPrimitive(y)</code></li>
</ul>
</li>
</ul>
<h3 id="&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;"><a name="&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>3.2. &#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;</h3>
<p>&#x517B;&#x6210;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#x7ED3;&#x675F;&#x53E5;&#x5B50;&#x7684;&#x4E60;&#x60EF;, &#x9700;&#x5206;&#x884C;&#x663E;&#x793A;&#x7684;&#x8BED;&#x53E5;&#x5FC5;&#x987B;&#x786E;&#x4FDD;&#x5355;&#x884C;&#x4E0D;&#x4F1A;&#x5F62;&#x6210;&#x5B8C;&#x6574;&#x8BED;&#x4E49;</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> i <span class="token operator">=</span> a <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> b <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">:</span> c <span class="token operator">?</span> <span class="token number">3</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="add-operator"><a name="add-operator" class="anchor-navigation-ex-anchor" href="#add-operator"><i class="fa fa-link" aria-hidden="true"></i></a>3.3. Add Operator</h3>
<p><code>a + b</code>:</p>
<ul>
<li>&#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x9075;&#x5FAA;&#x5BF9;&#x8C61;&#x5BF9;&#x539F;&#x59CB;&#x503C;&#x7684;&#x8F6C;&#x6362;&#x8FC7;&#x7A0B;
(Date&#x5BF9;&#x8C61;&#x76F4;&#x63A5;&#x8C03;&#x7528;toString&#x5B8C;&#x6210;&#x8F6C;&#x6362;&#xFF0C;
&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x901A;&#x8FC7;valueOf&#x8F6C;&#x5316;&#xFF0C;
&#x5982;&#x679C;&#x8F6C;&#x6362;&#x4E0D;&#x6210;&#x529F;&#x5219;&#x8C03;&#x7528;toString)</li>
<li>&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x90FD;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x9075;&#x5FAA;&#x6B65;&#x9AA4;1&#x8F6C;&#x6362;&#x5230;&#x5B57;&#x7B26;&#x4E32;</li>
<li>&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x8FDB;&#x884C;&#x7B97;&#x6570;&#x8FD0;&#x7B97;</li>
<li>&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x76F4;&#x63A5;&#x62FC;&#x63A5;</li>
<li>&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x76F4;&#x63A5;&#x62FC;&#x63A5;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;</li>
</ul>
<h2 id="&#x63A7;&#x5236;&#x6D41;&#x7A0B;"><a name="&#x63A7;&#x5236;&#x6D41;&#x7A0B;" class="anchor-navigation-ex-anchor" href="#&#x63A7;&#x5236;&#x6D41;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a>4. &#x63A7;&#x5236;&#x6D41;&#x7A0B;</h2>
<h3 id="switchcase"><a name="switchcase" class="anchor-navigation-ex-anchor" href="#switchcase"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. switch/case</h3>
<p>&#x7528;&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x4EE3;&#x66FF; switch/case &#x8BED;&#x53E5;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">doAction</span><span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">hack</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&apos;hack&apos;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">slash</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&apos;slash&apos;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">run</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&apos;run&apos;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> actions<span class="token punctuation">[</span>action<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&apos;Invalid action.&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//&#x95ED;&#x5305;&#x65B9;&#x6CD5;&#x96C6;</span>
  <span class="token keyword">return</span> actions<span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x5BF9;&#x8C61;"><a name="&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>5. &#x5BF9;&#x8C61;</h2>
<h3 id="&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;"><a name="&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. &#x5BF9;&#x8C61;&#x4E09;&#x5927;&#x7279;&#x5F81;</h3>
<ul>
<li>&#x539F;&#x578B;&#x4EE3;&#x7406;(&#x4EAB;&#x5143;&#x6A21;&#x5F0F;): &#x5229;&#x7528;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x5171;&#x4EAB;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x901A;&#x7528;&#x65B9;&#x6CD5;</li>
<li>&#x5B9E;&#x4F8B;&#x72B6;&#x6001;(&#x539F;&#x578B;&#x514B;&#x9686;): &#x5229;&#x7528;&#x539F;&#x578B;&#x514B;&#x9686;&#x62E5;&#x6709;&#x5404;&#x81EA;&#x5C5E;&#x6027;&#x503C;</li>
<li>&#x5C01;&#x88C5;&#x6027;(&#x95ED;&#x5305;&#x5F0F;&#x7EE7;&#x627F;): &#x5229;&#x7528;&#x95ED;&#x5305;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5C5E;&#x6027;&#x79C1;&#x6709;&#x5316;</li>
</ul>
<p>&#x5373;&#x5171;&#x7528;&#x65B9;&#x6CD5;,&#x5355;&#x72EC;&#x5C5E;&#x6027;,&#x5C01;&#x88C5;&#x7EC6;&#x8282;</p>
<h3 id="&#x539F;&#x578B;&#x94FE;"><a name="&#x539F;&#x578B;&#x94FE;" class="anchor-navigation-ex-anchor" href="#&#x539F;&#x578B;&#x94FE;"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. &#x539F;&#x578B;&#x94FE;</h3>
<p><img src="images/prototype.png" alt="&#x539F;&#x578B;&#x94FE;"></p>
<ul>
<li>&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#x4EC5;&#x6709;&#x5C5E;&#x6027;<code>__proto__</code>, &#x6CA1;&#x6709;&#x5C5E;&#x6027;<code>prototype</code>, &#x51FD;&#x6570;&#x624D;&#x5177;&#x6709;&#x5C5E;&#x6027; <code>prototype</code> (&#x6307;&#x5411;&#x5F15;&#x64CE;&#x4E3A;&#x5176;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;)</li>
<li>&#x6240;&#x6709;&#x5F15;&#x7528;&#x7C7B;&#x578B; (&#x5305;&#x62EC;&#x5BF9;&#x8C61;/&#x6570;&#x7EC4;/&#x51FD;&#x6570;/&#x6784;&#x9020;&#x51FD;&#x6570;) &#x90FD;&#x6709;&#x5C5E;&#x6027;<code>__proto__</code>(&#x9690;&#x5F0F;&#x539F;&#x578B;)</li>
<li>&#x6240;&#x6709;&#x51FD;&#x6570;/&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684; <code>__proto__</code> &#x90FD;&#x6307;&#x5411; <code>Function.prototype</code></li>
<li>&#x9664;<code>Object.prototype.__proto__</code>&#x6307;&#x5411; null &#x5916;, &#x5176;&#x4F59;&#x51FD;&#x6570;/&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;<code>__proto__</code> &#x90FD;&#x6307;&#x5411; <code>Object.prototype</code></li>
<li>&#x9664;<code>Object.create()</code>&#x5916;, &#x6240;&#x65B0;&#x5EFA;&#x5BF9;&#x8C61;&#x7684; <code>__proto__</code> &#x6307;&#x5411;&#x6784;&#x9020;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;<code>&#x539F;&#x578B;&#x5BF9;&#x8C61;(prototype)</code></li>
<li>&#x9664;<code>typeof Function.prototype</code> &#x4E3A; &apos;function&apos; &#x5916;, &#x5176;&#x4F59;&#x51FD;&#x6570;/&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x90FD;&#x4E3A; &apos;&#x5BF9;&#x8C61;&apos;(<code>typeof</code> &#x4E3A; &apos;object&apos;)</li>
<li>&#x5148;&#x6709;<code>Object.prototype</code>(&#x539F;&#x578B;&#x94FE;&#x9876;&#x7AEF;), <code>Function.prototype</code> &#x7EE7;&#x627F;<code>Object.prototype</code>&#x800C;&#x4EA7;&#x751F;, &#x6700;&#x540E;<code>Object/Function/Array/&#x5176;&#x5B83;&#x6784;&#x9020;&#x51FD;&#x6570;</code>&#x7EE7;&#x627F;<code>Function.prototype</code>&#x800C;&#x4EA7;&#x751F;</li>
</ul>
<blockquote>
<p><code>Object</code> ---<code>__proto__</code>--&gt; <code>Function.prototype</code> ---<code>__proto__</code>
--&gt; <code>Object.prototype</code> ---<code>__proto__</code>--&gt; <code>null</code></p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// auto create FooPrototype</span>
<span class="token comment">// Foo.prototype -&gt; FooPrototype</span>
<span class="token comment">// FooPrototype.constructor -&gt; [function Foo]</span>
<span class="token comment">//</span>
<span class="token comment">// foo.__proto__ -&gt; FooPrototype</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// true because of `Object` is `function Object()` and inherited from `Function.prototype`</span>
<span class="token comment">// Object has its own `prototype` property refer to `Object.prototype`</span>
Object<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token comment">// true because of `Array` is `function Array()` and inherited from `Function.prototype`</span>
<span class="token comment">// Array has its own `prototype` property refer to `Array.prototype`</span>
Array<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token comment">// true because of Function is `function Function()` and inherited from `Function.prototype`</span>
<span class="token comment">// Function has its own `prototype` property refer to `Function.prototype`</span>
Function<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token comment">// true because of Object.protoype is the top of inheritance chains (null is Object.prototype.__proto__)</span>
<span class="token comment">// all `object/function/array instance`.__proto__......__proto__ refer to Object.prototype</span>
Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token comment">// =&gt;</span>
Object <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
Function <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre>
<h3 id="&#x6784;&#x9020;&#x51FD;&#x6570;"><a name="&#x6784;&#x9020;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x6784;&#x9020;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. &#x6784;&#x9020;&#x51FD;&#x6570;</h3>
<ul>
<li>&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;</li>
<li>&#x6240;&#x6709;&#x51FD;&#x6570;(&#x5305;&#x62EC;&#x6784;&#x9020;&#x51FD;&#x6570;)&#x6709; prototype &#x5C5E;&#x6027;</li>
</ul>
<h4 id="&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;"><a name="&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;" class="plugin-anchor" href="#&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;</h4>
<h5 id="&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;"><a name="&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;" class="plugin-anchor" href="#&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;</h5>
<p>&#x5BF9;&#x8C61;&#x5B57;&#x9762;&#x91CF;&#x7531; Object &#x6784;&#x9020;&#x51FD;&#x6570; &#x9690;&#x5F0F;&#x6784;&#x9020;</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&apos;sabertazimi&apos;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre>
<h5 id="new-&#x6784;&#x9020;&#x51FD;&#x6570;"><a name="new-&#x6784;&#x9020;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#new-&#x6784;&#x9020;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="new-&#x6784;&#x9020;&#x51FD;&#x6570;" class="plugin-anchor" href="#new-&#x6784;&#x9020;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>new &#x6784;&#x9020;&#x51FD;&#x6570;</h5>
<p>new &#x6784;&#x9020;&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x539F;&#x7406;&#x5982;&#x4E0B;:</p>
<ul>
<li>&#x5F62;&#x6210;&#x539F;&#x578B;&#x94FE;: &#x9690;&#x5F0F;&#x539F;&#x578B;&#x6307;&#x5411;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61; <code>obj.__proto__ = constructor.prototype</code></li>
<li>&#x6784;&#x9020;&#x51FD;&#x6570;&#x5BF9;&#x8C61;(Constructor)&#x4E0E;&#x539F;&#x578B;&#x5BF9;&#x8C61;(Prototype)&#x4E4B;&#x95F4;&#x5F62;&#x6210;&#x95ED;&#x73AF;:<ul>
<li>Constructor.prototype = Prototype</li>
<li>Prototype.constructor = Constructor</li>
</ul>
</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token parameter">constructor</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//var this = Object.create(Person.prototype);</span>
  <span class="token comment">// this.__proto__ = F.prototype</span>
  <span class="token comment">// F.prototype = Person.prototype</span>
  <span class="token comment">// &#x5373; this.__proto__ = Person.prototype;</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token function">sliceArguments</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">=&gt;</span>
<span class="token keyword">new</span> <span class="token class-name">Constructor</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> employee <span class="token operator">=</span> <span class="token function">newInstance</span><span class="token punctuation">(</span>Empolyee<span class="token punctuation">,</span><span class="token string">&apos;Jack&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">=&gt;</span>
<span class="token keyword">var</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&apos;Jack&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="objectcreate"><a name="objectcreate" class="anchor-navigation-ex-anchor" href="#objectcreate"><i class="fa fa-link" aria-hidden="true"></i></a><a name="objectcreate" class="plugin-anchor" href="#objectcreate"><i class="fa fa-link" aria-hidden="true"></i></a>Object.create</h5>
<pre class="language-"><code class="lang-js">Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
      <span class="token string">&apos;Object.create implementation&apos;</span> <span class="token operator">+</span> <span class="token string">&apos; only accepts the first parameter.&apos;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x8FD4;&#x56DE;&#x503C;"><a name="&#x8FD4;&#x56DE;&#x503C;" class="anchor-navigation-ex-anchor" href="#&#x8FD4;&#x56DE;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8FD4;&#x56DE;&#x503C;" class="plugin-anchor" href="#&#x8FD4;&#x56DE;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8FD4;&#x56DE;&#x503C;</h4>
<ul>
<li>&#x8FD4;&#x56DE; this &#x6216; user-defined literal object</li>
<li>&#x5F53;&#x8FD4;&#x56DE;&#x503C;&#x4E3A;<strong>&#x57FA;&#x672C;&#x7C7B;&#x578B;</strong>&#x65F6;,&#x4ECD;&#x7136;&#x53EF;&#x5F97;&#x5230; this &#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x539F;&#x6709;&#x5BF9;&#x8C61;</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> <span class="token function-variable function">ObjectMaker</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&apos;This is it&apos;</span><span class="token punctuation">;</span>
  <span class="token comment">//user-defined literal object</span>
  <span class="token comment">//&#x76F4;&#x63A5;&#x5FFD;&#x7565;this.name</span>
  <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  that<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;And that&apos;s that&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> that<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="instanceof"><a name="instanceof" class="anchor-navigation-ex-anchor" href="#instanceof"><i class="fa fa-link" aria-hidden="true"></i></a><a name="instanceof" class="plugin-anchor" href="#instanceof"><i class="fa fa-link" aria-hidden="true"></i></a>instanceof</h4>
<p>&#x82E5; &#x5728;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x94FE;(<code>__proto__</code>)&#x4E2D; &#x80FD;&#x627E;&#x5230; &#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;<code>prototype</code>&#x5C5E;&#x6027;(Prototype &#x5BF9;&#x8C61;), &#x5219;&#x8FD4;&#x56DE;<code>true</code>, &#x5426;&#x5219;&#x8FD4;&#x56DE;<code>false</code></p>
<pre class="language-"><code class="lang-js"><span class="token comment">// true only if</span>
<span class="token comment">// 1. Foo.__proto__ === Bar.prototype</span>
<span class="token comment">// 2. Foo.__proto__......__proto__ === Bar.prototype</span>
Foo instance <span class="token keyword">of</span> Bar
</code></pre>
<h4 id="&#x6700;&#x4F73;&#x5B9E;&#x8DF5;"><a name="&#x6700;&#x4F73;&#x5B9E;&#x8DF5;" class="anchor-navigation-ex-anchor" href="#&#x6700;&#x4F73;&#x5B9E;&#x8DF5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6700;&#x4F73;&#x5B9E;&#x8DF5;" class="plugin-anchor" href="#&#x6700;&#x4F73;&#x5B9E;&#x8DF5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6700;&#x4F73;&#x5B9E;&#x8DF5;</h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">Waffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//&#x5F53;&#x672A;&#x4F7F;&#x7528;new&#x5173;&#x952E;&#x5B57;&#x65F6;,this&#x6307;&#x5411;&#x5168;&#x5C40;&#x5BF9;&#x8C61;</span>
  <span class="token comment">//&#x6B64;&#x65F6;&#x8FDB;&#x5165;if&#x8BED;&#x53E5;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Waffle</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Waffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//&#x6B63;&#x5E38;&#x6784;&#x9020;&#x51FD;&#x6570;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tastes <span class="token operator">=</span> <span class="token string">&apos;yummy&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x5168;&#x5C40;&#x5BF9;&#x8C61;"><a name="&#x5168;&#x5C40;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x5168;&#x5C40;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>5.4. &#x5168;&#x5C40;&#x5BF9;&#x8C61;</h3>
<pre class="language-"><code class="lang-javascript"><span class="token comment">//&#x7ACB;&#x5373;&#x51FD;&#x6570;&#x6A21;&#x5F0F;:</span>
<span class="token comment">//&#x6B64;&#x65F6;&#x8FD4;&#x56DE;&#x503C;&#x4E0D;&#x662F;&#x51FD;&#x6570;&#x672C;&#x8EAB;,&#x800C;&#x662F;&#x51FD;&#x6570;&#x6267;&#x884C;&#x540E;&#x7684;return&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x503C;</span>
<span class="token keyword">var</span> global <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//&#x8FD4;&#x56DE;&#x5168;&#x5C40;&#x5BF9;&#x8C61;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;"><a name="&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>5.5. &#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x7279;&#x6743;&#x65B9;&#x6CD5;</h3>
<h4 id="&#x79C1;&#x6709;&#x5C5E;&#x6027;"><a name="&#x79C1;&#x6709;&#x5C5E;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x79C1;&#x6709;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x79C1;&#x6709;&#x5C5E;&#x6027;" class="plugin-anchor" href="#&#x79C1;&#x6709;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x79C1;&#x6709;&#x5C5E;&#x6027;</h4>
<p>&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;: &#x95ED;&#x5305;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">Gadget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// private member</span>
  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&apos;iPod&apos;</span><span class="token punctuation">;</span>
  <span class="token comment">// public function</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x7279;&#x6743;&#x65B9;&#x6CD5;"><a name="&#x7279;&#x6743;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x7279;&#x6743;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7279;&#x6743;&#x65B9;&#x6CD5;" class="plugin-anchor" href="#&#x7279;&#x6743;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7279;&#x6743;&#x65B9;&#x6CD5;</h4>
<p>getter:&#x8FD4;&#x56DE;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x503C;/<strong>&#x5F15;&#x7528;</strong>&#x7C7B;&#x578B;<strong>&#x6DF1;&#x62F7;&#x8D1D;</strong>(POLA &#x6700;&#x4F4E;&#x6388;&#x6743;&#x539F;&#x5219;)</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">Gadget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// private member</span>
  <span class="token keyword">var</span> pref <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// public function</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getPref</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pref<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Best Practice: <strong>&#x5373;&#x4F7F;&#x51FD;&#x6570;&#x6A21;&#x5F0F; + &#x63ED;&#x793A;&#x6A21;&#x5F0F;</strong></p>
<ul>
<li>&#x5B9E;&#x73B0;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x4E0E;&#x79C1;&#x6709;&#x65B9;&#x6CD5;</li>
<li>&#x63D0;&#x4F9B;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x7684;&#x516C;&#x5171;(&#x8BFB;/&#x6267;&#x884C; not &#x5199;)&#x63A5;&#x53E3;,&#x516C;&#x5171;&#x63A5;&#x53E3;&#x53D1;&#x751F;&#x610F;&#x5916;,&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x4ECD;&#x5B89;&#x5168;</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token comment">//&#x533F;&#x540D;&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;</span>
<span class="token keyword">var</span> myobj <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// private member</span>
  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;tazimi&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// private method</span>
  <span class="token keyword">var</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &#x95ED;&#x5305;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x516C;&#x5171;&#x63A5;&#x53E3; - &#x79C1;&#x6709;&#x65B9;&#x6CD5;</span>
    getName<span class="token operator">:</span> getName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;"><a name="&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>5.6. &#x9759;&#x6001;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;</h3>
<h4 id="&#x9759;&#x6001;&#x5C5E;&#x6027;"><a name="&#x9759;&#x6001;&#x5C5E;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x9759;&#x6001;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x9759;&#x6001;&#x5C5E;&#x6027;" class="plugin-anchor" href="#&#x9759;&#x6001;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9759;&#x6001;&#x5C5E;&#x6027;</h4>
<p>&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;: &#x95ED;&#x5305;/&#x539F;&#x578B;&#x4EE3;&#x7406;</p>
<h4 id="&#x9759;&#x6001;&#x65B9;&#x6CD5;"><a name="&#x9759;&#x6001;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x9759;&#x6001;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x9759;&#x6001;&#x65B9;&#x6CD5;" class="plugin-anchor" href="#&#x9759;&#x6001;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9759;&#x6001;&#x65B9;&#x6CD5;</h4>
<p>&#x76F4;&#x63A5;&#x5411;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;</p>
<pre class="language-"><code class="lang-javascript">Object<span class="token punctuation">.</span><span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;"><a name="&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>5.7. &#x6A21;&#x5757;&#x5316;&#x5BF9;&#x8C61;</h3>
<p>&#x547D;&#x540D;&#x7A7A;&#x95F4;+&#x4F9D;&#x8D56;&#x6A21;&#x5F0F;+&#x79C1;&#x6709;&#x5C5E;&#x6027;/&#x7279;&#x6743;&#x65B9;&#x6CD5;+&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;+&#x63ED;&#x793A;&#x6A21;&#x5F0F;(&#x516C;&#x5171;&#x63A5;&#x53E3;)+&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;</p>
<p>package+import+private field/methods+constructor+public methods</p>
<p>Best Practice:</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// &#x547D;&#x540D;&#x7A7A;&#x95F4;&#x6A21;&#x5F0F;</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">&apos;MYAPP.utilities.array&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//&#x5F62;&#x53C2;: &#x5BFC;&#x5165;&#x5168;&#x5C40;&#x53D8;&#x91CF;</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span>utilities<span class="token punctuation">.</span>array <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> global</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// start of var declare</span>

<span class="token comment">// &#x4F9D;&#x8D56;&#x6A21;&#x5F0F;</span>
<span class="token keyword">var</span> uobj <span class="token operator">=</span> <span class="token constant">MYAPP</span><span class="token punctuation">.</span>utilities<span class="token punctuation">.</span>object<span class="token punctuation">,</span>
  ulang <span class="token operator">=</span> <span class="token constant">MYAPP</span><span class="token punctuation">.</span>utilities<span class="token punctuation">.</span>lang<span class="token punctuation">,</span>
<span class="token comment">// &#x79C1;&#x6709;&#x5C5E;&#x6027;</span>
  arrStr <span class="token operator">=</span> <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">,</span>
  toStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
<span class="token comment">// &#x79C1;&#x6709;&#x65B9;&#x6CD5;</span>
  <span class="token function-variable function">inArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">haystack<span class="token punctuation">,</span> needle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> haystack<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>haystack<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> needle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> &#x2212;<span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> arrayString<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// end of var declare</span>

<span class="token comment">// &#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;</span>
&#x521D;&#x59CB;&#x5316;&#x4EE3;&#x7801;<span class="token punctuation">,</span>&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;

<span class="token comment">// &#x63ED;&#x793A;&#x516C;&#x5171;&#x63A5;&#x53E3;</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>
  isArray<span class="token operator">:</span> isArray<span class="token punctuation">,</span>
  indexOf<span class="token operator">:</span> inArray
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token constant">MYAPP</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x666E;&#x901A;&#x5C5E;&#x6027;"><a name="&#x666E;&#x901A;&#x5C5E;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x666E;&#x901A;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>5.8. &#x666E;&#x901A;&#x5C5E;&#x6027;</h3>
<p>&#x7F16;&#x5199;&#x51FD;&#x6570;&#x65F6;,&#x4E00;&#x822C;&#x7528;[]&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;</p>
<h3 id="&#x666E;&#x901A;&#x65B9;&#x6CD5;"><a name="&#x666E;&#x901A;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x666E;&#x901A;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>5.9. &#x666E;&#x901A;&#x65B9;&#x6CD5;</h3>
<p>&#x4E3A; prototype &#x6DFB;&#x52A0;&#x65B9;&#x6CD5;,&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B9E;&#x73B0;&#x8BED;&#x6CD5;&#x7CD6; method()&#x7B80;&#x5316;&#x4EE3;&#x7801;(&#x94FE;&#x6A21;&#x5F0F;)</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>method <span class="token operator">!==</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">method</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> implementation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> implementation<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token string">&apos;getName&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token string">&apos;setName&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="class-&#x5F0F;&#x7EE7;&#x627F;"><a name="class-&#x5F0F;&#x7EE7;&#x627F;" class="anchor-navigation-ex-anchor" href="#class-&#x5F0F;&#x7EE7;&#x627F;"><i class="fa fa-link" aria-hidden="true"></i></a>5.10. Class &#x5F0F;&#x7EE7;&#x627F;</h3>
<h4 id="&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;"><a name="&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;" class="anchor-navigation-ex-anchor" href="#&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;" class="plugin-anchor" href="#&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;(&#x8FD0;&#x7528;&#x4E2D;&#x7EE7;&#x8005;)</h4>
<p>&#x53EF;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;&#x4E2D;,&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x6D88;&#x8017; <strong>Best Practice</strong>:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> inherit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x51CF;&#x5C11;&#x7EE7;&#x627F;&#x8FC7;&#x7A0B;&#x4E2D;&#x7236;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x5316;,&#x51CF;&#x5C11;&#x8D44;&#x6E90;&#x6D88;&#x8017;</span>
  <span class="token comment">// &#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A;&#x7A7A;&#x7C7B;&#x6240;&#x9700;&#x8D44;&#x6E90;&#x66F4;&#x5C11;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">C</span><span class="token punctuation">,</span> <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// c.__proto__ = C.prototype = f</span>
    <span class="token comment">// f.__proto__ = F.prototype</span>
    <span class="token comment">// F.prototype = P.prototype</span>
    <span class="token comment">// c.__proto__.__proto__ = f.__proto__ = P.prototype</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">P</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// f.__proto__ = F.prototype = P.prototype</span>
    <span class="token class-name">C</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// C.prototype = f</span>
    <span class="token class-name">C</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> <span class="token constant">C</span><span class="token punctuation">;</span>
    <span class="token constant">C</span><span class="token punctuation">.</span>super <span class="token operator">=</span> <span class="token class-name">P</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// &#x6B64;&#x53E5;&#x53EF;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x91CD;&#x7528;&#x6027;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Child<span class="token punctuation">.</span>super<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x7C7B;&#x7EE7;&#x627F;&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x539F;&#x578B;-&#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;"><a name="&#x7C7B;&#x7EE7;&#x627F;&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x539F;&#x578B;-&#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x7EE7;&#x627F;&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x539F;&#x578B;-&#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7C7B;&#x7EE7;&#x627F;&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x539F;&#x578B;-&#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;" class="plugin-anchor" href="#&#x7C7B;&#x7EE7;&#x627F;&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x539F;&#x578B;-&#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7C7B;&#x7EE7;&#x627F;(<strong>&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;</strong>)&#x4E0E;&#x539F;&#x578B;&#x7EE7;&#x627F;(<strong>&#x8BBE;&#x7F6E;&#x539F;&#x578B;</strong>) &#x6DF7;&#x5408;&#x7EE7;&#x627F;&#x6A21;&#x5F0F;</h4>
<ul>
<li><code>child.prototype = new Parent();</code></li>
<li><code>Parent.apply(this, arguments);</code></li>
</ul>
<p>&#x6B64;&#x6A21;&#x5F0F;&#x4F1A;&#x4F7F;&#x5F97;&#x5B50;&#x7C7B;&#x5C5E;&#x6027;&#x7EE7;&#x627F; 2 &#x6B21; <strong>Best Practice</strong>:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&apos;Adam&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// adding functionality to the prototype</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// child constructor</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8BBE;&#x7F6E;&#x539F;&#x578B;&#x94FE;,&#x5EFA;&#x7ACB;&#x7EE7;&#x627F;&#x5173;&#x7CFB;</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span> <span class="token comment">// &#x4F7F;&#x5F97; Prototype &#x5BF9;&#x8C61;&#x4E0E; Constructor &#x5BF9;&#x8C61;&#x5F62;&#x6210;&#x95ED;&#x73AF;</span>
</code></pre>
<h4 id="kclass-&#x8BED;&#x6CD5;&#x7CD6;"><a name="kclass-&#x8BED;&#x6CD5;&#x7CD6;" class="anchor-navigation-ex-anchor" href="#kclass-&#x8BED;&#x6CD5;&#x7CD6;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="kclass-&#x8BED;&#x6CD5;&#x7CD6;" class="plugin-anchor" href="#kclass-&#x8BED;&#x6CD5;&#x7CD6;"><i class="fa fa-link" aria-hidden="true"></i></a>kclass &#x8BED;&#x6CD5;&#x7CD6;</h4>
<p>&#x590D;&#x5236;&#x5F0F;&#x5730;&#x7EE7;&#x627F;&#xFF0C;&#x5C06;&#x4F1A;&#x6D88;&#x8017;&#x5927;&#x91CF;&#x5185;&#x5B58;&#x5355;&#x5143; <strong>Best Practice</strong>:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> <span class="token function-variable function">klass</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Parent<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> Child<span class="token punctuation">,</span> <span class="token constant">F</span><span class="token punctuation">,</span> i<span class="token punctuation">;</span>

  <span class="token comment">// &#x65B0;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;</span>
  <span class="token function-variable function">Child</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Child<span class="token punctuation">.</span>uber <span class="token operator">&amp;&amp;</span> Child<span class="token punctuation">.</span>uber<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&apos;_construct&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Child<span class="token punctuation">.</span>uber<span class="token punctuation">.</span><span class="token function">_construct</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&apos;_construct&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">_construct</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// &#x7C7B;&#x5F0F;&#x7EE7;&#x627F;</span>
  Parent <span class="token operator">=</span> Parent <span class="token operator">||</span> Object<span class="token punctuation">;</span>
  <span class="token comment">// &#x4EE3;&#x7406;&#x6784;&#x9020;&#x51FD;&#x6570;F</span>
  <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Child<span class="token punctuation">.</span>uber <span class="token operator">=</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span>

  <span class="token comment">// &#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> props<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// return the &quot;class&quot;</span>
  <span class="token keyword">return</span> Child<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> SuperMan <span class="token operator">=</span> <span class="token function">klass</span><span class="token punctuation">(</span>Man<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">_construct</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">what</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SuperMan&apos;s constructor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> SuperMan<span class="token punctuation">.</span>uber<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&apos;I am &apos;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;"><a name="&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;" class="anchor-navigation-ex-anchor" href="#&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;"><i class="fa fa-link" aria-hidden="true"></i></a>5.11. &#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;</h3>
<h4 id="&#x5171;&#x4EAB;---&#x539F;&#x578B;&#x4EE3;&#x7406;prototype"><a name="&#x5171;&#x4EAB;---&#x539F;&#x578B;&#x4EE3;&#x7406;prototype" class="anchor-navigation-ex-anchor" href="#&#x5171;&#x4EAB;---&#x539F;&#x578B;&#x4EE3;&#x7406;prototype"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5171;&#x4EAB;---&#x539F;&#x578B;&#x4EE3;&#x7406;prototype" class="plugin-anchor" href="#&#x5171;&#x4EAB;---&#x539F;&#x578B;&#x4EE3;&#x7406;prototype"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5171;&#x4EAB; - &#x539F;&#x578B;&#x4EE3;&#x7406;(prototype)</h4>
<p>&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x65B0;&#x5B9E;&#x4F8B;&#x7684;&#x539F;&#x578B;&#x5F15;&#x7528;</p>
<pre class="language-"><code class="lang-javascript">f<span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>create<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
        <span class="token string">&apos;Object.create implementation&apos;</span> <span class="token operator">+</span> <span class="token string">&apos; only accepts the first parameter.&apos;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> switchProto <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">isOn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">isOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">toggle</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  state<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> switchInstance <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>switchProto<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x72EC;&#x7ACB;---&#x539F;&#x578B;&#x514B;&#x9686;"><a name="&#x72EC;&#x7ACB;---&#x539F;&#x578B;&#x514B;&#x9686;" class="anchor-navigation-ex-anchor" href="#&#x72EC;&#x7ACB;---&#x539F;&#x578B;&#x514B;&#x9686;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x72EC;&#x7ACB;---&#x539F;&#x578B;&#x514B;&#x9686;" class="plugin-anchor" href="#&#x72EC;&#x7ACB;---&#x539F;&#x578B;&#x514B;&#x9686;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x72EC;&#x7ACB; - &#x539F;&#x578B;&#x514B;&#x9686;</h4>
<p>&#x6B64;&#x65F6;&#x5C5E;&#x6027;&#x4E0E;&#x65B9;&#x6CD5;&#x4E0D;&#x5171;&#x4EAB;&#xFF0C;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x5404;&#x81EA;&#x62E5;&#x6709;&#x4E00;&#x4EFD;&#x62F7;&#x8D1D;</p>
<h5 id="&#x6D45;&#x514B;&#x9686;"><a name="&#x6D45;&#x514B;&#x9686;" class="anchor-navigation-ex-anchor" href="#&#x6D45;&#x514B;&#x9686;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6D45;&#x514B;&#x9686;" class="plugin-anchor" href="#&#x6D45;&#x514B;&#x9686;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D45;&#x514B;&#x9686;</h5>
<pre class="language-"><code class="lang-javascript">_<span class="token punctuation">.</span><span class="token function-variable function">extend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">each</span><span class="token punctuation">(</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="&#x6DF1;&#x514B;&#x9686;"><a name="&#x6DF1;&#x514B;&#x9686;" class="anchor-navigation-ex-anchor" href="#&#x6DF1;&#x514B;&#x9686;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6DF1;&#x514B;&#x9686;" class="plugin-anchor" href="#&#x6DF1;&#x514B;&#x9686;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6DF1;&#x514B;&#x9686;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">extendDeep</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> i<span class="token punctuation">,</span>
    toStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">,</span>
    astr <span class="token operator">=</span> <span class="token string">&apos;[object Array]&apos;</span><span class="token punctuation">;</span>
  child <span class="token operator">=</span> child <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x82E5;&#x5C5E;&#x6027;&#x4E3A;&#x5BF9;&#x8C61;,&#x5219;&#x8FDB;&#x884C;&#x6DF1;&#x514B;&#x9686;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;object&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        child<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> astr <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">extendDeep</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> child<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        child<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> child<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x5C5E;&#x6027;&#x6DF7;&#x5165;---&#x591A;&#x91CD;&#x7EE7;&#x627F;"><a name="&#x5C5E;&#x6027;&#x6DF7;&#x5165;---&#x591A;&#x91CD;&#x7EE7;&#x627F;" class="anchor-navigation-ex-anchor" href="#&#x5C5E;&#x6027;&#x6DF7;&#x5165;---&#x591A;&#x91CD;&#x7EE7;&#x627F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5C5E;&#x6027;&#x6DF7;&#x5165;---&#x591A;&#x91CD;&#x7EE7;&#x627F;" class="plugin-anchor" href="#&#x5C5E;&#x6027;&#x6DF7;&#x5165;---&#x591A;&#x91CD;&#x7EE7;&#x627F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5C5E;&#x6027;&#x6DF7;&#x5165; - &#x591A;&#x91CD;&#x7EE7;&#x627F;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arg<span class="token punctuation">,</span>
    prop<span class="token punctuation">,</span>
    child <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span>arg <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> arg <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> arg <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>prop <span class="token keyword">in</span> arguments<span class="token punctuation">[</span>arg<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>arg<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        child<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">[</span>arg<span class="token punctuation">]</span><span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> child<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> cake <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> eggs<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> large<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> butter<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> salted<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> flour<span class="token operator">:</span> <span class="token string">&apos;3 cups&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> sugar<span class="token operator">:</span> <span class="token string">&apos;sure!&apos;</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x5C01;&#x88C5;---&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x95ED;&#x5305;"><a name="&#x5C01;&#x88C5;---&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x95ED;&#x5305;" class="anchor-navigation-ex-anchor" href="#&#x5C01;&#x88C5;---&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x95ED;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5C01;&#x88C5;---&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x95ED;&#x5305;" class="plugin-anchor" href="#&#x5C01;&#x88C5;---&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x95ED;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5C01;&#x88C5; - &#x5DE5;&#x5382;&#x65B9;&#x6CD5;(&#x95ED;&#x5305;)</h4>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> highlander <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&apos;MacLeod&apos;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">//&#x5229;&#x7528;&#x95ED;&#x5305;&#xFF0C;&#x8FD4;&#x56DE;&#x79C1;&#x6709;&#x5BF9;&#x8C61;&#xFF0C;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> highlander<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;"><a name="&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>5.12. &#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;</h3>
<p>&#x57FA;&#x672C;&#x53D8;&#x91CF;&#x53EA;&#x4F1A;&#x4E34;&#x65F6;&#x8F6C;&#x53D8;&#x4E3A;&#x5305;&#x88C5;&#x7C7B;&#x5BF9;&#x8C61;,&#x82E5;&#x9700;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x5C5E;&#x6027;/&#x65B9;&#x6CD5;:</p>
<ul>
<li>new Number/String/Boolean();</li>
<li>&#x6539;&#x53D8;&#x5185;&#x7F6E;&#x539F;&#x578B;</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// primitive string</span>
<span class="token keyword">var</span> greet <span class="token operator">=</span> <span class="token string">&apos;Hello there&apos;</span><span class="token punctuation">;</span>
<span class="token comment">// primitive is converted to an object</span>
<span class="token comment">// in order to use the split() method</span>
greet<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos; &apos;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello&quot;</span>
<span class="token comment">// attemting to augment a primitive is not an error</span>
greet<span class="token punctuation">.</span>smile <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// but it doesn&apos;t actually work</span>
<span class="token keyword">typeof</span> greet<span class="token punctuation">.</span>smile<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
</code></pre>
<p>&#x4E0D;&#x4F7F;&#x7528; new &#x5173;&#x952E;&#x5B57;,&#x5305;&#x88C5;&#x7C7B;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x57FA;&#x672C;&#x7C7B;&#x578B;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">typeof</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>
<span class="token keyword">typeof</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&apos;1&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>
<span class="token keyword">typeof</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>
<span class="token keyword">typeof</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;string&quot;</span>
<span class="token keyword">typeof</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;boolean&quot;</span>
</code></pre>
<h3 id="&#x9519;&#x8BEF;&#x5BF9;&#x8C61;"><a name="&#x9519;&#x8BEF;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>5.13. &#x9519;&#x8BEF;&#x5BF9;&#x8C61;</h3>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">{</span>
name<span class="token operator">:</span> <span class="token string">&quot;XXError&quot;</span>
message<span class="token operator">:</span> <span class="token string">&quot;something wrong&quot;</span>
extra<span class="token operator">:</span> <span class="token string">&quot;This was rather embarrassing&quot;</span>
remedy<span class="token operator">:</span> genericErrorHandler <span class="token comment">//&#x5904;&#x7406;&#x9519;&#x8BEF;&#x7684;&#x51FD;&#x6570;&#x540D;</span>
<span class="token punctuation">}</span>

<span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span><span class="token function">remedy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// genericErrorHandler</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x51FD;&#x6570;"><a name="&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>6. &#x51FD;&#x6570;</h2>
<ul>
<li>&#x51FD;&#x6570;&#x662F;&#x5BF9;&#x8C61;</li>
<li>&#x51FD;&#x6570;&#x63D0;&#x4F9B;&#x5C40;&#x90E8;&#x4F5C;&#x7528;&#x57DF;</li>
<li>Object &#x662F; Function &#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;, <strong>Function.prototype</strong>&#x662F; Object &#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;</li>
</ul>
<pre class="language-"><code class="lang-js">Object<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>
Function<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>
Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre>
<h3 id="invocation-patterns-and-this-bindings"><a name="invocation-patterns-and-this-bindings" class="anchor-navigation-ex-anchor" href="#invocation-patterns-and-this-bindings"><i class="fa fa-link" aria-hidden="true"></i></a>6.1. Invocation Patterns and This Bindings</h3>
<h4 id="implicit-binding"><a name="implicit-binding" class="anchor-navigation-ex-anchor" href="#implicit-binding"><i class="fa fa-link" aria-hidden="true"></i></a><a name="implicit-binding" class="plugin-anchor" href="#implicit-binding"><i class="fa fa-link" aria-hidden="true"></i></a>Implicit Binding</h4>
<ul>
<li>Function Invocation &#x666E;&#x901A;&#x8C03;&#x7528;&#x6A21;&#x5F0F;: <code>this</code> &#x7ED1;&#x5B9A;&#x81F3;&#x5168;&#x5C40;&#x5BF9;&#x8C61;/<code>undefined</code> (<code>strict mode</code>)<ul>
<li>setTimeout &#x548C; setInterval &#x4E2D;&#x4F20;&#x5165;&#x7684; Callbacks
&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x53D8;&#x4E3A; Function Invocation,
<code>this</code> bind to global/undefined object.</li>
<li>&#x540C;&#x7406;, React Class Component &#x4E2D;&#x4F20;&#x5165;&#x7684; Event Handlers
&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x53D8;&#x4E3A; Function Invocation,
&#x9700;&#x8981;&#x663E;&#x5F0F;&#x5730; <code>this.handleClick = this.handleClick.bind(this);</code></li>
</ul>
</li>
<li>Method Invocation &#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x6A21;&#x5F0F;: this &#x7ED1;&#x5B9A;&#x81F3;&#x6B64;&#x65B9;&#x6CD5;&#x6240;&#x5C5E;&#x7684;&#x5BF9;&#x8C61;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this -&gt; global</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x82E5;&#x4E0D;&#x5C06; this &#x8D4B;&#x503C;&#x7ED9; that, &#x800C;&#x5728;&#x5185;&#x90E8;&#x51FD;&#x6570;&#x4E2D;&#x76F4;&#x63A5;&#x4F7F;&#x7528; this.value</span>
    <span class="token comment">// &#x5219;&#x4F1A;&#x53D1;&#x751F;&#x9519;&#x8BEF;: &#x5185;&#x90E8;&#x51FD;&#x6570;&#x7684; this &#x6307;&#x5411;&#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x800C;&#x4E0D;&#x662F;obj</span>
    <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> that<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">heroName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heroName <span class="token operator">=</span> heroName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> batman <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token string">&apos;Batman&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>batman<span class="token punctuation">.</span>logName<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// after 1 second logs &quot;undefined&quot;</span>
</code></pre>
<h4 id="explicit-binding"><a name="explicit-binding" class="anchor-navigation-ex-anchor" href="#explicit-binding"><i class="fa fa-link" aria-hidden="true"></i></a><a name="explicit-binding" class="plugin-anchor" href="#explicit-binding"><i class="fa fa-link" aria-hidden="true"></i></a>Explicit Binding</h4>
<p>Apply/Bind/Call Invocation:
&#x51FD;&#x6570;&#x5F15;&#x7528;&#x4E0D;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x4F5C;&#x7528;&#x57DF; (scope)&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x51FD;&#x6570;&#x6267;&#x884C;&#x4F5C;&#x7528;&#x57DF; (context)</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">this</span><span class="token punctuation">.</span>construct <span class="token operator">=</span> Foo<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">=&gt;</span>
<span class="token function">Foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="constructor-binding"><a name="constructor-binding" class="anchor-navigation-ex-anchor" href="#constructor-binding"><i class="fa fa-link" aria-hidden="true"></i></a><a name="constructor-binding" class="plugin-anchor" href="#constructor-binding"><i class="fa fa-link" aria-hidden="true"></i></a>Constructor Binding</h4>
<p>Constructor Invocation: this &#x7ED1;&#x5B9A;&#x81F3;&#x4F20;&#x5165;&#x7684;&#x7A7A;&#x5BF9;&#x8C61;</p>
<h4 id="arrow-function-binding"><a name="arrow-function-binding" class="anchor-navigation-ex-anchor" href="#arrow-function-binding"><i class="fa fa-link" aria-hidden="true"></i></a><a name="arrow-function-binding" class="plugin-anchor" href="#arrow-function-binding"><i class="fa fa-link" aria-hidden="true"></i></a>Arrow Function Binding</h4>
<ul>
<li><code>this</code> defined where arrow function defined (not called) (<strong>lexical scope</strong>)</li>
<li><code>apply</code>/<code>call</code>/<code>bind</code> can&apos;t change <code>this</code> in arrow function</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">inner</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> func <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// `this` in `inner` function refer to `obj`</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// `this` in `inner` function refer to `window`</span>
</code></pre>
<h3 id="prototype"><a name="prototype" class="anchor-navigation-ex-anchor" href="#prototype"><i class="fa fa-link" aria-hidden="true"></i></a>6.2. prototype</h3>
<ul>
<li><strong>&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#x6CA1;&#x6709; prototype &#x5C5E;&#x6027;</strong></li>
<li>&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#x90FD;&#x6709; prototype &#x5C5E;&#x6027;</li>
<li>prototype &#x5C5E;&#x6027; &#x6307;&#x5411; &#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61; (&#x7531; js &#x5F15;&#x64CE;&#x81EA;&#x52A8;&#x521B;&#x5EFA;)</li>
<li>&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#x7684; <code>__proto__</code> &#x90FD;&#x6307;&#x5411; <code>Function.prototype</code></li>
</ul>
<h3 id="arguments"><a name="arguments" class="anchor-navigation-ex-anchor" href="#arguments"><i class="fa fa-link" aria-hidden="true"></i></a>6.3. arguments</h3>
<ul>
<li>&#x4E0D;&#x662F;&#x6570;&#x7EC4;,&#x4F46;&#x6709; length &#x5C5E;&#x6027;(&#x5B9E;&#x53C2;&#x4E2A;&#x6570;)</li>
<li>Array.prototype/[].func.apply(arguments, ...);</li>
</ul>
<h4 id="argumentscallee"><a name="argumentscallee" class="anchor-navigation-ex-anchor" href="#argumentscallee"><i class="fa fa-link" aria-hidden="true"></i></a><a name="argumentscallee" class="plugin-anchor" href="#argumentscallee"><i class="fa fa-link" aria-hidden="true"></i></a>arguments.callee</h4>
<ul>
<li>&#x5F15;&#x7528; arguments &#x6240;&#x5C5E; function, &#x53EF;&#x4EE5;&#x5229;&#x7528; callee &#x5B9E;&#x73B0;&#x533F;&#x540D;&#x9012;&#x5F52;&#x51FD;&#x6570;</li>
<li>arguments.callee.length: &#x5F62;&#x53C2;&#x4E2A;&#x6570;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">!==</span> arugments<span class="token punctuation">.</span>callee<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&apos;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#x4E0D;&#x5339;&#x914D;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x4F5C;&#x7528;&#x57DF;&#x94FE;"><a name="&#x4F5C;&#x7528;&#x57DF;&#x94FE;" class="anchor-navigation-ex-anchor" href="#&#x4F5C;&#x7528;&#x57DF;&#x94FE;"><i class="fa fa-link" aria-hidden="true"></i></a>6.4. &#x4F5C;&#x7528;&#x57DF;&#x94FE;</h3>
<ul>
<li>&#x51FD;&#x6570;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x65B0;&#x5EFA;&#x6267;&#x884C;&#x73AF;&#x5883;&#x5185;&#x90E8;&#x5BF9;&#x8C61;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x540E;&#x9500;&#x6BC1;&#x6B64;&#x5BF9;&#x8C61;</li>
<li>&#x6BCF;&#x4E2A;&#x6267;&#x884C;&#x73AF;&#x5883;&#x62E5;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x94FE;,&#x4F8B;&#x5982; &#x72EC;&#x7ACB;&#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x3001;&#x72EC;&#x7ACB;<strong>&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;</strong>,</li>
<li>&#x53EF;&#x52A8;&#x6001;&#x6539;&#x53D8;&#x4F5C;&#x7528;&#x57DF;&#x94FE;&#x7684;&#x8BED;&#x53E5;: with/try catch(&#x5F02;&#x5E38;&#x5BF9;&#x8C61;&#x5165;&#x5217;&#xFF0C;&#x4F4D;&#x4E8E;&#x4F5C;&#x7528;&#x57DF;&#x94FE;&#x94FE;&#x9996;)</li>
</ul>
<pre class="language-"><code class="lang-js">scope <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>&#x6D3B;&#x52A8;&#x5BF9;&#x8C61; <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>&#x5168;&#x5C40;&#x5BF9;&#x8C61;
</code></pre>
<h4 id="&#x5168;&#x5C40;&#x5BF9;&#x8C61;-window"><a name="&#x5168;&#x5C40;&#x5BF9;&#x8C61;-window" class="anchor-navigation-ex-anchor" href="#&#x5168;&#x5C40;&#x5BF9;&#x8C61;-window"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5168;&#x5C40;&#x5BF9;&#x8C61;-window" class="plugin-anchor" href="#&#x5168;&#x5C40;&#x5BF9;&#x8C61;-window"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5168;&#x5C40;&#x5BF9;&#x8C61; window</h4>
<p>&#x542B;&#x6709; &#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x5982; window/document&#xFF0C;&#x5168;&#x5C40;&#x65B9;&#x6CD5;&#xFF0C;&#x5168;&#x5C40; this &#x6307;&#x9488;&#x7B49;</p>
<h4 id="&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;activation-object"><a name="&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;activation-object" class="anchor-navigation-ex-anchor" href="#&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;activation-object"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;activation-object" class="plugin-anchor" href="#&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;activation-object"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D3B;&#x52A8;&#x5BF9;&#x8C61;(Activation Object)</h4>
<h3 id="&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;"><a name="&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5. &#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;</h3>
<pre class="language-"><code class="lang-javascript"><span class="token comment">//&#x51FD;&#x6570;&#x58F0;&#x660E;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">//&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//&#x53D8;&#x91CF;&#x63D0;&#x5347;</span>
<span class="token keyword">var</span> foo<span class="token punctuation">;</span>
<span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x51FD;&#x6570;&#x58F0;&#x660E;&#x5BF9;&#x4E8E;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x800C;&#x8A00;&#x65E0;&#x6CD5;&#x4FEE;&#x6539; (const)</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// print out function b { ... }</span>
</code></pre>
<h3 id="&#x51FD;&#x6570;&#x5165;&#x53C2;"><a name="&#x51FD;&#x6570;&#x5165;&#x53C2;" class="anchor-navigation-ex-anchor" href="#&#x51FD;&#x6570;&#x5165;&#x53C2;"><i class="fa fa-link" aria-hidden="true"></i></a>6.6. &#x51FD;&#x6570;&#x5165;&#x53C2;</h3>
<p><strong>&#x65E0;&#x526F;&#x4F5C;&#x7528;</strong>&#x7684;&#x51FD;&#x6570;: &#x6CE8;&#x610F;&#x662F;&#x5426;&#x9700;&#x8981;&#x62F7;&#x8D1D;&#x4F20;&#x5165;&#x5BF9;&#x8C61;,&#x4F7F;&#x539F;&#x6709;&#x5BF9;&#x8C61;&#x4E0D;&#x53D7;&#x51FD;&#x6570;&#x5F71;&#x54CD;,&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x5BF9;&#x8C61;</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// &#x9664;&#x975E;&#x5FC5;&#x8981;,&#x5426;&#x5219;&#x4E0D;&#x6539;&#x53D8;&#x539F;&#x6709;&#x5BF9;&#x8C61;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// &#x597D;&#x4E60;&#x60EF;: &#x6539;&#x53D8;&#x65B0;&#x5BF9;&#x8C61;,&#x8FD4;&#x56DE;&#x65B0;&#x5BF9;&#x8C61;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x56DE;&#x8C03;&#x51FD;&#x6570;"><a name="&#x56DE;&#x8C03;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x56DE;&#x8C03;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>6.7. &#x56DE;&#x8C03;&#x51FD;&#x6570;</h3>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// check if callback is callable</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  callback <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// now callback:</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> <span class="token function-variable function">findNodes</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    found<span class="token punctuation">;</span>

  <span class="token comment">// check if callback is callable</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    callback <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// now callback:</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>found<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>found<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> nodes<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x5F53;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E3A;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;&#x65F6;(&#x7279;&#x522B;&#x65F6;&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528; this &#x6307;&#x9488;),&#x9700;&#x540C;&#x65F6;&#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x53C2;&#x6570;,&#x5E76;&#x5229;&#x7528; apply/call &#x6539;&#x53D8;&#x6267;&#x884C;&#x73AF;&#x5883;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> <span class="token function-variable function">findNodes</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callbackObj<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callbackObj<span class="token punctuation">,</span> found<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">findNodes</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callbackObj<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">&apos;string&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    callback <span class="token operator">=</span> callbackObj<span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callbackObj<span class="token punctuation">,</span> found<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;"><a name="&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;" class="anchor-navigation-ex-anchor" href="#&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;"><i class="fa fa-link" aria-hidden="true"></i></a>6.8. &#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;/&#x60F0;&#x6027;&#x51FD;&#x6570;&#x5B9A;&#x4E49;</h3>
<p>(Self-Defining Function)/(Lazy Function Definition)</p>
<ul>
<li>&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x65F6;,&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#x5E76;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x53D8;&#x91CF;</li>
<li>&#x7B2C;&#x4E8C;&#x6B21;&#x6267;&#x884C;&#x65F6;,&#x4E0D;&#x518D;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;(&#x51FD;&#x6570;&#x88AB;&#x91CD;&#x5B9A;&#x4E49;&#x81F3;&#x771F;&#x6B63;&#x51FD;&#x6570;)</li>
<li>&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x4E3A; promise, &#x5C06;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x7684;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x8C03;&#x7528;&#x4E0D;&#x518D;&#x6D6A;&#x8D39;&#x65B0;&#x7A7A;&#x95F4;&#xFF0C;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x6548;&#x7387;</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token comment">//definition</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// initialize code;</span>
  <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> t<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// &#x4F7F;&#x5F97;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x9884;&#x671F;&#x503C;,&#x4FDD;&#x8BC1;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x884C;&#x4E3A;&#x4FDD;&#x6301;&#x4E00;&#x81F4;</span>
  <span class="token keyword">return</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//first run: same behavoir as second run</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// t</span>
<span class="token comment">//second run</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// t</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> <span class="token function-variable function">addEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  addEvent <span class="token operator">=</span> el<span class="token punctuation">.</span>addEventListener
    <span class="token operator">?</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handle<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&apos;on&apos;</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// &#x4FDD;&#x6301;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x5BF9;&#x5916;&#x8868;&#x73B0;&#x884C;&#x4E3A;&#x4E00;&#x81F4;</span>
  <span class="token function">addEvent</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x5373;&#x65F6;&#x51FD;&#x6570;"><a name="&#x5373;&#x65F6;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x5373;&#x65F6;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>6.9. &#x5373;&#x65F6;&#x51FD;&#x6570;</h3>
<p>&#x5373;&#x65F6;&#x51FD;&#x6570;&#x81EA;&#x52A8;&#x6267;&#x884C;(&#x5B9A;&#x4E49;&#x5373;&#x6267;&#x884C;)&#xFF1A;&#x533F;&#x540D;&#x5305;&#x88C5;&#x5668;</p>
<h4 id="&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;"><a name="&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;" class="plugin-anchor" href="#&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5373;&#x65F6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;</h4>
<ul>
<li>&#x51FD;&#x6570;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x62EC;&#x53F7;(&#x4F20;&#x53C2;),&#x4F7F;&#x51FD;&#x6570;&#x7ACB;&#x5373;&#x6267;&#x884C;</li>
<li>&#x5C06;&#x6574;&#x4E2A;&#x51FD;&#x6570;&#x7F6E;&#x4E8E;&#x62EC;&#x53F7;&#x5185;</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;watch out&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x6A21;&#x5F0F;&#x4F5C;&#x7528;"><a name="&#x6A21;&#x5F0F;&#x4F5C;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x6A21;&#x5F0F;&#x4F5C;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6A21;&#x5F0F;&#x4F5C;&#x7528;" class="plugin-anchor" href="#&#x6A21;&#x5F0F;&#x4F5C;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6A21;&#x5F0F;&#x4F5C;&#x7528;</h4>
<ul>
<li>&#x4F7F;&#x5F97;&#x533F;&#x540D;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x7684;&#x4EE3;&#x7801;&#x80FD;&#x591F;&#x7ACB;&#x5373;&#x6267;&#x884C;</li>
<li>&#x4E0D;&#x6CC4;&#x6F0F;&#x53EA;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x4E0E;&#x65B9;&#x6CD5;</li>
<li>&#x521B;&#x5EFA;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x9632;&#x6B62;&#x53D8;&#x91CF;&#x547D;&#x540D;&#x51B2;&#x7A81;</li>
</ul>
<h4 id="&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;"><a name="&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;" class="anchor-navigation-ex-anchor" href="#&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;" class="plugin-anchor" href="#&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5373;&#x65F6;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;</h4>
<p>var foo = (function () {}());</p>
<p>foo &#x4E0D;&#x88AB;&#x8D4B;&#x4E88; function &#x503C;,&#x800C;&#x88AB;&#x8D4B;&#x4E88;&#x51FD;&#x6570;&#x6267;&#x884C;&#x540E;&#x7684;&#x8FD4;&#x56DE;&#x503C;;
&#x6B64;&#x8FD4;&#x56DE;&#x503C;&#x53EF;&#x8BBE;&#x4E3A;&#x51FD;&#x6570;&#x53EF;&#x4EA7;&#x751F;&#x95ED;&#x5305;&#x3002;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> getResult <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="callapplybind"><a name="callapplybind" class="anchor-navigation-ex-anchor" href="#callapplybind"><i class="fa fa-link" aria-hidden="true"></i></a>6.10. call/apply/bind</h3>
<ul>
<li><code>Function.call(contextObj, arg1, arg2,...)</code></li>
<li><code>Function.apply(contextArray, [arg1, arg2, ...]/arguments)</code></li>
<li>call &#x6548;&#x7387;&#x9AD8;&#x4E8E; apply</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span><span class="token punctuation">.</span>call<span class="token operator">/</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>function<span class="token punctuation">.</span>call<span class="token operator">/</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//js&#x89E3;&#x91CA;&#x5668;&#x4E34;&#x65F6;&#x5C06;&#x6570;&#x7EC4;/&#x5B57;&#x7B26;&#x4E32;&#x5305;&#x88C5;&#x6210;&#x5BF9;&#x8C61;&#x539F;&#x578B;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>arrayStaticFunction<span class="token punctuation">.</span>call<span class="token operator">/</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>arrayStaticFunction<span class="token punctuation">.</span>call<span class="token operator">/</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">&quot;&quot;</span><span class="token punctuation">.</span>stringStaticFunction<span class="token punctuation">.</span>call<span class="token operator">/</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>stringStaticFunction<span class="token punctuation">.</span>call<span class="token operator">/</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x76F8;&#x5F53;&#x4E8E; -</p>
<pre class="language-"><code class="lang-javascript">context<span class="token punctuation">.</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token parameter">arguments</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="bind"><a name="bind" class="anchor-navigation-ex-anchor" href="#bind"><i class="fa fa-link" aria-hidden="true"></i></a><a name="bind" class="plugin-anchor" href="#bind"><i class="fa fa-link" aria-hidden="true"></i></a>bind</h4>
<ul>
<li>change function runtime context (ignore innovation pattern <code>function/method/new/call/apply</code>)</li>
<li>curry function</li>
<li>can&apos;t change <code>this</code> in arrow function</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> bindedFunc <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x901A;&#x8FC7;-callapply-&#x5B9E;&#x73B0;-bind-&#x51FD;&#x6570;"><a name="&#x901A;&#x8FC7;-callapply-&#x5B9E;&#x73B0;-bind-&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x901A;&#x8FC7;-callapply-&#x5B9E;&#x73B0;-bind-&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x901A;&#x8FC7;-callapply-&#x5B9E;&#x73B0;-bind-&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x901A;&#x8FC7;-callapply-&#x5B9E;&#x73B0;-bind-&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x901A;&#x8FC7; call/apply &#x5B9E;&#x73B0; bind &#x51FD;&#x6570;</h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">,</span> m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">m</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> one <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&apos;object&apos;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">greet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> greet <span class="token operator">+</span> <span class="token string">&apos;, &apos;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  two <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&apos;another object&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  twosay <span class="token operator">=</span> <span class="token function">bind</span><span class="token punctuation">(</span>two<span class="token punctuation">,</span> one<span class="token punctuation">.</span>say<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">twosay</span><span class="token punctuation">(</span><span class="token string">&apos;yo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;yo, another object&quot;</span>
</code></pre>
<h3 id="&#x591A;&#x6001;&#x65B9;&#x6CD5;"><a name="&#x591A;&#x6001;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x591A;&#x6001;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>6.11. &#x591A;&#x6001;&#x65B9;&#x6CD5;</h3>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> <span class="token function-variable function">greet</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//&#x8FD0;&#x7528;slice&#x65B9;&#x6CD5;&#x4E0E;arguments&#x9690;&#x53C2;,&#x5F97;&#x5230;&#x53C2;&#x6570;&#x5BF9;&#x8C61;/&#x6570;&#x7EC4;</span>
  <span class="token comment">//&#x8FD0;&#x7528;if/switch&#x65B9;&#x6CD5;&#x5206;&#x60C5;&#x51B5;&#x8C03;&#x7528;&#x51FD;&#x6570;,&#x5B9E;&#x73B0;&#x591A;&#x6001;&#x65B9;&#x6CD5;</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//&#x65B9;&#x6CD5;&#x96C6;&#x4E2D;&#x542B;&#x6709;&#x6B64;&#x65B9;&#x6CD5;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> options <span class="token operator">===</span> <span class="token string">&apos;string&apos;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> methods<span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    action <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token comment">//&#x53D6;&#x7B2C;2&#x4E2A;&#x53C2;&#x6570;&#x5F00;&#x59CB;&#x4E3A;&#x771F;&#x6B63;&#x7684;&#x53C2;&#x6570;</span>
    args<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//&#x8C03;&#x7528;&#x5BF9;&#x5E94;&#x65B9;&#x6CD5;,&#x5165;&#x53C2;&#x4E3A;args,&#x8FD4;&#x56DE;&#x8C03;&#x7528;&#x503C;</span>
  <span class="token keyword">return</span> methods<span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>hasOwnProperty:</p>
<ul>
<li>&#x4F7F;&#x7528;&#x5176;&#x5B83;&#x5BF9;&#x8C61;&#x7684;<code>hasOwnProperty</code>&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4E0A;&#x4E0B;&#x6587;&#x8BBE;&#x7F6E;&#x4E3A;<code>foo</code></li>
</ul>
<p><code>({}).hasOwnProperty.call(foo, &apos;bar&apos;); // true</code></p>
<ul>
<li>&#x63A8;&#x8350;&#x603B;&#x662F;&#x4F7F;&#x7528;<code>hasOwnProperty</code>&#x8FDB;&#x884C;<code>for in</code>&#x5FAA;&#x73AF;</li>
</ul>
<h3 id="eval"><a name="eval" class="anchor-navigation-ex-anchor" href="#eval"><i class="fa fa-link" aria-hidden="true"></i></a>6.12. eval</h3>
<ul>
<li>&#x4E0D;&#x8981;&#x4F7F;&#x7528;<code>eval()</code>&#x51FD;&#x6570;</li>
<li>&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x53C2;&#x6570; new Function();(&#x4F1A;&#x8C03;&#x7528;<code>eval</code>&#x51FD;&#x6570;)</li>
<li>&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;<code>setTimeOut</code>/<code>setInterval</code>&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;(&#x4F1A;&#x8C03;&#x7528;<code>eval</code>&#x51FD;&#x6570;)</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// anti-pattern</span>
<span class="token keyword">var</span> property <span class="token operator">=</span> <span class="token string">&apos;name&apos;</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&apos;obj.&apos;</span> <span class="token operator">+</span> property<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// preferred</span>
<span class="token keyword">var</span> property <span class="token operator">=</span> <span class="token string">&apos;name&apos;</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// anti-pattern</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">&apos;myFunc()&apos;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">&apos;myFunc(1, 2, 3)&apos;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// preferred</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>myFunc<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x5E38;&#x7528;&#x51FD;&#x6570;"><a name="&#x5E38;&#x7528;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>6.13. &#x5E38;&#x7528;&#x51FD;&#x6570;</h3>
<h4 id="object"><a name="object" class="anchor-navigation-ex-anchor" href="#object"><i class="fa fa-link" aria-hidden="true"></i></a><a name="object" class="plugin-anchor" href="#object"><i class="fa fa-link" aria-hidden="true"></i></a>Object</h4>
<ul>
<li><code>Object.create(prototype[,descriptors])</code></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> o <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&apos;Byron&apos;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Object.defineProperty(O,Prop,descriptor)</li>
<li>Object.defineProperties(O,descriptors)</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token comment">// value&#xFF1A;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;undefined</span>
<span class="token comment">// writable&#xFF1A;&#x662F;&#x5426;&#x662F;&#x53EA;&#x8BFB;property&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;false,&#x6709;&#x70B9;&#x50CF;C#&#x4E2D;&#x7684;const</span>
<span class="token comment">// enumerable&#xFF1A;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x88AB;&#x679A;&#x4E3E;(for in)&#xFF0C;&#x9ED8;&#x8BA4;false</span>
<span class="token comment">// configurable&#xFF1A;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x9ED8;&#x8BA4;false</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// get:&#x8FD4;&#x56DE;property&#x7684;&#x503C;&#x5F97;&#x65B9;&#x6CD5;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;undefined</span>
<span class="token comment">// set&#xFF1A;&#x4E3A;property&#x8BBE;&#x7F6E;&#x503C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;undefined</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js

</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token string">&apos;age&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
      writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      configurable<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">&apos;sex&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token string">&apos;male&apos;</span><span class="token punctuation">,</span>
      writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token comment">//  &#x4E0D;&#x53EF;&#x8D4B;&#x503C;</span>
      enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">//  &#x4E0D;&#x53EF;&#x904D;&#x5386;/&#x679A;&#x4E3E;</span>
      configurable<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js">Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
    writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&apos;male&apos;</span><span class="token punctuation">,</span>
    writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Object.getOwnPropertyDescriptor(O,property)</li>
<li>Object.getOwnPropertyNames</li>
<li>Object.keys() - &#x4EC5;&#x83B7;&#x53D6;&#x53EF;&#x679A;&#x4E3E;&#x7684;&#x5C5E;&#x6027;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> props <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">&apos;age&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Object {value: 24, writable: true, enumerable: true, configurable: true}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;age&quot;, &quot;sex&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;age&quot;]</span>
</code></pre>
<ul>
<li>Object.preventExtensions(O)/Object.isExtensible(O) - &#x4E0D;&#x53EF;&#x65B0;&#x589E;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x5220;&#x9664;/&#x4FEE;&#x6539;&#x5C5E;&#x6027;</li>
<li>Object.seal(O)/Object.isSealed(O) - &#x4E0D;&#x53EF;&#x65B0;&#x589E;/&#x5220;&#x9664;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4FEE;&#x6539;&#x5C5E;&#x6027;</li>
<li>Object.freeze(O)/Object.isFrozen(O) - &#x4E0D;&#x53EF;&#x65B0;&#x589E;/&#x5220;&#x9664;/&#x4FEE;&#x6539;&#x5C5E;&#x6027;</li>
</ul>
<h4 id="&#x7C7B;&#x578B;&#x5224;&#x65AD;"><a name="&#x7C7B;&#x578B;&#x5224;&#x65AD;" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x578B;&#x5224;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7C7B;&#x578B;&#x5224;&#x65AD;" class="plugin-anchor" href="#&#x7C7B;&#x578B;&#x5224;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7C7B;&#x578B;&#x5224;&#x65AD;</h4>
<pre class="language-"><code class="lang-javascript"><span class="token function">Boolean</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Array</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Array[&lt;3&#x4E2A;&#x7A7A;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E;&gt;]</span>
</code></pre>
<h4 id="&#x89E3;&#x6790;&#x51FD;&#x6570;"><a name="&#x89E3;&#x6790;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x89E3;&#x6790;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x89E3;&#x6790;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x89E3;&#x6790;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x89E3;&#x6790;&#x51FD;&#x6570;</h4>
<pre class="language-"><code class="lang-js"><span class="token function">parseInt</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token number">8</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x6570;&#x5B66;&#x51FD;&#x6570;"><a name="&#x6570;&#x5B66;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x5B66;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x5B66;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x6570;&#x5B66;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x5B66;&#x51FD;&#x6570;</h4>
<pre class="language-"><code class="lang-javascript">Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>random <span class="token operator">*</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span>min <span class="token operator">/</span> Math<span class="token punctuation">.</span>max<span class="token punctuation">;</span> <span class="token comment">// &#x6700;&#x5C0F;&#x503C;/&#x6700;&#x5927;&#x503C;</span>
</code></pre>
<h4 id="&#x65F6;&#x95F4;&#x51FD;&#x6570;"><a name="&#x65F6;&#x95F4;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x65F6;&#x95F4;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x65F6;&#x95F4;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x65F6;&#x95F4;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x65F6;&#x95F4;&#x51FD;&#x6570;</h4>
<h5 id="setinterval"><a name="setinterval" class="anchor-navigation-ex-anchor" href="#setinterval"><i class="fa fa-link" aria-hidden="true"></i></a><a name="setinterval" class="plugin-anchor" href="#setinterval"><i class="fa fa-link" aria-hidden="true"></i></a>setInterval</h5>
<p><strong>Tips:</strong> &#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x91CD;&#x5FAA;&#x73AF;</p>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x9009;&#x62E9;&#x6392;&#x5E8F;: &#x5177;&#x6709;&#x4E24;&#x91CD;&#x5FAA;&#x73AF;</span>
<span class="token keyword">let</span> animation <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// interval - (&#x5916;)&#x5FAA;&#x73AF;&#x7ED3;&#x675F;&#x6761;&#x4EF6;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>animation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x7ED3;&#x675F;&#x52A8;&#x753B;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ele_arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&apos;data-list__item finish&apos;</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            ele_arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&apos;data-list__item&apos;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// &#x5185;&#x5FAA;&#x73AF;</span>
  j <span class="token operator">=</span> i<span class="token punctuation">;</span>
  temp <span class="token operator">=</span> data_queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> data_queue<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    list_element<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>
      <span class="token function">_createItemElement</span><span class="token punctuation">(</span>data_queue<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      ele_arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    data_queue<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> data_queue<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    ele_arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&apos;data-list__item change&apos;</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        ele_arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&apos;data-list__item&apos;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    j<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  list_element<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token function">_createItemElement</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">,</span> ele_arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  data_queue<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x5E38;&#x7528;&#x6A21;&#x5F0F;"><a name="&#x5E38;&#x7528;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>6.14. &#x5E38;&#x7528;&#x6A21;&#x5F0F;</h3>
<h4 id="api-&#x6A21;&#x5F0F;"><a name="api-&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#api-&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="api-&#x6A21;&#x5F0F;" class="plugin-anchor" href="#api-&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>API &#x6A21;&#x5F0F;</h4>
<h5 id="&#x56DE;&#x8C03;&#x6A21;&#x5F0F;"><a name="&#x56DE;&#x8C03;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x56DE;&#x8C03;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x56DE;&#x8C03;&#x6A21;&#x5F0F;" class="plugin-anchor" href="#&#x56DE;&#x8C03;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x56DE;&#x8C03;&#x6A21;&#x5F0F;</h5>
<h5 id="&#x914D;&#x7F6E;&#x5BF9;&#x8C61;"><a name="&#x914D;&#x7F6E;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x914D;&#x7F6E;&#x5BF9;&#x8C61;" class="plugin-anchor" href="#&#x914D;&#x7F6E;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> conf <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;tazimi&quot;</span><span class="token punctuation">,</span>
  e<span class="token operator">-</span>mail<span class="token operator">:</span> <span class="token string">&quot;test@gmail.com&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">addPerson</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x95ED;&#x5305;"><a name="&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x95ED;&#x5305;" class="anchor-navigation-ex-anchor" href="#&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x95ED;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x95ED;&#x5305;" class="plugin-anchor" href="#&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x95ED;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8FD4;&#x56DE;&#x51FD;&#x6570;(&#x95ED;&#x5305;)</h5>
<p>&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x8BBE;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x51FD;&#x6570;</p>
<h5 id="curry-&#x5316;"><a name="curry-&#x5316;" class="anchor-navigation-ex-anchor" href="#curry-&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="curry-&#x5316;" class="plugin-anchor" href="#curry-&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>Curry &#x5316;</h5>
<h5 id="&#x94FE;&#x6A21;&#x5F0F;"><a name="&#x94FE;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x94FE;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x94FE;&#x6A21;&#x5F0F;" class="plugin-anchor" href="#&#x94FE;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x94FE;&#x6A21;&#x5F0F;</h5>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;"><a name="&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;" class="plugin-anchor" href="#&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5F0F;</h4>
<h5 id="&#x5373;&#x4F7F;&#x51FD;&#x6570;"><a name="&#x5373;&#x4F7F;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x5373;&#x4F7F;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5373;&#x4F7F;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x5373;&#x4F7F;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5373;&#x4F7F;&#x51FD;&#x6570;</h5>
<h5 id="&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;"><a name="&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;" class="plugin-anchor" href="#&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5373;&#x4F7F;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;</h5>
<p>obj.init();</p>
<h5 id="&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;"><a name="&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;" class="plugin-anchor" href="#&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521D;&#x59CB;&#x5316;&#x5206;&#x652F;</h5>
<p>&#x6D4F;&#x89C8;&#x5668;&#x63A2;&#x55C5;:&#x6267;&#x884C;&#x6B64;&#x529F;&#x80FD;&#x7684; if/else &#x8BED;&#x53E5;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;</p>
<p>&#x68C0;&#x6D4B;&#x6D4F;&#x89C8;&#x5668;&#x5BF9; H5/CSS3/ES5/ES2016 &#x7684;&#x652F;&#x6301;&#x60C5;&#x51B5;,&#x4E0D;&#x8DB3;&#x5219;&#x81EA;&#x884C;&#x7F16;&#x5199;&#x51FD;&#x6570;&#x8865;&#x5145;&#x529F;&#x80FD;.</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">&apos;undefined&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x6A21;&#x5757;&#x5316;"><a name="&#x6A21;&#x5757;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x6A21;&#x5757;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>7. &#x6A21;&#x5757;&#x5316;</h2>
<h3 id="&#x547D;&#x540D;&#x7A7A;&#x95F4;"><a name="&#x547D;&#x540D;&#x7A7A;&#x95F4;" class="anchor-navigation-ex-anchor" href="#&#x547D;&#x540D;&#x7A7A;&#x95F4;"><i class="fa fa-link" aria-hidden="true"></i></a>7.1. &#x547D;&#x540D;&#x7A7A;&#x95F4;</h3>
<p>&#x901A;&#x8FC7;&#x4F20;&#x53C2;&#x533F;&#x540D;&#x51FD;&#x6570;,&#x521B;&#x5EFA;&#x547D;&#x540D;&#x7A7A;&#x95F4;,&#x8FDB;&#x884C;&#x6A21;&#x5757;&#x5305;&#x88F9;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> api <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">moduleExists</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x95ED;&#x5305;&#x5F0F;&#x7EE7;&#x627F;,&#x6269;&#x5C55;exports&#x5BF9;&#x8C61;&#x4E3A;api&#x5BF9;&#x8C61;</span>
    $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> api<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">&apos;undefined&apos;</span> <span class="token operator">?</span> window <span class="token operator">:</span> exports<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//&#x5C06;api&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x81F3;app&#x5BF9;&#x8C61;&#x4E0A;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// global object</span>
<span class="token keyword">var</span> <span class="token constant">MYAPP</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// constructors</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function-variable function">Parent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function-variable function">Child</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// a variable</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span>some_var <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// an object container</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span>modules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// nested objects</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span>module1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span>module1<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span>module2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;"><a name="&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x901A;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51FD;&#x6570;</h4>
<pre class="language-"><code class="lang-javascript"><span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function-variable function">namespace</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">namespaceString</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> parts <span class="token operator">=</span> namespaceString<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;.&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    parent <span class="token operator">=</span> <span class="token constant">MYAPP</span><span class="token punctuation">,</span>
    i<span class="token punctuation">;</span>
  <span class="token comment">// strip redundant leading global</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;MYAPP&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// remove leading global</span>
    parts <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> parts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// create a property if it doesn&apos;t exist</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> parent<span class="token punctuation">[</span>parts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;undefined&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parent<span class="token punctuation">[</span>parts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//&#x5173;&#x952E;: &#x5411;&#x5185;&#x5D4C;&#x5957;</span>
    parent <span class="token operator">=</span> parent<span class="token punctuation">[</span>parts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &#x8FD4;&#x56DE;&#x6700;&#x5185;&#x5C42;&#x6A21;&#x5757;&#x540D;</span>
  <span class="token keyword">return</span> parent<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// assign returned value to a local var</span>
<span class="token keyword">var</span> module2 <span class="token operator">=</span> <span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">&apos;MYAPP.modules.module2&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module2 <span class="token operator">===</span> <span class="token constant">MYAPP</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span>module2<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// skip initial `MYAPP`</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">&apos;modules.module51&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// long namespace</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">&apos;once.upon.a.time.there.was.this.long.nested.property&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x6C99;&#x76D2;&#x6A21;&#x5F0F;"><a name="&#x6C99;&#x76D2;&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x6C99;&#x76D2;&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>7.2. &#x6C99;&#x76D2;&#x6A21;&#x5F0F;</h3>
<h4 id="&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;"><a name="&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x73B0;&#x6C99;&#x76D2;&#x6784;&#x9020;&#x51FD;&#x6570;</h4>
<ul>
<li>&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7ED1;&#x5B9A;&#x81F3; this/prototype</li>
<li>&#x7279;&#x6743;&#x65B9;&#x6CD5;&#x7ED1;&#x5B9A;&#x81F3; modules/prototype</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// turning arguments into an array</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// the last argument is the callback</span>
    callback <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// modules can be passed as an array or as individual parameters</span>
    modules <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;string&apos;</span> <span class="token operator">?</span> args <span class="token operator">:</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    i<span class="token punctuation">;</span>

  <span class="token comment">// make sure the function is called</span>
  <span class="token comment">// as a constructor</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Sandbox</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Sandbox</span><span class="token punctuation">(</span>modules<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// add properties to `this` as needed:</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token comment">// now add modules to the core `this` object</span>
  <span class="token comment">// no modules or &quot;*&quot; both mean &quot;use all modules&quot;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>modules <span class="token operator">||</span> modules <span class="token operator">===</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    modules <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> Sandbox<span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Sandbox<span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// initialize the required modules</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> modules<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Sandbox<span class="token punctuation">.</span>modules<span class="token punctuation">[</span>modules<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// call the callback</span>
  <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// any prototype properties as needed</span>
<span class="token class-name">Sandbox</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&apos;My Application&apos;</span><span class="token punctuation">,</span>
  version<span class="token operator">:</span> <span class="token string">&apos;1.0&apos;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x9759;&#x6001;&#x5C5E;&#x6027; - &#x4F7F;&#x7528;&#x6DFB;&#x52A0;&#x7684;&#x65B9;&#x6CD5;/&#x6A21;&#x5757;</p>
<pre class="language-"><code class="lang-javascript">Sandbox<span class="token punctuation">.</span>modules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Sandbox<span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function-variable function">dom</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">getElement</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">getStyle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Sandbox<span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function-variable function">event</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// access to the Sandbox prototype if needed:</span>
  <span class="token comment">// box.constructor.prototype.m = &quot;mmm&quot;;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">attachEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">dettachEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Sandbox<span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function-variable function">ajax</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">makeRequest</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">getResponse</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;"><a name="&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;" class="plugin-anchor" href="#&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6C99;&#x76D2;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;</h4>
<pre class="language-"><code class="lang-javascript"><span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;ajax&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;event&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(box);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token string">&apos;*&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(box);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(box);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token string">&apos;dom&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;event&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// work with dom and event</span>
  <span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token string">&apos;ajax&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">box</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// another sandboxed &quot;box&quot; object</span>
    <span class="token comment">// this &quot;box&quot; is not the same as</span>
    <span class="token comment">// the &quot;box&quot; outside this function</span>
    <span class="token comment">//...</span>
    <span class="token comment">// done with Ajax</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// no trace of Ajax module here</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="javascript-dom-basic-notes"><a name="javascript-dom-basic-notes" class="anchor-navigation-ex-anchor" href="#javascript-dom-basic-notes"><i class="fa fa-link" aria-hidden="true"></i></a>8. JavaScript DOM Basic Notes</h2>
<ul>
<li>DOM Level 0</li>
<li>DOM Level 1<ul>
<li>DOM Core</li>
<li>DOM HTML</li>
</ul>
</li>
<li>DOM Level 2<ul>
<li>DOM2 Core</li>
<li>DOM2 HTML</li>
<li>DOM2 Events</li>
<li>DOM2 Style</li>
<li>DOM2 Traversal</li>
<li>DOM2 Range</li>
<li>DOM2 Views</li>
</ul>
</li>
<li>DOM Level 3<ul>
<li>DOM3 Core</li>
<li>DOM3 Load and Save</li>
<li>DOM3 Validation</li>
</ul>
</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>implementation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>implementation<span class="token punctuation">.</span><span class="token function">hasFeature</span><span class="token punctuation">(</span><span class="token string">&apos;HTML&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;1.0&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// =&gt; DOM HTML</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="dom---o"><a name="dom---o" class="anchor-navigation-ex-anchor" href="#dom---o"><i class="fa fa-link" aria-hidden="true"></i></a>8.1. DOM - O</h3>
<ul>
<li>native object: JavaScript Native e.g. Array</li>
<li>host object: provided by Browser e.g. HTML5 API</li>
<li>user-defined object</li>
</ul>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>element node<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>text node<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>attribute node<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h3 id="dom-core"><a name="dom-core" class="anchor-navigation-ex-anchor" href="#dom-core"><i class="fa fa-link" aria-hidden="true"></i></a>8.2. DOM Core</h3>
<pre class="language-"><code class="lang-js">document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;nodeName&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&apos;String&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
node<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parentElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>childElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
parentElement<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newElement<span class="token punctuation">,</span> targetElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
parentElement<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parentElement<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parentElement<span class="token punctuation">.</span><span class="token function">hasChildNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> showAlert <span class="token operator">=</span> <span class="token punctuation">(</span>type<span class="token punctuation">,</span> message<span class="token punctuation">,</span> duration <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;div&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span>className <span class="token operator">=</span> type<span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span>
  container<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>div<span class="token punctuation">,</span> form<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> div<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> duration <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="dynamic-creation"><a name="dynamic-creation" class="anchor-navigation-ex-anchor" href="#dynamic-creation"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dynamic-creation" class="plugin-anchor" href="#dynamic-creation"><i class="fa fa-link" aria-hidden="true"></i></a>dynamic creation</h4>
<h5 id="append"><a name="append" class="anchor-navigation-ex-anchor" href="#append"><i class="fa fa-link" aria-hidden="true"></i></a><a name="append" class="plugin-anchor" href="#append"><i class="fa fa-link" aria-hidden="true"></i></a>append</h5>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> testdiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;testdiv&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> para <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
testdiv<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>para<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&apos;Hello World&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
para<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="insert"><a name="insert" class="anchor-navigation-ex-anchor" href="#insert"><i class="fa fa-link" aria-hidden="true"></i></a><a name="insert" class="plugin-anchor" href="#insert"><i class="fa fa-link" aria-hidden="true"></i></a>insert</h5>
<pre class="language-"><code class="lang-js"><span class="token comment">// 4 positions</span>
<span class="token comment">//</span>
<span class="token comment">// &lt;!-- beforebegin --&gt;</span>
<span class="token comment">// &lt;p&gt;</span>
<span class="token comment">// &lt;!-- afterbegin --&gt;</span>
<span class="token comment">// foo</span>
<span class="token comment">// &lt;!-- beforeend --&gt;</span>
<span class="token comment">// &lt;/p&gt;</span>
<span class="token comment">// &lt;!-- afterend --&gt;</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">&apos;beforebegin&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&lt;a&gt;&lt;/a&gt;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">insertAdjacentText</span><span class="token punctuation">(</span><span class="token string">&apos;afterbegin&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;foo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// simply be moved element, not copied element</span>
p<span class="token punctuation">.</span><span class="token function">insertAdjacentElement</span><span class="token punctuation">(</span><span class="token string">&apos;beforebegin&apos;</span><span class="token punctuation">,</span> link<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">insertAfter</span><span class="token punctuation">(</span><span class="token parameter">newElement<span class="token punctuation">,</span> targetElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> parent <span class="token operator">=</span> targetElement<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>lastChild <span class="token operator">==</span> targetElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newElement<span class="token punctuation">,</span> targetElement<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="node"><a name="node" class="anchor-navigation-ex-anchor" href="#node"><i class="fa fa-link" aria-hidden="true"></i></a><a name="node" class="plugin-anchor" href="#node"><i class="fa fa-link" aria-hidden="true"></i></a>node</h4>
<p>node &#x9664;&#x5305;&#x62EC;&#x5143;&#x7D20;&#x7ED3;&#x70B9;(tag)&#x5916;&#xFF0C;&#x5305;&#x62EC;&#x8BB8;&#x591A;&#x5176;&#x5B83;&#x7ED3;&#x70B9;(&#x751A;&#x81F3;&#x7A7A;&#x683C;&#x7B26;&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;&#x7ED3;&#x70B9;),&#x9700;&#x501F;&#x52A9; nodeType &#x627E;&#x51FA;&#x76EE;&#x6807;&#x7ED3;&#x70B9;</p>
<pre class="language-"><code class="lang-js">node<span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">nodeType</th>
<th style="text-align:left">representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">&#x5143;&#x7D20;&#x7ED3;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">&#x5C5E;&#x6027;&#x7ED3;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">&#x6587;&#x672C;&#x7ED3;&#x70B9;</td>
</tr>
</tbody>
</table>
<pre class="language-"><code class="lang-js">node<span class="token punctuation">.</span>nodeName<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>nodeValue<span class="token punctuation">;</span>
</code></pre>
<h5 id="traverse-dom-tree"><a name="traverse-dom-tree" class="anchor-navigation-ex-anchor" href="#traverse-dom-tree"><i class="fa fa-link" aria-hidden="true"></i></a><a name="traverse-dom-tree" class="plugin-anchor" href="#traverse-dom-tree"><i class="fa fa-link" aria-hidden="true"></i></a>Traverse DOM Tree</h5>
<pre class="language-"><code class="lang-js">node<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>lastChild<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>previousSibling<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
<span class="token comment">// returns closest ancestor of current element matching selectors</span>
node<span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span>selectors<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Element-only navigation:
Navigation properties listed above refer to all nodes. For instance,
in childNodes we can see both text nodes, element nodes,
and even comment nodes if there exist.</p>
<pre class="language-"><code class="lang-js">node<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>previousElementSibling<span class="token punctuation">;</span>
node<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span>
</code></pre>
<h4 id="frag"><a name="frag" class="anchor-navigation-ex-anchor" href="#frag"><i class="fa fa-link" aria-hidden="true"></i></a><a name="frag" class="plugin-anchor" href="#frag"><i class="fa fa-link" aria-hidden="true"></i></a>Frag</h4>
<p>&#x51CF;&#x5C11; DOM &#x64CD;&#x4F5C;&#x6B21;&#x6570;,&#x51CF;&#x5C11;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x6B21;&#x6570;</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> p<span class="token punctuation">,</span> t<span class="token punctuation">,</span> frag<span class="token punctuation">;</span>

frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&apos;first paragraph&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&apos;second paragraph&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &#x53EA;&#x6E32;&#x67D3;&#x4E00;&#x6B21;HTML&#x9875;&#x9762;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> oldnode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;result&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  clone <span class="token operator">=</span> oldnode<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// work with the clone</span>

<span class="token comment">// when you&apos;re done:</span>
oldnode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">,</span> oldnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="html-dom"><a name="html-dom" class="anchor-navigation-ex-anchor" href="#html-dom"><i class="fa fa-link" aria-hidden="true"></i></a>8.3. HTML DOM</h3>
<pre class="language-"><code class="lang-js">element<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
</code></pre>
<p>innerHTML: unconcrete,including all types of childNodes</p>
<p><code>div.innerHTML = <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>Test.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></p>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>Test.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-js">document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
documents<span class="token punctuation">.</span>images<span class="token punctuation">;</span>
documents<span class="token punctuation">.</span>links<span class="token punctuation">;</span>
documents<span class="token punctuation">.</span>forms<span class="token punctuation">;</span>
documents<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>elements<span class="token punctuation">;</span> <span class="token comment">//&#x7B2C;&#x4E00;&#x4E2A;&#x8868;&#x5355;&#x5185;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;</span>
element<span class="token punctuation">.</span>alt <span class="token operator">=</span> string<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>classname <span class="token operator">=</span> value<span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;cssSelector&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&apos;cssSelector&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="cssom"><a name="cssom" class="anchor-navigation-ex-anchor" href="#cssom"><i class="fa fa-link" aria-hidden="true"></i></a>8.4. CSSOM</h3>
<p>The CSS Object Model is a set of APIs allowing the manipulation of CSS from JavaScript.
It is much like the DOM, but for the CSS rather than the HTML.
It allows users to read and modify CSS style dynamically.</p>
<h4 id="inline-styles"><a name="inline-styles" class="anchor-navigation-ex-anchor" href="#inline-styles"><i class="fa fa-link" aria-hidden="true"></i></a><a name="inline-styles" class="plugin-anchor" href="#inline-styles"><i class="fa fa-link" aria-hidden="true"></i></a>Inline Styles</h4>
<pre class="language-"><code class="lang-js">element<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontFamily<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTopWidth<span class="token punctuation">;</span>
</code></pre>
<h4 id="getset-styles"><a name="getset-styles" class="anchor-navigation-ex-anchor" href="#getset-styles"><i class="fa fa-link" aria-hidden="true"></i></a><a name="getset-styles" class="plugin-anchor" href="#getset-styles"><i class="fa fa-link" aria-hidden="true"></i></a>Get/Set Styles</h4>
<ul>
<li>getPropertyValue</li>
<li>setProperty</li>
<li>removeProperty</li>
<li>item</li>
<li><code>getPropertyPriority</code>: return <code>&apos;&apos;</code> or <code>important</code></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;.box&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&apos;color&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;orange&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&apos;font-family&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Georgia, serif&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
op<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">&apos;color&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
op2<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&apos;font-size&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;1.5em&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;font-size&quot;</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">removeProperty</span><span class="token punctuation">(</span><span class="token string">&apos;font-size&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
</code></pre>
<h4 id="computed-styles"><a name="computed-styles" class="anchor-navigation-ex-anchor" href="#computed-styles"><i class="fa fa-link" aria-hidden="true"></i></a><a name="computed-styles" class="plugin-anchor" href="#computed-styles"><i class="fa fa-link" aria-hidden="true"></i></a>Computed Styles</h4>
<ul>
<li>shorthand style for full property</li>
<li>longhand style for specific property</li>
<li><code>getPropertyValue</code> can get css variables too</li>
</ul>
<pre class="language-"><code class="lang-js">window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span>background<span class="token punctuation">;</span>

<span class="token comment">// dot notation, same as above</span>
window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">;</span>

<span class="token comment">// square bracket notation</span>
window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;background-color&apos;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// using getPropertyValue()</span>
<span class="token comment">// can get css variables property too</span>
window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">&apos;background-color&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="css-class"><a name="css-class" class="anchor-navigation-ex-anchor" href="#css-class"><i class="fa fa-link" aria-hidden="true"></i></a><a name="css-class" class="plugin-anchor" href="#css-class"><i class="fa fa-link" aria-hidden="true"></i></a>CSS Class</h4>
<pre class="language-"><code class="lang-js">element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span>add<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span>remove<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span>toggle<span class="token punctuation">;</span>
</code></pre>
<p><strong>Tip</strong>: bind class</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">addClass</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>element<span class="token punctuation">.</span>className<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>className <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    newClassName <span class="token operator">=</span> element<span class="token punctuation">.</span>className<span class="token punctuation">;</span>
    newClassName <span class="token operator">+=</span> <span class="token string">&apos; &apos;</span><span class="token punctuation">;</span>
    newClassName <span class="token operator">+=</span> value<span class="token punctuation">;</span>
    element<span class="token punctuation">.</span>className <span class="token operator">=</span> newClassName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="cssstylesheet-interface"><a name="cssstylesheet-interface" class="anchor-navigation-ex-anchor" href="#cssstylesheet-interface"><i class="fa fa-link" aria-hidden="true"></i></a><a name="cssstylesheet-interface" class="plugin-anchor" href="#cssstylesheet-interface"><i class="fa fa-link" aria-hidden="true"></i></a>CSSStyleSheet Interface</h4>
<h5 id="css-rules-definition"><a name="css-rules-definition" class="anchor-navigation-ex-anchor" href="#css-rules-definition"><i class="fa fa-link" aria-hidden="true"></i></a><a name="css-rules-definition" class="plugin-anchor" href="#css-rules-definition"><i class="fa fa-link" aria-hidden="true"></i></a>CSS Rules Definition</h5>
<ul>
<li>type of <code>cssRules</code>:
STYLE_RULE (1), IMPORT_RULE (3), MEDIA_RULE (4), KEYFRAMES_RULE (7)</li>
<li><code>selectorText</code> property of rules</li>
<li><code>style</code> property of rules</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> myRules <span class="token operator">=</span> document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cssRules<span class="token punctuation">,</span>
  p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">of</span> myRules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;c&#x200B;ode&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token punctuation">.</span>selectorText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/c&#x200B;ode&gt;&lt;br&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>selectorText <span class="token operator">===</span> <span class="token string">&apos;a:hover&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">.</span>selectorText <span class="token operator">=</span> <span class="token string">&apos;a:hover, a:active&apos;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> myStyle <span class="token operator">=</span> i<span class="token punctuation">.</span>style<span class="token punctuation">;</span>

  <span class="token comment">// Set the bg color on the body</span>
  myStyle<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&apos;background-color&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;peachpuff&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Get the font size of the body</span>
  myStyle<span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">&apos;font-size&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Get the 5th item in the body&apos;s style rule</span>
  myStyle<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Log the current length of the body style rule (8)</span>
  myStyle<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token comment">// Remove the line height</span>
  myStyle<span class="token punctuation">.</span><span class="token function">removeProperty</span><span class="token punctuation">(</span><span class="token string">&apos;line-height&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// log the length again (7)</span>
  myStyle<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token comment">// Check priority of font-family (empty string)</span>
  myStyle<span class="token punctuation">.</span><span class="token function">getPropertyPriority</span><span class="token punctuation">(</span><span class="token string">&apos;font-family&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="media-rule"><a name="media-rule" class="anchor-navigation-ex-anchor" href="#media-rule"><i class="fa fa-link" aria-hidden="true"></i></a><a name="media-rule" class="plugin-anchor" href="#media-rule"><i class="fa fa-link" aria-hidden="true"></i></a>Media Rule</h5>
<ul>
<li><code>conditionText</code> property of media rule</li>
<li>nested <code>cssRules</code></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> myRules <span class="token operator">=</span> document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cssRules<span class="token punctuation">,</span>
  p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;.output&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">of</span> myRules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;c&#x200B;ode&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token punctuation">.</span>conditionText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/c&#x200B;ode&gt;&lt;br&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">of</span> i<span class="token punctuation">.</span>cssRules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      p<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;c&#x200B;ode&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>j<span class="token punctuation">.</span>selectorText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/c&#x200B;ode&gt;&lt;br&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="keyframe-rule"><a name="keyframe-rule" class="anchor-navigation-ex-anchor" href="#keyframe-rule"><i class="fa fa-link" aria-hidden="true"></i></a><a name="keyframe-rule" class="plugin-anchor" href="#keyframe-rule"><i class="fa fa-link" aria-hidden="true"></i></a>Keyframe Rule</h5>
<ul>
<li><code>name</code> property of keyframe rule</li>
<li>nested <code>cssRules</code>:</li>
<li><code>keyText</code> property of rules</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> myRules <span class="token operator">=</span> document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cssRules<span class="token punctuation">,</span>
  p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;.output&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">of</span> myRules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;c&#x200B;ode&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/c&#x200B;ode&gt;&lt;br&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">of</span> i<span class="token punctuation">.</span>cssRules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      p<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;c&#x200B;ode&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>j<span class="token punctuation">.</span>keyText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/c&#x200B;ode&gt;&lt;br&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="addremove-css-rules"><a name="addremove-css-rules" class="anchor-navigation-ex-anchor" href="#addremove-css-rules"><i class="fa fa-link" aria-hidden="true"></i></a><a name="addremove-css-rules" class="plugin-anchor" href="#addremove-css-rules"><i class="fa fa-link" aria-hidden="true"></i></a>Add/Remove CSS Rules</h5>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> myStylesheet <span class="token operator">=</span> document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myStylesheet<span class="token punctuation">.</span>cssRules<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>

document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insertRule</span><span class="token punctuation">(</span>
  <span class="token string">&apos;article { line-height: 1.5; font-size: 1.5em; }&apos;</span><span class="token punctuation">,</span>
  myStylesheet<span class="token punctuation">.</span>cssRules<span class="token punctuation">.</span>length
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cssRules<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> myStylesheet <span class="token operator">=</span> document<span class="token punctuation">.</span>styleSheets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myStylesheet<span class="token punctuation">.</span>cssRules<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>

myStylesheet<span class="token punctuation">.</span><span class="token function">deleteRule</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myStylesheet<span class="token punctuation">.</span>cssRules<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
</code></pre>
<h3 id="dom-events"><a name="dom-events" class="anchor-navigation-ex-anchor" href="#dom-events"><i class="fa fa-link" aria-hidden="true"></i></a>8.5. DOM Events</h3>
<p>For <code>click/keydown</code> events:</p>
<ul>
<li><code>event.prevetDefault()</code></li>
<li><code>event.stopPropagation()</code></li>
</ul>
<p><code>element.dispatchEvent</code> to trigger events.</p>
<h4 id="events-checking"><a name="events-checking" class="anchor-navigation-ex-anchor" href="#events-checking"><i class="fa fa-link" aria-hidden="true"></i></a><a name="events-checking" class="plugin-anchor" href="#events-checking"><i class="fa fa-link" aria-hidden="true"></i></a>Events Checking</h4>
<pre class="language-"><code class="lang-js">node<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return false or true</span>
node<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return false or true</span>
</code></pre>
<h4 id="global-dom-event"><a name="global-dom-event" class="anchor-navigation-ex-anchor" href="#global-dom-event"><i class="fa fa-link" aria-hidden="true"></i></a><a name="global-dom-event" class="plugin-anchor" href="#global-dom-event"><i class="fa fa-link" aria-hidden="true"></i></a>Global DOM Event</h4>
<p>DOMContentLoaded:</p>
<ul>
<li>&#x5F53;&#x6587;&#x6863;&#x4E2D;&#x6CA1;&#x6709;&#x811A;&#x672C;&#x65F6;, &#x6D4F;&#x89C8;&#x5668;&#x89E3;&#x6790;&#x5B8C;&#x6587;&#x6863;&#x4FBF;&#x80FD;&#x89E6;&#x53D1; DOMContentLoaded &#x4E8B;&#x4EF6;</li>
<li>&#x5982;&#x679C;&#x6587;&#x6863;&#x4E2D;&#x5305;&#x542B;&#x811A;&#x672C;, &#x5219;&#x811A;&#x672C;&#x4F1A;&#x963B;&#x585E;&#x6587;&#x6863;&#x7684;&#x89E3;&#x6790;,
&#x800C;&#x811A;&#x672C;&#x9700;&#x8981;&#x7B49; CSSOM &#x6784;&#x5EFA;&#x5B8C;&#x6210;&#x624D;&#x80FD;&#x6267;&#x884C;<ul>
<li>&#x5728; DOM&#x3001;CSSOM &#x6784;&#x5EFA;&#x5B8C;&#x6BD5;, <code>defer</code> &#x811A;&#x672C;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x4E4B;&#x540E;, DOMContentLoaded &#x4E8B;&#x4EF6;&#x89E6;&#x53D1;</li>
<li>HTML &#x6587;&#x6863;&#x6784;&#x5EFA;&#x4E0D;&#x53D7; <code>async</code> &#x811A;&#x672C;&#x5F71;&#x54CD;,
&#x4E0D;&#x9700;&#x8981;&#x7B49;&#x5F85; async &#x811A;&#x672C;&#x6267;&#x884C;&#x4E0E;&#x6837;&#x5F0F;&#x8868;&#x52A0;&#x8F7D;,
HTML &#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x540E;, DOMContentLoaded &#x7ACB;&#x5373;&#x89E6;&#x53D1;</li>
</ul>
</li>
<li>&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;, DOMContentLoaded &#x7684;&#x89E6;&#x53D1;&#x4E0D;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x56FE;&#x7247;&#x7B49;&#x5176;&#x4ED6;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;</li>
<li>&#x5F53; HTML &#x6587;&#x6863;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x5C31;&#x4F1A;&#x89E6;&#x53D1; DOMContentLoaded,
&#x800C;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x4E4B;&#x540E;, <strong>load</strong> &#x4E8B;&#x4EF6;&#x624D;&#x4F1A;&#x88AB;&#x89E6;&#x53D1;</li>
</ul>
<pre class="language-"><code class="lang-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;DOMContentLoaded&apos;</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;DOM fully loaded and parsed.&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="tab-visibility-event"><a name="tab-visibility-event" class="anchor-navigation-ex-anchor" href="#tab-visibility-event"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tab-visibility-event" class="plugin-anchor" href="#tab-visibility-event"><i class="fa fa-link" aria-hidden="true"></i></a>Tab Visibility Event</h4>
<ul>
<li>&#x5207;&#x6362;&#x6807;&#x7B7E;&#x9875;&#x65F6;&#x6539;&#x53D8;&#x7F51;&#x9875;&#x6807;&#x9898;/&#x58F0;&#x97F3;/&#x89C6;&#x9891;</li>
</ul>
<pre class="language-"><code class="lang-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;visibilitychange&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>visibilityState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&apos;hidden&apos;</span><span class="token operator">:</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Tab&#x9690;&#x85CF;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&apos;visible&apos;</span><span class="token operator">:</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Tab&#x88AB;&#x805A;&#x7126;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> videoElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;videoElement&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Autoplay the video if application is visible</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>visibilityState <span class="token operator">==</span> <span class="token string">&apos;visible&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  videoElement<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Handle page visibility change events</span>
<span class="token keyword">function</span> <span class="token function">handleVisibilityChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>visibilityState <span class="token operator">==</span> <span class="token string">&apos;hidden&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    videoElement<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    videoElement<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;visibilitychange&apos;</span><span class="token punctuation">,</span> handleVisibilityChange<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="form-events"><a name="form-events" class="anchor-navigation-ex-anchor" href="#form-events"><i class="fa fa-link" aria-hidden="true"></i></a><a name="form-events" class="plugin-anchor" href="#form-events"><i class="fa fa-link" aria-hidden="true"></i></a>Form Events</h4>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/API/HTMLSelectElement/checkValidity" target="_blank">checkValidity API</a></li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FormData" target="_blank">FromData API</a></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token comment">// &lt;form className=&apos;validated-form&apos; noValidate onSubmit={onSubmit}&gt;</span>

<span class="token keyword">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> form <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
  <span class="token keyword">const</span> isValid <span class="token operator">=</span> form<span class="token punctuation">.</span><span class="token function">checkValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns true or false</span>
  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> validationMessages <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>formData<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    acc<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> form<span class="token punctuation">.</span>elements<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>validationMessage<span class="token punctuation">;</span>
    <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setErrors</span><span class="token punctuation">(</span>validationMessages<span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    validationMessages<span class="token punctuation">,</span>
    data<span class="token punctuation">,</span>
    isValid
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isValid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// here you do what you need to do if is valid</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>formData<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      acc<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> formData<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="input-events"><a name="input-events" class="anchor-navigation-ex-anchor" href="#input-events"><i class="fa fa-link" aria-hidden="true"></i></a><a name="input-events" class="plugin-anchor" href="#input-events"><i class="fa fa-link" aria-hidden="true"></i></a>Input Events</h4>
<ul>
<li>focus/focusin/focusout event</li>
<li>input/change event</li>
<li>select event</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;input&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;select&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> log <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;log&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> selection <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>selectionStart<span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>selectionEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
  log<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You selected: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>selection<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="mouse-events"><a name="mouse-events" class="anchor-navigation-ex-anchor" href="#mouse-events"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mouse-events" class="plugin-anchor" href="#mouse-events"><i class="fa fa-link" aria-hidden="true"></i></a>Mouse Events</h4>
<pre class="language-"><code class="lang-javascript">onclick<span class="token punctuation">;</span>
ondbclick<span class="token punctuation">;</span>
onmouse <span class="token operator">-</span> down <span class="token operator">/</span> move <span class="token operator">/</span> enter <span class="token operator">/</span> out <span class="token operator">/</span> leave <span class="token operator">/</span> over<span class="token punctuation">;</span>
</code></pre>
<p>For click event, no need for X/Y to judge internal/outside state.
Use DOM API <code>element.contains</code> to check is a better way.</p>
<pre class="language-"><code class="lang-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;click&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;main&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">.</span>target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/drag_event" target="_blank">Drag Event</a>:</p>
<ul>
<li>dragstart</li>
<li>dragend</li>
<li>dragover</li>
<li>dragenter</li>
<li>dragleave</li>
<li>drop</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/contextmenu_event" target="_blank">Context Menu Event</a>:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> noContext <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;noContextMenu&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

noContext<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;contextmenu&apos;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="key-events"><a name="key-events" class="anchor-navigation-ex-anchor" href="#key-events"><i class="fa fa-link" aria-hidden="true"></i></a><a name="key-events" class="plugin-anchor" href="#key-events"><i class="fa fa-link" aria-hidden="true"></i></a>Key Events</h4>
<p><code>onkeypress/up/down</code></p>
<pre class="language-"><code class="lang-javascript">document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> e <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event <span class="token operator">||</span> arguments<span class="token punctuation">.</span>callee<span class="token punctuation">.</span>caller<span class="token punctuation">.</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>keyCode <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// enter &#x952E;</span>
    <span class="token comment">//coding</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>event.key =&gt; <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values" target="_blank">keyName</a></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token string">&apos;Alt&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;CapsLock&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Control&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Fn&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Numlock&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Shift&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Enter&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Tab&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos; &apos;</span><span class="token punctuation">;</span> <span class="token comment">// space bar</span>

<span class="token string">&apos;ArrowDown&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;ArrowLeft&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;ArrowRight&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;ArrowUp&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Home&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;End&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;PageDOwn&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;PageUp&apos;</span><span class="token punctuation">;</span>

<span class="token string">&apos;Backspace&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Delete&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Redo&apos;</span><span class="token punctuation">;</span>
<span class="token string">&apos;Undo&apos;</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="clipboard-event"><a name="clipboard-event" class="anchor-navigation-ex-anchor" href="#clipboard-event"><i class="fa fa-link" aria-hidden="true"></i></a><a name="clipboard-event" class="plugin-anchor" href="#clipboard-event"><i class="fa fa-link" aria-hidden="true"></i></a>Clipboard Event</h4>
<ul>
<li>copy</li>
<li>cut</li>
<li>paste</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> source <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;div.source&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;copy&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> selection <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&apos;text/plain&apos;</span><span class="token punctuation">,</span>
      selection<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&apos;copyrihgt information&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="frame-events"><a name="frame-events" class="anchor-navigation-ex-anchor" href="#frame-events"><i class="fa fa-link" aria-hidden="true"></i></a><a name="frame-events" class="plugin-anchor" href="#frame-events"><i class="fa fa-link" aria-hidden="true"></i></a>Frame Events</h4>
<pre class="language-"><code class="lang-javascript">onresize <span class="token operator">/</span> load <span class="token operator">/</span> scroll <span class="token operator">/</span> error<span class="token punctuation">;</span>
</code></pre>
<h4 id="user-defined-handler"><a name="user-defined-handler" class="anchor-navigation-ex-anchor" href="#user-defined-handler"><i class="fa fa-link" aria-hidden="true"></i></a><a name="user-defined-handler" class="plugin-anchor" href="#user-defined-handler"><i class="fa fa-link" aria-hidden="true"></i></a>User-Defined Handler</h4>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">myHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> src<span class="token punctuation">,</span> parts<span class="token punctuation">;</span>

  <span class="token comment">// get event and source element</span>
  e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  src <span class="token operator">=</span> e<span class="token punctuation">.</span>target <span class="token operator">||</span> e<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>

  <span class="token comment">// &#x4E8B;&#x4EF6;&#x6388;&#x6743;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>src<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&apos;button&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// actual work: update label</span>
  parts <span class="token operator">=</span> src<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;: &apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  src<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&apos;: &apos;</span> <span class="token operator">+</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// no bubble</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">.</span>stopPropagation <span class="token operator">===</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">.</span>cancelBubble <span class="token operator">!==</span> <span class="token string">&apos;undefined&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// prevent default action</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">.</span>preventDefault <span class="token operator">===</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">.</span>returnValue <span class="token operator">!==</span> <span class="token string">&apos;undefined&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="document"><a name="document" class="anchor-navigation-ex-anchor" href="#document"><i class="fa fa-link" aria-hidden="true"></i></a>8.6. Document</h3>
<pre class="language-"><code class="lang-javascript">document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token constant">URI</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
</code></pre>
<h3 id="window"><a name="window" class="anchor-navigation-ex-anchor" href="#window"><i class="fa fa-link" aria-hidden="true"></i></a>8.7. Window</h3>
<pre class="language-"><code class="lang-javascript">window<span class="token punctuation">.</span><span class="token function">location</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">innerWidth</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">closed</span><span class="token punctuation">(</span>boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Tip</strong>: &#x5B9E;&#x73B0; jQuery &#x4E2D;`$(document).ready(function(){});</p>
<pre class="language-"><code class="lang-js"><span class="token comment">//initialize</span>
window<span class="token punctuation">.</span>onload <span class="token operator">=</span> readyFunction<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">readyFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">//add more ready function</span>
<span class="token keyword">function</span> <span class="token function">addLoadEvent</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> oldonload <span class="token operator">=</span> window<span class="token punctuation">.</span>onload<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>onload <span class="token operator">!=</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>onload <span class="token operator">=</span> func<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">oldonload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="location-api"><a name="location-api" class="anchor-navigation-ex-anchor" href="#location-api"><i class="fa fa-link" aria-hidden="true"></i></a><a name="location-api" class="plugin-anchor" href="#location-api"><i class="fa fa-link" aria-hidden="true"></i></a>location API</h4>
<table>
<thead>
<tr>
<th style="text-align:left">&#x5C5E;&#x6027;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">hash</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x4ECE;&#x4E95;&#x53F7; (#) &#x5F00;&#x59CB;&#x7684; URL&#xFF08;&#x951A;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left">host</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x5F53;&#x524D; URL &#x7684;&#x7AEF;&#x53E3;&#x53F7;</td>
</tr>
<tr>
<td style="text-align:left">hostname</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x4E3B;&#x673A;&#x540D;</td>
</tr>
<tr>
<td style="text-align:left">href</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;&#x7684; URL</td>
</tr>
<tr>
<td style="text-align:left">pathname</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x8DEF;&#x5F84;&#x90E8;&#x5206;</td>
</tr>
<tr>
<td style="text-align:left">port</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x7AEF;&#x53E3;&#x53F7;</td>
</tr>
<tr>
<td style="text-align:left">protocol</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x534F;&#x8BAE;</td>
</tr>
<tr>
<td style="text-align:left">search</td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x4ECE;&#x95EE;&#x53F7; (?) &#x5F00;&#x59CB;&#x7684; URL&#xFF08;&#x67E5;&#x8BE2;&#x90E8;&#x5206;&#xFF09;</td>
</tr>
</tbody>
</table>
<pre class="language-"><code class="lang-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&apos;hashchange&apos;</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// event.oldURL</span>
    <span class="token comment">// event.nweURL</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash <span class="token operator">===</span> <span class="token string">&apos;#somecoolfeature&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">somecoolfeature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="rect-api"><a name="rect-api" class="anchor-navigation-ex-anchor" href="#rect-api"><i class="fa fa-link" aria-hidden="true"></i></a>8.8. Rect API</h3>
<ul>
<li>getBoundingClientRect</li>
</ul>
<h4 id="widthheight"><a name="widthheight" class="anchor-navigation-ex-anchor" href="#widthheight"><i class="fa fa-link" aria-hidden="true"></i></a><a name="widthheight" class="plugin-anchor" href="#widthheight"><i class="fa fa-link" aria-hidden="true"></i></a>width/height</h4>
<ul>
<li>offsetWidth/offsetHeight = content + padding + border</li>
<li>clientWidth/clientHeight = content + padding</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> height <span class="token operator">=</span>
  window<span class="token punctuation">.</span>innerHeight <span class="token operator">||</span>
  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
</code></pre>
<h4 id="window-height"><a name="window-height" class="anchor-navigation-ex-anchor" href="#window-height"><i class="fa fa-link" aria-hidden="true"></i></a><a name="window-height" class="plugin-anchor" href="#window-height"><i class="fa fa-link" aria-hidden="true"></i></a>Window Height</h4>
<ul>
<li>outerHeight: &#x662F;&#x6574;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5305;&#x62EC;&#x7A97;&#x53E3;&#x6807;&#x9898;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x3001;&#x72B6;&#x6001;&#x680F;&#x7B49;</li>
<li>innerHeight: &#x662F; DOM &#x89C6;&#x53E3;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5305;&#x62EC;&#x6EDA;&#x52A8;&#x6761;</li>
<li>offsetHeight: &#x6574;&#x4E2A;&#x53EF;&#x89C6;&#x533A;&#x57DF;&#x5927;&#x5C0F;&#xFF0C;&#x5305;&#x62EC; border &#x548C; scrollbar &#x5728;&#x5185;</li>
<li>clientHeight: &#x5185;&#x90E8;&#x53EF;&#x89C6;&#x533A;&#x57DF;&#x5927;&#x5C0F;</li>
<li>scrollHeight: &#x5143;&#x7D20;&#x5185;&#x5BB9;&#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x5305;&#x62EC;&#x6EA2;&#x51FA;&#x90E8;&#x5206;</li>
</ul>
<blockquote>
<p>In case of transforms,
the offsetWidth and offsetHeight returns the layout width and height (all the same),
while getBoundingClientRect() returns the rendering width and height.</p>
</blockquote>
<h4 id="scroll-size"><a name="scroll-size" class="anchor-navigation-ex-anchor" href="#scroll-size"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scroll-size" class="plugin-anchor" href="#scroll-size"><i class="fa fa-link" aria-hidden="true"></i></a>Scroll Size</h4>
<ul>
<li>scrollTop/scrollY/pageYOffset: &#x5143;&#x7D20;&#x5185;&#x5BB9;&#x5411;&#x4E0A;&#x6EDA;&#x52A8;&#x4E86;&#x591A;&#x5C11;&#x50CF;&#x7D20;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6EDA;&#x52A8;&#x5219;&#x4E3A; 0</li>
<li>scrollLeft/scrollX/PageXOffset: &#x5143;&#x7D20;&#x5185;&#x5BB9;&#x5411;&#x53F3;&#x6EDA;&#x52A8;&#x4E86;&#x591A;&#x5C11;&#x50CF;&#x7D20;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6EDA;&#x52A8;&#x5219;&#x4E3A; 0</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> supportPageOffset <span class="token operator">=</span> window<span class="token punctuation">.</span>pageXOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isCSS1Compat <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">||</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&apos;CSS1Compat&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> supportPageOffset
  <span class="token operator">?</span> window<span class="token punctuation">.</span>pageXOffset
  <span class="token operator">:</span> isCSS1Compat
  <span class="token operator">?</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft
  <span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> supportPageOffset
  <span class="token operator">?</span> window<span class="token punctuation">.</span>pageYOffset
  <span class="token operator">:</span> isCSS1Compat
  <span class="token operator">?</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop
  <span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">===</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Scrolled to Bottom!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="dom-lefttop-property"><a name="dom-lefttop-property" class="anchor-navigation-ex-anchor" href="#dom-lefttop-property"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dom-lefttop-property" class="plugin-anchor" href="#dom-lefttop-property"><i class="fa fa-link" aria-hidden="true"></i></a>DOM left/top Property</h4>
<ul>
<li>offsetLeft/offsetTop: &#x8868;&#x793A;&#x8BE5;&#x5143;&#x7D20;&#x7684;&#x5DE6;&#x4E0A;&#x89D2;&#xFF08;&#x8FB9;&#x6846;&#x5916;&#x8FB9;&#x7F18;&#xFF09;&#x4E0E;&#x5DF2;&#x5B9A;&#x4F4D;&#x7684;&#x7236;&#x5BB9;&#x5668;&#xFF08;offsetParent &#x5BF9;&#x8C61;&#xFF09;&#x5DE6;&#x4E0A;&#x89D2;&#x7684;&#x8DDD;&#x79BB;</li>
<li>scrollLeft/scrollTop: &#x5143;&#x7D20;&#x6EDA;&#x52A8;&#x6761;&#x4F4D;&#x7F6E;, &#x88AB;&#x9690;&#x85CF;&#x7684;&#x5185;&#x5BB9;&#x533A;&#x57DF;&#x5DE6;&#x4FA7;/&#x4E0A;&#x65B9;&#x7684;&#x50CF;&#x7D20;&#x5927;&#x5C0F;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> <span class="token function-variable function">isElementInViewport</span> <span class="token operator">=</span> <span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> top<span class="token punctuation">,</span> height<span class="token punctuation">,</span> left<span class="token punctuation">,</span> width <span class="token punctuation">}</span> <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> w <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
  <span class="token keyword">const</span> h <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

  <span class="token keyword">return</span> top <span class="token operator">&lt;=</span> h <span class="token operator">&amp;&amp;</span> top <span class="token operator">+</span> height <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> left <span class="token operator">&lt;=</span> w <span class="token operator">&amp;&amp;</span> left <span class="token operator">+</span> width <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="mutation-observer-api"><a name="mutation-observer-api" class="anchor-navigation-ex-anchor" href="#mutation-observer-api"><i class="fa fa-link" aria-hidden="true"></i></a>8.9. Mutation Observer API</h3>
<p>&#x5982;&#x679C;&#x6587;&#x6863;&#x4E2D;&#x8FDE;&#x7EED;&#x63D2;&#x5165; 1000 &#x4E2A; <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span></code> &#x5143;&#x7D20;&#xFF0C;&#x5C31;&#x4F1A;&#x8FDE;&#x7EED;&#x89E6;&#x53D1; 1000 &#x4E2A;&#x63D2;&#x5165;&#x4E8B;&#x4EF6;&#xFF0C;
&#x6267;&#x884C;&#x6BCF;&#x4E2A;&#x4E8B;&#x4EF6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x5F88;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5361;&#x987F;&#xFF1B;
&#x800C; Mutation Observer &#x5B8C;&#x5168;&#x4E0D;&#x540C;&#xFF0C;&#x53EA;&#x5728; 1000 &#x4E2A;&#x6BB5;&#x843D;&#x90FD;&#x63D2;&#x5165;&#x7ED3;&#x675F;&#x540E;&#x624D;&#x4F1A;&#x89E6;&#x53D1;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x89E6;&#x53D1;&#x4E00;&#x6B21;.</p>
<p>Mutation Observer &#x6709;&#x4EE5;&#x4E0B;&#x7279;&#x70B9;:</p>
<ul>
<li>&#x5B83;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x811A;&#x672C;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x624D;&#x4F1A;&#x8FD0;&#x884C;&#xFF0C;&#x5373;&#x91C7;&#x7528;&#x5F02;&#x6B65;&#x65B9;&#x5F0F;</li>
<li>&#x5B83;&#x628A; DOM &#x53D8;&#x52A8;&#x8BB0;&#x5F55;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x6761;&#x6761;&#x5730;&#x4E2A;&#x522B;&#x5904;&#x7406; DOM &#x53D8;&#x52A8;</li>
<li>&#x5B83;&#x5373;&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x53D1;&#x751F;&#x5728; DOM &#x8282;&#x70B9;&#x7684;&#x6240;&#x6709;&#x53D8;&#x52A8;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x67D0;&#x4E00;&#x7C7B;&#x53D8;&#x52A8;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> mutationObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token parameter">mutations</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">mutation</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutation<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &#x5F00;&#x59CB;&#x4FA6;&#x542C;&#x9875;&#x9762;&#x7684;&#x6839; HTML &#x5143;&#x7D20;&#x4E2D;&#x7684;&#x66F4;&#x6539;&#x3002;</span>
mutationObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  attributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  characterData<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  childList<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  subtree<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  attributeOldValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  characterDataOldValue<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#container&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mutations<span class="token punctuation">,</span> observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">mutation</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&apos;attributes&apos;</span><span class="token operator">:</span>
        <span class="token comment">// the name of the changed attribute is in</span>
        <span class="token comment">// mutation.attributeName</span>
        <span class="token comment">// and its old value is in mutation.oldValue</span>
        <span class="token comment">// the current value can be retrieved with</span>
        <span class="token comment">// target.getAttribute(mutation.attributeName)</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&apos;childList&apos;</span><span class="token operator">:</span>
        <span class="token comment">// any added nodes are in mutation.addedNodes</span>
        <span class="token comment">// any removed nodes are in mutation.removedNodes</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  attributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  attributeFilter<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;foo&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// only observe attribute &apos;foo&apos;</span>
  attributeOldValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  childList<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="ajax"><a name="ajax" class="anchor-navigation-ex-anchor" href="#ajax"><i class="fa fa-link" aria-hidden="true"></i></a>9. Ajax</h2>
<h3 id="&#x57FA;&#x672C;&#x7528;&#x6CD5;"><a name="&#x57FA;&#x672C;&#x7528;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x672C;&#x7528;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>9.1. &#x57FA;&#x672C;&#x7528;&#x6CD5;</h3>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> <span class="token constant">XHR</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> standard <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">createXHR</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    newActionXObject <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">createXHR</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ActionXObject</span><span class="token punctuation">(</span><span class="token string">&apos;Msxml12.XMLHTTP&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    oldActionXObject <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">createXHR</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ActionXObject</span><span class="token punctuation">(</span><span class="token string">&apos;Microsoft.XMLHTTP&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// &#x6839;&#x636E;&#x517C;&#x5BB9;&#x6027;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x5DE5;&#x5382;&#x5BF9;&#x8C61;</span>
  <span class="token comment">// &#x6B64;&#x7ACB;&#x5373;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x517C;&#x5BB9;&#x6027;&#x68C0;&#x67E5;&#xFF0C;&#x9632;&#x6B62;&#x91CD;&#x590D;&#x68C0;&#x67E5;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>standard<span class="token punctuation">.</span><span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> standard<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      newActionXObject<span class="token punctuation">.</span><span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> newActionXObject<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      oldActionXObject<span class="token punctuation">.</span><span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> oldActionXObject<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">createXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// 3rd argument : async mode</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&apos;GET&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;example.txt&apos;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//do something</span>
  <span class="token comment">/*
  switch(request.readyState) {
    case 0: initalize
    case 1: loading
    case 2: loaded
    case 3: transaction
    case 4: complete
  }
  */</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> para <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    para<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;new&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>para<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x7B80;&#x5355;&#x5C01;&#x88C5;"><a name="&#x7B80;&#x5355;&#x5C01;&#x88C5;" class="anchor-navigation-ex-anchor" href="#&#x7B80;&#x5355;&#x5C01;&#x88C5;"><i class="fa fa-link" aria-hidden="true"></i></a>9.2. &#x7B80;&#x5355;&#x5C01;&#x88C5;</h3>
<pre class="language-"><code class="lang-javascript"><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&apos;./TestXHR.aspx&apos;</span><span class="token punctuation">,</span> <span class="token comment">//&#x8BF7;&#x6C42;&#x5730;&#x5740;</span>
  type<span class="token operator">:</span> <span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span> <span class="token comment">//&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&apos;super&apos;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//&#x8BF7;&#x6C42;&#x53C2;&#x6570;</span>
  dataType<span class="token operator">:</span> <span class="token string">&apos;json&apos;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response<span class="token punctuation">,</span> xml</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x6B64;&#x5904;&#x653E;&#x6210;&#x529F;&#x540E;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x6B64;&#x5904;&#x653E;&#x5931;&#x8D25;&#x540E;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  options <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">&apos;GET&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span>dataType <span class="token operator">=</span> options<span class="token punctuation">.</span>dataType <span class="token operator">||</span> <span class="token string">&apos;json&apos;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token function">formatParams</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//&#x521B;&#x5EFA; - &#x975E;IE6 - &#x7B2C;&#x4E00;&#x6B65;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//IE6&#x53CA;&#x5176;&#x4EE5;&#x4E0B;&#x7248;&#x672C;&#x6D4F;&#x89C8;&#x5668;</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&apos;Microsoft.XMLHTTP&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//&#x63A5;&#x6536; - &#x7B2C;&#x4E09;&#x6B65;</span>
  xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> status <span class="token operator">=</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>success <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>responseXML<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>fail <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">//&#x8FDE;&#x63A5; &#x548C; &#x53D1;&#x9001; - &#x7B2C;&#x4E8C;&#x6B65;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&apos;GET&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&apos;GET&apos;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">&apos;?&apos;</span> <span class="token operator">+</span> params<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&apos;POST&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x8BBE;&#x7F6E;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x65F6;&#x7684;&#x5185;&#x5BB9;&#x7C7B;&#x578B;</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&apos;Content-Type&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;application/x-www-form-urlencoded&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//&#x683C;&#x5F0F;&#x5316;&#x53C2;&#x6570;</span>
<span class="token keyword">function</span> <span class="token function">formatParams</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> name <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&apos;=&apos;</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&apos;v=&apos;</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&apos;.&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;&amp;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;"><a name="&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;" class="anchor-navigation-ex-anchor" href="#&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;"><i class="fa fa-link" aria-hidden="true"></i></a>9.3. &#x8DE8;&#x57DF;&#x8BF7;&#x6C42;</h3>
<pre class="language-"><code class="lang-html"><span class="token comment">&lt;!-- HTML --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Access-Control-Allow-Origin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-javascript">Response<span class="token punctuation">.</span>Headers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// JSON</span>
<span class="token punctuation">{</span>
 &#x2018;Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin&#x2018;<span class="token operator">:</span> &#x2018;<span class="token operator">*</span>&#x2018;<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span><span class="token string">&quot;http://map.oicqzone.com/gpsApi.php?lat=22.502412986242&amp;lng=113.93832783228&quot;</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span>&#x2018;<span class="token constant">GET</span>&#x2018;<span class="token punctuation">,</span>
  dataType<span class="token operator">:</span>&#x2018;<span class="token constant">JSONP</span>&#x2018;<span class="token punctuation">,</span>  <span class="token comment">// &#x5904;&#x7406;Ajax&#x8DE8;&#x57DF;&#x95EE;&#x9898;</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span>&#x2018;body&#x2018;<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span> <span class="token string">&quot;Name: &quot;</span> <span class="token operator">+</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="json"><a name="json" class="anchor-navigation-ex-anchor" href="#json"><i class="fa fa-link" aria-hidden="true"></i></a>10. JSON</h2>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="jquery"><a name="jquery" class="anchor-navigation-ex-anchor" href="#jquery"><i class="fa fa-link" aria-hidden="true"></i></a>10.1. jQuery</h3>
<pre class="language-"><code class="lang-javascript">$<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&apos;/json/cats.json&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&apos;.message&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><a name="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>11. &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h2>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">pattern</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gim</span></span><span class="token punctuation">;</span>
</code></pre>
<h3 id="flags"><a name="flags" class="anchor-navigation-ex-anchor" href="#flags"><i class="fa fa-link" aria-hidden="true"></i></a>11.1. Flags</h3>
<ul>
<li>g &#x5168;&#x5C40;&#x5339;&#x914D;</li>
<li>m &#x591A;&#x884C;&#x5339;&#x914D;</li>
<li>i &#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x5339;&#x914D;</li>
</ul>
<h3 id="&#x5143;&#x5B57;&#x7B26;"><a name="&#x5143;&#x5B57;&#x7B26;" class="anchor-navigation-ex-anchor" href="#&#x5143;&#x5B57;&#x7B26;"><i class="fa fa-link" aria-hidden="true"></i></a>11.2. &#x5143;&#x5B57;&#x7B26;</h3>
<table>
<thead>
<tr>
<th style="text-align:left">&#x7B26;&#x53F7;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">&#x5339;&#x914D;&#x9664;&#x6362;&#x884C;&#x7B26;&#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x610F;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">\w</td>
<td style="text-align:left">&#x5339;&#x914D;&#x5B57;&#x6BCD;&#x6216;&#x6570;&#x5B57;&#x6216;&#x4E0B;&#x5212;&#x7EBF;&#x6216;&#x6C49;&#x5B57;</td>
</tr>
<tr>
<td style="text-align:left">\s</td>
<td style="text-align:left">&#x7A7A;&#x767D;&#x7B26;(&quot; &quot; \n \r \t \f)</td>
</tr>
<tr>
<td style="text-align:left">\S</td>
<td style="text-align:left">&#x975E;&#x7A7A;&#x767D;&#x7B26;(alpha number)</td>
</tr>
<tr>
<td style="text-align:left">\d</td>
<td style="text-align:left">&#x5339;&#x914D;&#x6570;&#x5B57;</td>
</tr>
<tr>
<td style="text-align:left">\b</td>
<td style="text-align:left">&#x5339;&#x914D;&#x5355;&#x8BCD;&#x7684;&#x5F00;&#x59CB;&#x6216;&#x7ED3;&#x675F;</td>
</tr>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">&#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F00;&#x59CB;</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">&#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7ED3;&#x675F;</td>
</tr>
<tr>
<td style="text-align:left">\W</td>
<td style="text-align:left">&#x5339;&#x914D;&#x4EFB;&#x610F;&#x4E0D;&#x662F;&#x5B57;&#x6BCD;&#xFF0C;&#x6570;&#x5B57;&#xFF0C;&#x4E0B;&#x5212;&#x7EBF;&#xFF0C;&#x6C49;&#x5B57;&#x7684;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">\S</td>
<td style="text-align:left">&#x5339;&#x914D;&#x4EFB;&#x610F;&#x4E0D;&#x662F;&#x7A7A;&#x767D;&#x7B26;&#x7684;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">\D</td>
<td style="text-align:left">&#x5339;&#x914D;&#x4EFB;&#x610F;&#x975E;&#x6570;&#x5B57;&#x7684;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">\B</td>
<td style="text-align:left">&#x5339;&#x914D;&#x4E0D;&#x662F;&#x5355;&#x8BCD;&#x5F00;&#x5934;&#x6216;&#x7ED3;&#x675F;&#x7684;&#x4F4D;&#x7F6E;</td>
</tr>
<tr>
<td style="text-align:left"><sup><a href="#fn_x" id="reffn_x">x</a></sup></td>
<td style="text-align:left">&#x5339;&#x914D;&#x9664;&#x4E86; x &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x610F;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left"><sup><a href="#fn_aeiou" id="reffn_aeiou">aeiou</a></sup></td>
<td style="text-align:left">&#x5339;&#x914D;&#x9664;&#x4E86; aeiou &#x8FD9;&#x51E0;&#x4E2A;&#x5B57;&#x6BCD;&#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x610F;&#x5B57;&#x7B26;</td>
</tr>
</tbody>
</table>
<h3 id="&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;"><a name="&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;"><i class="fa fa-link" aria-hidden="true"></i></a>11.3. &#x5E38;&#x7528;&#x9650;&#x5B9A;&#x7B26;</h3>
<table>
<thead>
<tr>
<th style="text-align:left">&#x7B26;&#x53F7;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">&#x91CD;&#x590D;&#x96F6;&#x6B21;&#x6216;&#x66F4;&#x591A;&#x6B21;</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">&#x91CD;&#x590D;&#x4E00;&#x6B21;&#x6216;&#x66F4;&#x591A;&#x6B21;</td>
</tr>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">&#x91CD;&#x590D;&#x96F6;&#x6B21;&#x6216;&#x4E00;&#x6B21;</td>
</tr>
<tr>
<td style="text-align:left">{n}</td>
<td style="text-align:left">&#x91CD;&#x590D; n &#x6B21;</td>
</tr>
<tr>
<td style="text-align:left">{n,}</td>
<td style="text-align:left">&#x91CD;&#x590D; n &#x6B21;&#x6216;&#x66F4;&#x591A;&#x6B21;</td>
</tr>
<tr>
<td style="text-align:left">{n,m}</td>
<td style="text-align:left">&#x91CD;&#x590D; n &#x5230; m &#x6B21;</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">&#x61D2;&#x60F0;&#x9650;&#x5B9A;&#x7B26;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">*?</td>
<td style="text-align:left">&#x91CD;&#x590D;&#x4EFB;&#x610F;&#x6B21;&#xFF0C;&#x4F46;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x91CD;&#x590D;</td>
</tr>
<tr>
<td style="text-align:left">+?</td>
<td style="text-align:left">&#x91CD;&#x590D; 1 &#x6B21;&#x6216;&#x66F4;&#x591A;&#x6B21;&#xFF0C;&#x4F46;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x91CD;&#x590D;</td>
</tr>
<tr>
<td style="text-align:left">??</td>
<td style="text-align:left">&#x91CD;&#x590D; 0 &#x6B21;&#x6216; 1 &#x6B21;&#xFF0C;&#x4F46;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x91CD;&#x590D;</td>
</tr>
<tr>
<td style="text-align:left">{n,m}?</td>
<td style="text-align:left">&#x91CD;&#x590D; n &#x5230; m &#x6B21;&#xFF0C;&#x4F46;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x91CD;&#x590D;</td>
</tr>
<tr>
<td style="text-align:left">{n,}?</td>
<td style="text-align:left">&#x91CD;&#x590D; n &#x6B21;&#x4EE5;&#x4E0A;&#xFF0C;&#x4F46;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x91CD;&#x590D;</td>
</tr>
</tbody>
</table>
<h3 id="&#x53CD;&#x5411;&#x5F15;&#x7528;"><a name="&#x53CD;&#x5411;&#x5F15;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x53CD;&#x5411;&#x5F15;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>11.4. &#x53CD;&#x5411;&#x5F15;&#x7528;</h3>
<p>&#x4F4D;&#x7F6E;&#x7F16;&#x53F7; - &#x5DE6;&#x62EC;&#x53F7;&#x7684;&#x987A;&#x5E8F;</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> regExp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">((&lt;\/?\w+&gt;.*\2))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><code>\1 \2 \3</code>: &#x7B2C; n &#x4E2A;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;&#x7684;&#x7ED3;&#x679C;&#x5B57;&#x7B26;</li>
<li><code>$1 $2 $3</code>: &#x7B2C; n &#x4E2A;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;&#x7684;&#x7ED3;&#x679C;&#x5B57;&#x7B26;</li>
</ul>
<h3 id="regexp-&#x9759;&#x6001;&#x5C5E;&#x6027;"><a name="regexp-&#x9759;&#x6001;&#x5C5E;&#x6027;" class="anchor-navigation-ex-anchor" href="#regexp-&#x9759;&#x6001;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>11.5. RegExp &#x9759;&#x6001;&#x5C5E;&#x6027;</h3>
<p>&#x53CD;&#x5411;&#x5F15;&#x7528;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x4ECE; RegExp() &#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x53D6;&#x5F97;</p>
<pre class="language-"><code class="lang-js">RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">;</span>
RegExp<span class="token punctuation">.</span>$_<span class="token punctuation">;</span>
RegExp<span class="token punctuation">.</span>$<span class="token operator">&amp;</span><span class="token punctuation">;</span>
RegExp<span class="token punctuation">.</span>$<span class="token operator">+</span><span class="token punctuation">;</span>
RegExp<span class="token punctuation">.</span>$<span class="token operator">*</span><span class="token punctuation">;</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">&#x957F;&#x540D;</th>
<th style="text-align:left">&#x77ED;&#x540D;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">input</td>
<td style="text-align:left">$_</td>
<td style="text-align:left">&#x6700;&#x540E;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x7684;&#x683C;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;</td>
</tr>
<tr>
<td style="text-align:left">lastMatch</td>
<td style="text-align:left"><code>$&amp;</code></td>
<td style="text-align:left">&#x6700;&#x540E;&#x5339;&#x914D;&#x7684;&#x7ED3;&#x679C;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">lastParen</td>
<td style="text-align:left">$+</td>
<td style="text-align:left">&#x6700;&#x540E;&#x5339;&#x914D;&#x7684;&#x5206;&#x7EC4;/&#x5B50;&#x8868;&#x8FBE;&#x5F0F;</td>
</tr>
<tr>
<td style="text-align:left">leftContext</td>
<td style="text-align:left">$`</td>
<td style="text-align:left">&#x5339;&#x914D;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x524D;&#x7684;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">rightContext</td>
<td style="text-align:left">$\&apos;</td>
<td style="text-align:left">&#x5339;&#x914D;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x540E;&#x7684;&#x5B57;&#x7B26;</td>
</tr>
<tr>
<td style="text-align:left">multiline</td>
<td style="text-align:left">$*</td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x662F;&#x5426;&#x5F00;&#x542F;&#x591A;&#x884C;&#x6A21;&#x5F0F;</td>
</tr>
</tbody>
</table>
<h3 id="&#x5206;&#x7EC4;&#x8BED;&#x6CD5;"><a name="&#x5206;&#x7EC4;&#x8BED;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x7EC4;&#x8BED;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>11.6. &#x5206;&#x7EC4;&#x8BED;&#x6CD5;</h3>
<ul>
<li>group</li>
<li>lookahead (&#x96F6;&#x5BBD;&#x65AD;&#x8A00;)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">&#x5206;&#x7C7B;</th>
<th style="text-align:left">&#x4EE3;&#x7801;/&#x8BED;&#x6CD5;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">&#x6355;&#x83B7;</td>
<td style="text-align:left">(exp)</td>
<td style="text-align:left">&#x5339;&#x914D; exp,&#x5E76;&#x6355;&#x83B7;&#x6587;&#x672C;&#x5230;&#x81EA;&#x52A8;&#x547D;&#x540D;&#x7684;&#x7EC4;&#x91CC;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><code>(?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>exp)</code></td>
<td style="text-align:left">&#x5339;&#x914D; exp,&#x5E76;&#x6355;&#x83B7;&#x6587;&#x672C;&#x5230;&#x540D;&#x79F0;&#x4E3A; name &#x7684;&#x7EC4;&#x91CC;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">(?:exp)</td>
<td style="text-align:left">&#x5339;&#x914D; exp,&#x4E0D;&#x6355;&#x83B7;&#x5339;&#x914D;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x4E5F;&#x4E0D;&#x7ED9;&#x6B64;&#x5206;&#x7EC4;&#x5206;&#x914D;&#x7EC4;&#x53F7;</td>
</tr>
<tr>
<td style="text-align:left">&#x96F6;&#x5BBD;&#x65AD;&#x8A00;</td>
<td style="text-align:left">(?=exp)</td>
<td style="text-align:left">&#x5339;&#x914D; exp &#x524D;&#x9762;&#x7684;&#x4F4D;&#x7F6E;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">(?&lt;=exp)</td>
<td style="text-align:left">&#x5339;&#x914D; exp &#x540E;&#x9762;&#x7684;&#x4F4D;&#x7F6E;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">(?!exp)</td>
<td style="text-align:left">&#x5339;&#x914D;&#x540E;&#x9762;&#x8DDF;&#x7684;&#x4E0D;&#x662F; exp &#x7684;&#x4F4D;&#x7F6E;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><code>(?&lt;!exp)</code></td>
<td style="text-align:left">&#x5339;&#x914D;&#x524D;&#x9762;&#x4E0D;&#x662F; exp &#x7684;&#x4F4D;&#x7F6E;</td>
</tr>
<tr>
<td style="text-align:left">&#x6CE8;&#x91CA;</td>
<td style="text-align:left">(?#comment)</td>
<td style="text-align:left">&#x7528;&#x4E8E;&#x63D0;&#x4F9B;&#x6CE8;&#x91CA;&#x8BA9;&#x4EBA;&#x9605;&#x8BFB;</td>
</tr>
</tbody>
</table>
<h3 id="best-practice&#x63D0;&#x5347;&#x6548;&#x7387;"><a name="best-practice&#x63D0;&#x5347;&#x6548;&#x7387;" class="anchor-navigation-ex-anchor" href="#best-practice&#x63D0;&#x5347;&#x6548;&#x7387;"><i class="fa fa-link" aria-hidden="true"></i></a>11.7. Best Practice(&#x63D0;&#x5347;&#x6548;&#x7387;)</h3>
<ul>
<li>&#x4E0D;&#x4F7F;&#x7528; new RegExp(),&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5B57;&#x9762;&#x91CF;</li>
<li>&#x5C06;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x8D4B;&#x503C;&#x7ED9;&#x53D8;&#x91CF;&#xFF0C;&#x9632;&#x6B62;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x91CD;&#x590D;&#x521B;&#x5EFA;</li>
<li>&#x4EE5;&#x7B80;&#x5355;(&#x552F;&#x4E00;&#x6027;)&#x5B57;&#x5143;&#x5F00;&#x59CB;&#xFF0C;&#x5982; <code>^/$ x \u363A [a-z] \b</code>, &#x907F;&#x514D;&#x4EE5;&#x5206;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x5F00;&#x59CB;</li>
</ul>
<pre class="language-"><code class="lang-js">\s\s<span class="token operator">*</span> &#x4F18;&#x4E8E; \s<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span>
</code></pre>
<ul>
<li>&#x51CF;&#x5C11;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x91CD;&#x53E0;&#x5339;&#x914D;</li>
<li>&#x51CF;&#x5C11;&#x5206;&#x652F;&#x8868;&#x8FBE;&#x5F0F;,&#x5E76;&#x5C06;&#x6700;&#x5E38;&#x7528;&#x7684;&#x5206;&#x652F;&#x653E;&#x5728;&#x6700;&#x524D;&#x9762;</li>
<li>&#x65E0;&#x9700;&#x53CD;&#x5411;&#x5F15;&#x7528;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x975E;&#x6355;&#x83B7;&#x7EC4;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token function">&#x4F18;&#x4E8E;</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="regexp-&#x5E38;&#x7528;&#x51FD;&#x6570;"><a name="regexp-&#x5E38;&#x7528;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#regexp-&#x5E38;&#x7528;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>11.8. RegExp &#x5E38;&#x7528;&#x51FD;&#x6570;</h3>
<h4 id="test"><a name="test" class="anchor-navigation-ex-anchor" href="#test"><i class="fa fa-link" aria-hidden="true"></i></a><a name="test" class="plugin-anchor" href="#test"><i class="fa fa-link" aria-hidden="true"></i></a>test</h4>
<pre class="language-"><code class="lang-javascript"><span class="token operator">/</span>Reg<span class="token operator">/</span>Flags<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8FD4;&#x56DE;&#x503C;&#x4E3A; Boolean</span>

<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token operator">|</span><span class="token constant">A</span><span class="token operator">-</span><span class="token constant">Z</span><span class="token operator">|</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span>gmi<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="replace"><a name="replace" class="anchor-navigation-ex-anchor" href="#replace"><i class="fa fa-link" aria-hidden="true"></i></a><a name="replace" class="plugin-anchor" href="#replace"><i class="fa fa-link" aria-hidden="true"></i></a>replace</h4>
<pre class="language-"><code class="lang-js"><span class="token function">replace</span><span class="token punctuation">(</span>regExp<span class="token punctuation">,</span> str <span class="token operator">/</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="replace-arguments"><a name="replace-arguments" class="anchor-navigation-ex-anchor" href="#replace-arguments"><i class="fa fa-link" aria-hidden="true"></i></a><a name="replace-arguments" class="plugin-anchor" href="#replace-arguments"><i class="fa fa-link" aria-hidden="true"></i></a>replace arguments</h5>
<p>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x82E5;&#x4E3A;&#x51FD;&#x6570;&#x5F0F;&#x53C2;&#x6570;,replace &#x65B9;&#x6CD5;&#x4F1A;&#x5411;&#x5B83;&#x4F20;&#x9012;&#x4E00;&#x7CFB;&#x5217;&#x53C2;&#x6570;:</p>
<ul>
<li>&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;: &#x5339;&#x914D;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;</li>
<li>&#x7B2C; n &#x4E2A;&#x53C2;&#x6570;: &#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;</li>
<li>&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;: &#x5339;&#x914D;&#x6587;&#x672C;&#x5728;&#x6E90;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x4E0B;&#x6807;&#x4F4D;&#x7F6E;</li>
<li>&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;: &#x6E90;&#x5B57;&#x7B26;&#x4E32;&#x81EA;&#x8EAB;</li>
</ul>
<h6 id="replace-best-practice"><a name="replace-best-practice" class="anchor-navigation-ex-anchor" href="#replace-best-practice"><i class="fa fa-link" aria-hidden="true"></i></a><a name="replace-best-practice" class="plugin-anchor" href="#replace-best-practice"><i class="fa fa-link" aria-hidden="true"></i></a>replace best practice</h6>
<ul>
<li>&#x4F7F;&#x7528;&#xFF12;&#x4E2A;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x4FEE;&#x526A;&#x5B57;&#x7B26;&#x4E32;,&#x5B57;&#x7B26;&#x4E32;&#x603B;&#x957F;&#x5EA6;&#x5F71;&#x54CD;&#x6027;&#x80FD;</li>
<li>&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x4FEE;&#x526A;&#x5B57;&#x7B26;&#x4E32;(&#x5206;&#x522B;&#x7528; &#x6B63;/&#x8D1F;&#x5FAA;&#x73AF; &#x4FEE;&#x526A; &#x9996;/&#x5C3E;&#x7A7A;&#x767D;&#x7B26;),&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x957F;&#x5EA6;&#x5F71;&#x54CD;&#x6027;&#x80FD;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>trim<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>trim<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      end <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
      ws <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>ws<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      end<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><a name="&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>11.9. &#x5E38;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h3>
<h4 id="&#x4E2D;&#x82F1;&#x6587;"><a name="&#x4E2D;&#x82F1;&#x6587;" class="anchor-navigation-ex-anchor" href="#&#x4E2D;&#x82F1;&#x6587;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4E2D;&#x82F1;&#x6587;" class="plugin-anchor" href="#&#x4E2D;&#x82F1;&#x6587;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E2D;&#x82F1;&#x6587;</h4>
<p><code>/^[\u4e00-\u9fa5a-zA-Z]+$/i</code></p>
<h4 id="&#x6570;&#x5B57;"><a name="&#x6570;&#x5B57;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x5B57;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x5B57;" class="plugin-anchor" href="#&#x6570;&#x5B57;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x5B57;</h4>
<p><code>/^[1-9]*$/i</code></p>
<h4 id="&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;"><a name="&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;" class="anchor-navigation-ex-anchor" href="#&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;" class="plugin-anchor" href="#&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7A7A;&#x5B57;&#x7B26;&#x4E0E;&#x7A7A;&#x683C;&#x5B57;&#x7B26;</h4>
<p><code>/[(^\s+)(\s+$)]/g</code></p>
<h2 id="&#x9519;&#x8BEF;&#x5904;&#x7406;errorexception"><a name="&#x9519;&#x8BEF;&#x5904;&#x7406;errorexception" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;&#x5904;&#x7406;errorexception"><i class="fa fa-link" aria-hidden="true"></i></a>12. &#x9519;&#x8BEF;&#x5904;&#x7406;(Error/Exception)</h2>
<h3 id="&#x9519;&#x8BEF;&#x7C7B;&#x578B;"><a name="&#x9519;&#x8BEF;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>12.1. &#x9519;&#x8BEF;&#x7C7B;&#x578B;</h3>
<ul>
<li>Error</li>
<li>EvalError</li>
<li>RangeError</li>
<li>ReferenceError</li>
<li>SyntaxError</li>
<li>TypeError</li>
<li>URIError</li>
<li>&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">MyError</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Error</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">MyError</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyError</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> MyError<span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x5F02;&#x5E38;&#x4F5C;&#x7528;"><a name="&#x5F02;&#x5E38;&#x4F5C;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x5F02;&#x5E38;&#x4F5C;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>12.2. &#x5F02;&#x5E38;&#x4F5C;&#x7528;</h3>
<ul>
<li>&#x5728;&#x53EF;&#x80FD;&#x5931;&#x8D25;&#x7684;&#x5730;&#x65B9;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5BF9;&#x5931;&#x8D25;&#x5904;&#x505A;&#x6807;&#x7B7E;&#xFF0C;&#x6613;&#x4E8E;<strong>&#x8C03;&#x8BD5;&#x4E0E;&#x6D4B;&#x8BD5;</strong></li>
<li>&#x4FEE;&#x590D; bug &#x540E;&#xFF0C;&#x53EF;&#x8003;&#x8651;&#x662F;&#x5426;&#x5728;&#x6B64;&#x5904;&#x629B;&#x51FA;&#x5F02;&#x5E38;</li>
</ul>
<h2 id="asynchronous-programming"><a name="asynchronous-programming" class="anchor-navigation-ex-anchor" href="#asynchronous-programming"><i class="fa fa-link" aria-hidden="true"></i></a>13. Asynchronous Programming</h2>
<h3 id="promise"><a name="promise" class="anchor-navigation-ex-anchor" href="#promise"><i class="fa fa-link" aria-hidden="true"></i></a>13.1. Promise</h3>
<p>avoid callback hell with:</p>
<ul>
<li>return <code>new Promise</code></li>
<li>return <code>promise.then</code></li>
<li><code>Promise.all</code>: short-circuits when an input value is rejected</li>
<li><code>Promise.race</code>: short-circuits when an input value is settled</li>
<li><code>Promise.any</code>: short-circuits when an input value is fulfilled</li>
<li><code>Promise.allSettled</code>: does not short-circuits</li>
</ul>
<p>resolve only accept <strong>one</strong> value</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>promises on the same chain execute orderly</li>
<li>promises on two seperate chains execute in random order</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&apos;W8lbAokuirfdlTJpnsNC5kryuHtu1G53&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;ZinqxnohbXMQdtF6avtlUkxLLknRxCTh&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;ynQePb3RB2JSx4iziGYMM5eXgkwnufS5&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;EtT2haq2sNoWnNjmeyZnfUmZn9Ihfi8w&apos;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> <span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getUsers</span> <span class="token operator">=</span> <span class="token parameter">users</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>getFirstUser<span class="token punctuation">,</span> getSecondUser<span class="token punctuation">,</span> getThirdUser<span class="token punctuation">,</span> getFourthUser<span class="token punctuation">]</span> <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
    getUser
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">getFirstUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>getSecondUser<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>getThirdUser<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>getFourthUser<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&apos;W8lbAokuirfdlTJpnsNC5kryuHtu1G53&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;ZinqxnohbXMQdtF6avtlUkxLLknRxCTh&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;ynQePb3RB2JSx4iziGYMM5eXgkwnufS5&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;EtT2haq2sNoWnNjmeyZnfUmZn9Ihfi8w&apos;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token parameter">users</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promises <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  promises<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>users<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  promises<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>users<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  promises<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>users<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  promises<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>users<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">userDataArr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>response <span class="token operator">=</span> userDataArr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="promiseall"><a name="promiseall" class="anchor-navigation-ex-anchor" href="#promiseall"><i class="fa fa-link" aria-hidden="true"></i></a><a name="promiseall" class="plugin-anchor" href="#promiseall"><i class="fa fa-link" aria-hidden="true"></i></a>Promise.all</h4>
<ul>
<li><code>Promise.all([...])</code> fail-fast.
If at least one promise in the promises array rejects,
then the promise returned rejects too.</li>
</ul>
<pre class="language-"><code class="lang-js">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>urls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fetch<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">responses</span> <span class="token operator">=&gt;</span>
    Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>responses<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">texts</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<pre class="language-"><code class="lang-js">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>urls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">url</span> <span class="token operator">=&gt;</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resp</span> <span class="token operator">=&gt;</span> resp<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token parameter">texts</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="promise-polyfill"><a name="promise-polyfill" class="anchor-navigation-ex-anchor" href="#promise-polyfill"><i class="fa fa-link" aria-hidden="true"></i></a><a name="promise-polyfill" class="plugin-anchor" href="#promise-polyfill"><i class="fa fa-link" aria-hidden="true"></i></a>Promise Polyfill</h4>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">Promise</span> <span class="token punctuation">{</span>
  <span class="token comment">// `executor` takes 2 parameters, `resolve()` and `reject()`. The executor</span>
  <span class="token comment">// function is responsible for calling `resolve()` or `reject()` to say that</span>
  <span class="token comment">// the async operation succeeded (resolved) or failed (rejected).</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">executor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> executor <span class="token operator">!==</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&apos;Executor must be a function&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Internal state. `$state` is the state of the promise, and `$chained` is</span>
    <span class="token comment">// an array of the functions we need to call once this promise is settled.</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">=</span> <span class="token string">&apos;PENDING&apos;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$chained <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// Implement `resolve()` and `reject()` for the executor function to use</span>
    <span class="token keyword">const</span> <span class="token function-variable function">resolve</span> <span class="token operator">=</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// A promise is considered &quot;settled&quot; when it is no longer</span>
      <span class="token comment">// pending, that is, when either `resolve()` or `reject()`</span>
      <span class="token comment">// was called once. Calling `resolve()` or `reject()` twice</span>
      <span class="token comment">// or calling `reject()` after `resolve()` was already called</span>
      <span class="token comment">// are no-ops.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">!==</span> <span class="token string">&apos;PENDING&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// If `res` is a &quot;thenable&quot;, lock in this promise to match the</span>
      <span class="token comment">// resolved or rejected state of the thenable.</span>
      <span class="token keyword">const</span> then <span class="token operator">=</span> res <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> res<span class="token punctuation">.</span>then <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> then <span class="token operator">===</span> <span class="token string">&apos;function&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// In this case, the promise is &quot;resolved&quot;, but still in the &apos;PENDING&apos;</span>
        <span class="token comment">// state. This is what the ES6 spec means when it says &quot;A resolved promise</span>
        <span class="token comment">// may be pending, fulfilled or rejected&quot; in</span>
        <span class="token comment">// http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects</span>
        <span class="token keyword">return</span> <span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">=</span> <span class="token string">&apos;FULFILLED&apos;</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$internalValue <span class="token operator">=</span> res<span class="token punctuation">;</span>

      <span class="token comment">// If somebody called `.then()` while this promise was pending, need</span>
      <span class="token comment">// to call their `onFulfilled()` function</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">{</span> onFulfilled <span class="token punctuation">}</span> <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$chained<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onFulfilled</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">reject</span> <span class="token operator">=</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">!==</span> <span class="token string">&apos;PENDING&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">=</span> <span class="token string">&apos;REJECTED&apos;</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$internalValue <span class="token operator">=</span> err<span class="token punctuation">;</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">{</span> onRejected <span class="token punctuation">}</span> <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$chained<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onRejected</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Call the executor function with `resolve()` and `reject()` as in the spec.</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// If the executor function throws a sync exception, we consider that</span>
      <span class="token comment">// a rejection. Keep in mind that, since `resolve()` or `reject()` can</span>
      <span class="token comment">// only be called once, a function that synchronously calls `resolve()`</span>
      <span class="token comment">// and then throws will lead to a fulfilled promise and a swallowed error</span>
      <span class="token function">executor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `onFulfilled` is called if the promise is fulfilled, and `onRejected`</span>
  <span class="token comment">// if the promise is rejected. For now, you can think of &apos;fulfilled&apos; and</span>
  <span class="token comment">// &apos;resolved&apos; as the same thing.</span>
  <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">onFulfilled<span class="token punctuation">,</span> onRejected</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// Ensure that errors in `onFulfilled()` and `onRejected()` reject the</span>
      <span class="token comment">// returned promise, otherwise they&apos;ll crash the process. Also, ensure</span>
      <span class="token comment">// that the promise</span>
      <span class="token keyword">const</span> <span class="token function-variable function">_onFulfilled</span> <span class="token operator">=</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token comment">// If `onFulfilled()` returns a promise, trust `resolve()` to handle</span>
          <span class="token comment">// it correctly.</span>
          <span class="token comment">// store new value to new Promise</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">onFulfilled</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">_onRejected</span> <span class="token operator">=</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token comment">// store new value to new Promise</span>
          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token function">onRejected</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>_err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>_err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">===</span> <span class="token string">&apos;FULFILLED&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$internalValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$state <span class="token operator">===</span> <span class="token string">&apos;REJECTED&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$internalValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$chained<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          onFulfilled<span class="token operator">:</span> _onFulfilled<span class="token punctuation">,</span>
          onRejected<span class="token operator">:</span> _onRejected
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">catch</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="awaitasync"><a name="awaitasync" class="anchor-navigation-ex-anchor" href="#awaitasync"><i class="fa fa-link" aria-hidden="true"></i></a>13.2. await/async</h3>
<p>avoid wrong parallel logic (too sequential)</p>
<pre class="language-"><code class="lang-js"><span class="token comment">// wrong</span>
<span class="token keyword">const</span> books <span class="token operator">=</span> <span class="token keyword">await</span> bookModel<span class="token punctuation">.</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> author <span class="token operator">=</span> <span class="token keyword">await</span> authorModel<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>authorId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// right</span>
<span class="token keyword">const</span> bookPromise <span class="token operator">=</span> bookModel<span class="token punctuation">.</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> authorPromise <span class="token operator">=</span> authorModel<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>authorId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> book <span class="token operator">=</span> <span class="token keyword">await</span> bookPromise<span class="token punctuation">;</span>
<span class="token keyword">const</span> author <span class="token operator">=</span> <span class="token keyword">await</span> authorPromise<span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token function">getAuthors</span><span class="token punctuation">(</span><span class="token parameter">authorIds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// WRONG, this will cause sequential calls</span>
  <span class="token comment">// const authors = _.map(</span>
  <span class="token comment">//   authorIds,</span>
  <span class="token comment">//   id =&gt; await authorModel.fetch(id));</span>
  <span class="token comment">// CORRECT</span>
  <span class="token keyword">const</span> promises <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>authorIds<span class="token punctuation">,</span> <span class="token parameter">id</span> <span class="token operator">=&gt;</span> authorModel<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> authors <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="await-arrays"><a name="await-arrays" class="anchor-navigation-ex-anchor" href="#await-arrays"><i class="fa fa-link" aria-hidden="true"></i></a><a name="await-arrays" class="plugin-anchor" href="#await-arrays"><i class="fa fa-link" aria-hidden="true"></i></a>Await Arrays</h4>
<ul>
<li>If you want to execute await calls in series,
use a for-loop (or any loop without a callback).</li>
<li>Don&apos;t ever use await with <code>forEach</code> (<code>forEach</code> is not promise-aware),
use a for-loop (or any loop without a callback) instead.</li>
<li>Don&apos;t await inside filter and reduce,
always await an array of promises with map, then filter or reduce accordingly.</li>
</ul>
<h3 id="sleep-function"><a name="sleep-function" class="anchor-navigation-ex-anchor" href="#sleep-function"><i class="fa fa-link" aria-hidden="true"></i></a>13.3. Sleep Function</h3>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//do something after 2000 milliseconds</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;resolved&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span> n2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1 <span class="token operator">+</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="race-condition"><a name="race-condition" class="anchor-navigation-ex-anchor" href="#race-condition"><i class="fa fa-link" aria-hidden="true"></i></a>13.4. Race Condition</h3>
<ul>
<li>keep latest updates</li>
<li>recover from failures</li>
<li>online and offline sync (<a href="https://github.com/pouchdb/pouchdb" target="_blank">PouchDB</a>)</li>
<li>tools: <a href="https://github.com/redux-saga/redux-saga" target="_blank">redux-saga</a></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
      results<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      nextRequestId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      displayedRequestId<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> requestId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nextRequestId<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// guarantee display latest search results (when input keep changing)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>requestId <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>displayedRequestId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>displayedRequestId <span class="token operator">=</span> requestId<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>results <span class="token operator">=</span> results<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="geolocation-api"><a name="geolocation-api" class="anchor-navigation-ex-anchor" href="#geolocation-api"><i class="fa fa-link" aria-hidden="true"></i></a>14. Geolocation API</h2>
<pre class="language-"><code class="lang-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//getCurrentPosition&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x53EF;&#x9009;&#x53C2;&#x6570;</span>
  navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>locationSuccess<span class="token punctuation">,</span> locationError<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x6307;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x83B7;&#x53D6;&#x9AD8;&#x7CBE;&#x5EA6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false</span>
    enableHighAccuracy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// &#x6307;&#x5B9A;&#x83B7;&#x53D6;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x9650;&#x65F6;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x6BEB;&#x79D2;</span>
    timeout<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
    <span class="token comment">// &#x6700;&#x957F;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x5728;&#x91CD;&#x590D;&#x83B7;&#x53D6;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x65F6;&#xFF0C;&#x6B64;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x591A;&#x4E45;&#x518D;&#x6B21;&#x83B7;&#x53D6;&#x4F4D;&#x7F6E;&#x3002;</span>
    maximumAge<span class="token operator">:</span> <span class="token number">3000</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;Your browser does not support Geolocation!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>locationError &#x4E3A;&#x83B7;&#x53D6;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x5931;&#x8D25;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre class="language-"><code class="lang-js"><span class="token function-variable function">locationError</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">TIMEOUT</span><span class="token operator">:</span>
            <span class="token function">showError</span><span class="token punctuation">(</span><span class="token string">&quot;A timeout occured! Please try again!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">POSITION_UNAVAILABLE</span><span class="token operator">:</span>
            <span class="token function">showError</span><span class="token punctuation">(</span><span class="token string">&apos;We can\&apos;t detect your location. Sorry!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">PERMISSION_DENIED</span><span class="token operator">:</span>
            <span class="token function">showError</span><span class="token punctuation">(</span><span class="token string">&apos;Please allow geolocation access for this to work.&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">UNKNOWN_ERROR</span><span class="token operator">:</span>
            <span class="token function">showError</span><span class="token punctuation">(</span><span class="token string">&apos;An unknown error occured!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>locationSuccess &#x4E3A;&#x83B7;&#x53D6;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x5305;&#x542B;&#x7ECF;&#x7EAC;&#x5EA6;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x7ED3;&#x5408; Google Map API &#x5373;&#x53EF;&#x5728;&#x5730;&#x56FE;&#x4E2D;&#x663E;&#x793A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-js"><span class="token function-variable function">locationSuccess</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> coords <span class="token operator">=</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">;</span>
    <span class="token keyword">var</span> latlng <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>LatLng</span><span class="token punctuation">(</span>
        <span class="token comment">// &#x7EF4;&#x5EA6;</span>
        coords<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span>
        <span class="token comment">// &#x7CBE;&#x5EA6;</span>
        coords<span class="token punctuation">.</span>longitude
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x5730;&#x56FE;&#x653E;&#x5927;&#x500D;&#x6570;</span>
        zoom<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token comment">// &#x5730;&#x56FE;&#x4E2D;&#x5FC3;&#x8BBE;&#x4E3A;&#x6307;&#x5B9A;&#x5750;&#x6807;&#x70B9;</span>
        center<span class="token operator">:</span> latlng<span class="token punctuation">,</span>
        <span class="token comment">// &#x5730;&#x56FE;&#x7C7B;&#x578B;</span>
        mapTypeId<span class="token operator">:</span> google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>MapTypeId<span class="token punctuation">.</span><span class="token constant">ROADMAP</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x521B;&#x5EFA;&#x5730;&#x56FE;&#x5E76;&#x8F93;&#x51FA;&#x5230;&#x9875;&#x9762;</span>
    <span class="token keyword">var</span> myMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>myOptions
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x521B;&#x5EFA;&#x6807;&#x8BB0;</span>
    <span class="token keyword">var</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// &#x6807;&#x6CE8;&#x6307;&#x5B9A;&#x7684;&#x7ECF;&#x7EAC;&#x5EA6;&#x5750;&#x6807;&#x70B9;</span>
        position<span class="token operator">:</span> latlng<span class="token punctuation">,</span>
        <span class="token comment">// &#x6307;&#x5B9A;&#x7528;&#x4E8E;&#x6807;&#x6CE8;&#x7684;&#x5730;&#x56FE;</span>
        map<span class="token operator">:</span> myMap
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x521B;&#x5EFA;&#x6807;&#x6CE8;&#x7A97;&#x53E3;</span>
    <span class="token keyword">var</span> infowindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        content<span class="token operator">:</span><span class="token string">&quot;&#x60A8;&#x5728;&#x8FD9;&#x91CC;&lt;br/&gt;&#x7EAC;&#x5EA6;&#xFF1A;&quot;</span><span class="token operator">+</span>
            coords<span class="token punctuation">.</span>latitude<span class="token operator">+</span>
            <span class="token string">&quot;&lt;br/&gt;&#x7ECF;&#x5EA6;&#xFF1A;&quot;</span><span class="token operator">+</span>coords<span class="token punctuation">.</span>longitude
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x6253;&#x5F00;&#x6807;&#x6CE8;&#x7A97;&#x53E3;</span>
    infowindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>myMap<span class="token punctuation">,</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-js">navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">watchPosition</span><span class="token punctuation">(</span>
  locationSuccess<span class="token punctuation">,</span>
  locationError<span class="token punctuation">,</span>
  positionOption
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x5730;&#x7406;&#x4F4D;&#x7F6E;</p>
<h2 id="web-audio-api"><a name="web-audio-api" class="anchor-navigation-ex-anchor" href="#web-audio-api"><i class="fa fa-link" aria-hidden="true"></i></a>15. Web Audio API</h2>
<h3 id="from-oscillator"><a name="from-oscillator" class="anchor-navigation-ex-anchor" href="#from-oscillator"><i class="fa fa-link" aria-hidden="true"></i></a>15.1. From Oscillator</h3>
<pre class="language-"><code class="lang-js">                         <span class="token operator">-</span><span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>   <span class="token number">1</span>       <span class="token number">4</span>   <span class="token number">6</span>       <span class="token number">9</span>   <span class="token number">11</span>
                       <span class="token operator">-</span><span class="token number">4</span>  <span class="token operator">-</span><span class="token number">2</span>   <span class="token number">0</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">5</span>   <span class="token number">7</span>   <span class="token number">8</span>   <span class="token number">10</span>  <span class="token number">12</span>
  <span class="token punctuation">.</span>___________________________________________________________________________<span class="token punctuation">.</span>
  <span class="token operator">:</span>  <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">:</span>
  <span class="token operator">:</span>  <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">:</span>
  <span class="token operator">:</span>  <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token operator">:</span>
<span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">:</span>  <span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>  <span class="token operator">:</span><span class="token operator">-</span><span class="token operator">&gt;</span>
  <span class="token operator">:</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">:</span>
  <span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span> <span class="token operator">|</span> <span class="token constant">C</span> <span class="token operator">|</span> <span class="token constant">D</span> <span class="token operator">|</span> <span class="token constant">E</span> <span class="token operator">|</span> <span class="token constant">F</span> <span class="token operator">|</span> <span class="token constant">G</span> <span class="token operator">|</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span> <span class="token operator">|</span> <span class="token constant">C</span> <span class="token operator">|</span> <span class="token constant">D</span> <span class="token operator">|</span> <span class="token constant">E</span> <span class="token operator">|</span> <span class="token constant">F</span> <span class="token operator">|</span> <span class="token constant">G</span> <span class="token operator">|</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span> <span class="token operator">|</span> <span class="token constant">C</span> <span class="token operator">|</span> <span class="token constant">D</span> <span class="token operator">|</span> <span class="token constant">E</span> <span class="token operator">:</span>
  <span class="token operator">:</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">|</span>___<span class="token operator">:</span>
    <span class="token operator">^</span>                           <span class="token operator">^</span>           <span class="token operator">^</span>               <span class="token operator">^</span>           <span class="token operator">^</span>
  <span class="token number">220</span> Hz                      <span class="token number">440</span> Hz      <span class="token number">523.25</span> Hz       <span class="token number">880</span> Hz     <span class="token number">1174.65</span> <span class="token function">Hz</span>
<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> Octave<span class="token punctuation">)</span>                 <span class="token punctuation">(</span>middle <span class="token constant">A</span><span class="token punctuation">)</span>                 <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">1</span> Octave<span class="token punctuation">)</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> audioContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseFrequency <span class="token operator">=</span> <span class="token number">440</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getNoteFreq</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">base<span class="token punctuation">,</span> pitch</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> base <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> pitch <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// oscillator.frequency.value = getNoteFreq(440, 7);</span>

<span class="token keyword">const</span> <span class="token function-variable function">getNoteDetune</span> <span class="token operator">=</span> <span class="token parameter">pitch</span> <span class="token operator">=&gt;</span> pitch <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token comment">// oscillator.detune.value = getNoteDetune(7);</span>

<span class="token keyword">const</span> <span class="token function-variable function">play</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> duration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> oscillator <span class="token operator">=</span> audioContext<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  oscillator<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioContext<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>

  oscillator<span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
  oscillator<span class="token punctuation">.</span>detune<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">getNoteDetune</span><span class="token punctuation">(</span>pitch<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> startTime <span class="token operator">=</span> audioContext<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> delay<span class="token punctuation">;</span>
  <span class="token keyword">const</span> stopTime <span class="token operator">=</span> startTime <span class="token operator">+</span> duration<span class="token punctuation">;</span>
  oscillator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  oscillator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>stopTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="from-music-data"><a name="from-music-data" class="anchor-navigation-ex-anchor" href="#from-music-data"><i class="fa fa-link" aria-hidden="true"></i></a>15.2. From Music Data</h3>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> sampleSize <span class="token operator">=</span> <span class="token number">1024</span><span class="token punctuation">;</span> <span class="token comment">// number of samples to collect before analyzing data</span>
<span class="token keyword">const</span> audioUrl <span class="token operator">=</span> <span class="token string">&apos;viper.mp3&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> audioData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> audioPlaying <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> audioContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sourceNode <span class="token operator">=</span> audioContext<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> analyserNode <span class="token operator">=</span> audioContext<span class="token punctuation">.</span><span class="token function">createAnalyser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> javascriptNode <span class="token operator">=</span> audioContext<span class="token punctuation">.</span><span class="token function">createScriptProcessor</span><span class="token punctuation">(</span>sampleSize<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Create the array for the data values</span>
<span class="token keyword">const</span> amplitudeArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>analyserNode<span class="token punctuation">.</span>frequencyBinCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Now connect the nodes together</span>
sourceNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioContext<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
sourceNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>analyserNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
analyserNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>javascriptNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
javascriptNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioContext<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// setup the event handler that is triggered</span>
<span class="token comment">// every time enough samples have been collected</span>
<span class="token comment">// trigger the audio analysis and draw the results</span>
javascriptNode<span class="token punctuation">.</span><span class="token function-variable function">onaudioprocess</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// get the Time Domain data for this sample</span>
  analyserNode<span class="token punctuation">.</span><span class="token function">getByteTimeDomainData</span><span class="token punctuation">(</span>amplitudeArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// draw the display if the audio is playing</span>
  <span class="token comment">// if (audioPlaying == true) {</span>
  <span class="token comment">// requestAnimFrame(drawTimeDomain);</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Load the audio from the URL via Ajax and store it in global variable audioData</span>
<span class="token comment">// Note that the audio load is asynchronous</span>
<span class="token keyword">function</span> <span class="token function">loadSound</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      audioContext<span class="token punctuation">.</span><span class="token function">decodeAudioData</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token parameter">buffer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        audioData <span class="token operator">=</span> buffer<span class="token punctuation">;</span>
        <span class="token function">playSound</span><span class="token punctuation">(</span>audioData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Play the audio and loop until stopped</span>
<span class="token keyword">function</span> <span class="token function">playSound</span><span class="token punctuation">(</span><span class="token parameter">buffer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  sourceNode<span class="token punctuation">.</span>buffer <span class="token operator">=</span> buffer<span class="token punctuation">;</span>
  sourceNode<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Play the sound now</span>
  sourceNode<span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  audioPlaying <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">stopSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  sourceNode<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  audioPlaying <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="audio-bar-chart-with-canvas"><a name="audio-bar-chart-with-canvas" class="anchor-navigation-ex-anchor" href="#audio-bar-chart-with-canvas"><i class="fa fa-link" aria-hidden="true"></i></a>15.3. Audio Bar Chart with Canvas</h3>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode/getByteFrequencyData" target="_blank">AnalyserNode.getByteFrequencyData API</a></li>
<li><a href="https://github.com/bogdan-cornianu/swave/blob/master/src/visualizer.ts" target="_blank">Github Demo</a></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> <span class="token constant">WIDTH</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">HEIGHT</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>analyserNode<span class="token punctuation">.</span>fftSize <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bufferLengthAlt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>analyserNode<span class="token punctuation">.</span>frequencyBinCount<span class="token punctuation">;</span>
<span class="token keyword">let</span> dataArrayAlt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>bufferLengthAlt<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">WIDTH</span><span class="token punctuation">,</span> <span class="token constant">HEIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> drawVisual <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>draw<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>analyserNode<span class="token punctuation">.</span><span class="token function">getByteFrequencyData</span><span class="token punctuation">(</span>dataArrayAlt<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&apos;rgb(255, 255, 255)&apos;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">WIDTH</span><span class="token punctuation">,</span> <span class="token constant">HEIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> barWidth <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">WIDTH</span> <span class="token operator">/</span> bufferLengthAlt<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.5</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> barHeight<span class="token punctuation">;</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bufferLengthAlt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    barHeight <span class="token operator">=</span> dataArrayAlt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&apos;rgb(&apos;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>barHeight <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&apos;,15,156)&apos;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token constant">HEIGHT</span> <span class="token operator">-</span> barHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> barWidth<span class="token punctuation">,</span> barHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    x <span class="token operator">+=</span> barWidth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="web-storage-api"><a name="web-storage-api" class="anchor-navigation-ex-anchor" href="#web-storage-api"><i class="fa fa-link" aria-hidden="true"></i></a>16. Web Storage API</h2>
<ul>
<li>&#x534F;&#x540C; cookies</li>
<li>&#x5BF9;&#x4E8E;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x8BFB;&#x53D6;&#x4E0E;&#x5B58;&#x50A8;,
&#x9700;&#x8981;&#x501F;&#x52A9; <code>JSON.parse</code> &#x4E0E; <code>JSON.stringify</code></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;bgcolor&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">populateStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">setStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">populateStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&apos;bgcolor&apos;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;bgcolor&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&apos;font&apos;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;font&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&apos;image&apos;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;image&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">setStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> currentColor <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;bgcolor&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> currentFont <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;font&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> currentImage <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;image&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;bgcolor&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> currentColor<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;font&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> currentFont<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;image&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> currentImage<span class="token punctuation">;</span>

  htmlElem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&apos;#&apos;</span> <span class="token operator">+</span> currentColor<span class="token punctuation">;</span>
  pElem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontFamily <span class="token operator">=</span> currentFont<span class="token punctuation">;</span>
  imgElem<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&apos;src&apos;</span><span class="token punctuation">,</span> currentImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="web-navigator-api"><a name="web-navigator-api" class="anchor-navigation-ex-anchor" href="#web-navigator-api"><i class="fa fa-link" aria-hidden="true"></i></a>17. Web Navigator API</h2>
<pre class="language-"><code class="lang-js">navigator<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>effectiveType <span class="token comment">// 2G - 5G</span>
</code></pre>
<h2 id="web-files-api"><a name="web-files-api" class="anchor-navigation-ex-anchor" href="#web-files-api"><i class="fa fa-link" aria-hidden="true"></i></a>18. Web Files API</h2>
<h2 id="web-sockets-api"><a name="web-sockets-api" class="anchor-navigation-ex-anchor" href="#web-sockets-api"><i class="fa fa-link" aria-hidden="true"></i></a>19. Web Sockets API</h2>
<p>&#x901A;&#x4FE1;&#x529F;&#x80FD;</p>
<pre class="language-"><code class="lang-js">WebSocket <span class="token function">WebSocket</span><span class="token punctuation">(</span>
  <span class="token keyword">in</span> DOMString url<span class="token punctuation">,</span>
  <span class="token keyword">in</span> optional DOMString protocols
<span class="token punctuation">)</span><span class="token punctuation">;</span>

WebSocket <span class="token function">WebSocket</span><span class="token punctuation">(</span>
  <span class="token keyword">in</span> DOMString url<span class="token punctuation">,</span>
  <span class="token keyword">in</span> optional DOMString<span class="token punctuation">[</span><span class="token punctuation">]</span> protocols
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">WebSocketTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&apos;WebSocket&apos;</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;WebSocket is supported by your Browser!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Let us open a web socket</span>
    <span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">&apos;ws://localhost:9998/echo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Web Socket is connected, send data using send()</span>
      ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&apos;Message to send&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;Message is sent...&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> received_msg <span class="token operator">=</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;Message is received...&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// websocket is closed.</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;Connection is closed...&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// The browser doesn&apos;t support WebSocket</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;WebSocket NOT supported by your Browser!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="web-rtc-api"><a name="web-rtc-api" class="anchor-navigation-ex-anchor" href="#web-rtc-api"><i class="fa fa-link" aria-hidden="true"></i></a>20. Web RTC API</h2>
<p>&#x591A;&#x5A92;&#x4F53;&#x901A;&#x4FE1;</p>
<h2 id="web-workers-api"><a name="web-workers-api" class="anchor-navigation-ex-anchor" href="#web-workers-api"><i class="fa fa-link" aria-hidden="true"></i></a>21. Web Workers API</h2>
<ul>
<li>&#x591A;&#x7EBF;&#x7A0B;&#x5904;&#x7406;</li>
<li>&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x505C;&#x6B62; Worker:
&#x4ECE;&#x4E3B;&#x9875;&#x8C03;&#x7528; <code>worker.terminate()</code> &#x6216;&#x5728; worker &#x5185;&#x90E8;&#x8C03;&#x7528; <code>self.close()</code></li>
<li>&#x5229;&#x7528; <a href="https://developer.mozilla.org/en-US/docs/Web/API/BroadcastChannel" target="_blank">BroadcastChannel API</a>
&#x53EF;&#x4EE5;&#x521B;&#x5EFA; Shared Worker, &#x5373;&#x5171;&#x4EAB; Workers &#x5728;&#x540C;&#x4E00;&#x6E90; (origin) &#x4E0B;&#x9762;&#x7684;&#x5404;&#x79CD;&#x8FDB;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5B83;&#xFF0C;
&#x5305;&#x62EC;&#xFF1A;iframes&#x3001;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x7684;&#x4E0D;&#x540C; tab &#x9875; (browsing context)</li>
<li>Web Workers &#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x4E00;&#x4E9B;&#x975E;&#x5E38;&#x5173;&#x952E;&#x7684; JavaScript &#x7279;&#x6027;:
DOM(&#x5B83;&#x4F1A;&#x9020;&#x6210;&#x7EBF;&#x7A0B;&#x4E0D;&#x5B89;&#x5168;), window &#x5BF9;&#x8C61;, document &#x5BF9;&#x8C61;, parent &#x5BF9;&#x8C61;.</li>
<li>Usecase: Graphic App (Ray Tracing), Encryption, Prefetching Data,
PWA (Service Worker), Spell Checking</li>
</ul>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>startComputation()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Start computation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  const worker = new Worker(&apos;worker.js&apos;);

  worker.addEventListener(
    &apos;message&apos;,
    function(e) {
      console.log(e.data);
    },
    false
  );

  function startComputation() {
    worker.postMessage({ cmd: &apos;average&apos;, data: [1, 2, 3, 4] });
  }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment">// worker.js</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&apos;message&apos;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> e<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>cmd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&apos;average&apos;</span><span class="token operator">:</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calculateAverage</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span>
        self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&apos;Unknown command&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="web-animations-api"><a name="web-animations-api" class="anchor-navigation-ex-anchor" href="#web-animations-api"><i class="fa fa-link" aria-hidden="true"></i></a>22. Web Animations API</h2>
<ul>
<li><code>KeyframeEffect</code></li>
<li><code>Animation</code></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> rabbitDownKeyframes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KeyframeEffect</span><span class="token punctuation">(</span>
  whiteRabbit<span class="token punctuation">,</span> <span class="token comment">// element to animate</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> transform<span class="token operator">:</span> <span class="token string">&apos;translateY(0%)&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// keyframe</span>
    <span class="token punctuation">{</span> transform<span class="token operator">:</span> <span class="token string">&apos;translateY(100%)&apos;</span> <span class="token punctuation">}</span> <span class="token comment">// keyframe</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> duration<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">&apos;forwards&apos;</span> <span class="token punctuation">}</span> <span class="token comment">// keyframe options</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rabbitDownAnimation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animation</span><span class="token punctuation">(</span>
  rabbitDownKeyFrames<span class="token punctuation">,</span>
  document<span class="token punctuation">.</span>timeline
<span class="token punctuation">)</span><span class="token punctuation">;</span>

whiteRabbit<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;click&apos;</span><span class="token punctuation">,</span> downHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">downHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rabbitDownAnimation<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  whiteRabbit<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;click&apos;</span><span class="token punctuation">,</span> downHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li><code>element.animate</code></li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> animationKeyframes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    transform<span class="token operator">:</span> <span class="token string">&apos;rotate(0)&apos;</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&apos;#000&apos;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">&apos;#431236&apos;</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token number">0.3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    transform<span class="token operator">:</span> <span class="token string">&apos;rotate(360deg)&apos;</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&apos;#000&apos;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> animationTiming <span class="token operator">=</span> <span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  iterations<span class="token operator">:</span> <span class="token number">Infinity</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> animation <span class="token operator">=</span> document
  <span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;alice&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>animationKeyframes<span class="token punctuation">,</span> animationTiming<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><code>animation.pause()/play()/reverse()/finish()/cancel()</code></li>
</ul>
<pre class="language-"><code class="lang-js">animation<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animation<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> animation<span class="token punctuation">.</span>effect<span class="token punctuation">.</span><span class="token function">getComputedTiming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>duration <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="web-canvas-api"><a name="web-canvas-api" class="anchor-navigation-ex-anchor" href="#web-canvas-api"><i class="fa fa-link" aria-hidden="true"></i></a>23. Web Canvas API</h2>
<h3 id="basic-usage"><a name="basic-usage" class="anchor-navigation-ex-anchor" href="#basic-usage"><i class="fa fa-link" aria-hidden="true"></i></a>23.1. Basic Usage</h3>
<ul>
<li>&#x7ED8;&#x5236;&#x8DEF;&#x5F84; beginPath() -&gt; draw() -&gt; closePath()</li>
<li>Path2D &#x5BF9;&#x8C61;</li>
<li>&#x7ED8;&#x5236;&#x6837;&#x5F0F;: &#x989C;&#x8272;&#x3001;&#x6E10;&#x53D8;&#x3001;&#x53D8;&#x6362;&#x3001;&#x9634;&#x5F71;</li>
<li>&#x7ED8;&#x5236;&#x56FE;&#x5F62;: fill/stroke/clip</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&apos;2d&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// &#x6839;&#x636E;&#x53C2;&#x6570;&#x753B;&#x7EBF;</span>
<span class="token keyword">function</span> <span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token parameter">fromX<span class="token punctuation">,</span> fromY<span class="token punctuation">,</span> toX<span class="token punctuation">,</span> toY</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>fromX<span class="token punctuation">,</span> fromY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>toX<span class="token punctuation">,</span> toY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x6839;&#x636E;&#x53C2;&#x6570;&#x753B;&#x5706;</span>
<span class="token keyword">function</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x6539;&#x53D8; canvas &#x4E2D;&#x56FE;&#x5F62;&#x989C;&#x8272;</span>
<span class="token keyword">function</span> <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="game-loop-with-canvas"><a name="game-loop-with-canvas" class="anchor-navigation-ex-anchor" href="#game-loop-with-canvas"><i class="fa fa-link" aria-hidden="true"></i></a>23.2. Game Loop With Canvas</h3>
<p>for all objects:</p>
<ul>
<li>constructor: <code>positon{x, y}</code>, <code>speed{x, y}</code>, <code>size{x, y}</code></li>
<li>update(deltatime): change position or speed</li>
<li>draw(ctx): use canvas api and object properties (position/size) to render objects</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;gameScreen&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&apos;2d&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">GAME_WIDTH</span> <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">GAME_HEIGHT</span> <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> game <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Game</span><span class="token punctuation">(</span><span class="token constant">GAME_WIDTH</span><span class="token punctuation">,</span> <span class="token constant">GAME_HEIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">gameLoop</span><span class="token punctuation">(</span><span class="token parameter">timestamp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> deltaTime <span class="token operator">=</span> timestamp <span class="token operator">-</span> lastTime<span class="token punctuation">;</span>
  lastTime <span class="token operator">=</span> timestamp<span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">GAME_WIDTH</span><span class="token punctuation">,</span> <span class="token constant">GAME_HEIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  game<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  game<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>gameLoop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>gameLoop<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="canvas-performance"><a name="canvas-performance" class="anchor-navigation-ex-anchor" href="#canvas-performance"><i class="fa fa-link" aria-hidden="true"></i></a>23.3. Canvas Performance</h3>
<ul>
<li>canvas buffer</li>
</ul>
<pre class="language-"><code class="lang-js">frontCanvasContext<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>bufferCanvas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>multiple canvas: top layer, background layer, interactive layer</li>
<li>disable alpha path</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&apos;2d&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> alpha<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="canvas-reference"><a name="canvas-reference" class="anchor-navigation-ex-anchor" href="#canvas-reference"><i class="fa fa-link" aria-hidden="true"></i></a>23.4. Canvas Reference</h3>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank">Canvas on MDN</a></li>
<li><a href="https://simon.html5.org/dump/html5-canvas-cheat-sheet.html" target="_blank">Canvas Cheat Sheet</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas" target="_blank">Canvas Perf Tips 1</a></li>
<li><a href="https://www.html5rocks.com/en/tutorials/canvas/performance/" target="_blank">Canvas Perf Tips 2</a></li>
<li><a href="https://joshondesign.com/p/books/canvasdeepdive/toc.html" target="_blank">Canvas Deep Live</a></li>
</ul>
<h2 id="gamepad-api"><a name="gamepad-api" class="anchor-navigation-ex-anchor" href="#gamepad-api"><i class="fa fa-link" aria-hidden="true"></i></a>24. Gamepad API</h2>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Games/Techniques/Controls_Gamepad_API" target="_blank">Gamepad API Tutorials</a></p>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> gamepads <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">gamepadHandler</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> connecting</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// gamepad === navigator.getGamepads()[gamepad.index]</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> gamepad <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>connecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gamepads<span class="token punctuation">[</span>gamepad<span class="token punctuation">.</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> gamepad<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">delete</span> gamepads<span class="token punctuation">[</span>gamepad<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;gamepadconnected&apos;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">gamepadHandler</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;gamepaddisconnected&apos;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">gamepadHandler</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="url-api"><a name="url-api" class="anchor-navigation-ex-anchor" href="#url-api"><i class="fa fa-link" aria-hidden="true"></i></a>25. URL API</h2>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams" target="_blank">URLSearchParams</a></li>
</ul>
<h2 id="observer-api"><a name="observer-api" class="anchor-navigation-ex-anchor" href="#observer-api"><i class="fa fa-link" aria-hidden="true"></i></a>26. Observer API</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver" target="_blank">Intersection Observer</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver" target="_blank">Mutation Observer</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver" target="_blank">Performance Observer</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver" target="_blank">Resize Observer</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReportingObserver" target="_blank">Reporting Observer</a></li>
</ul>
<h3 id="intersection-observer"><a name="intersection-observer" class="anchor-navigation-ex-anchor" href="#intersection-observer"><i class="fa fa-link" aria-hidden="true"></i></a>26.1. Intersection Observer</h3>
<pre class="language-"><code class="lang-js"><span class="token comment">// &lt;img class=&quot;lzy_img&quot; src=&quot;lazy_img.jpg&quot; data-src=&quot;real_img.jpg&quot; /&gt;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;DOMContentLoaded&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> imageObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">entries<span class="token punctuation">,</span> imgObserver</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    entries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> lazyImage <span class="token operator">=</span> entry<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Lazy loading &apos;</span><span class="token punctuation">,</span> lazyImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        lazyImage<span class="token punctuation">.</span>src <span class="token operator">=</span> lazyImage<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>src<span class="token punctuation">;</span>

        <span class="token comment">// only load image once</span>
        lazyImage<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&apos;lzy&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imgObserver<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>lazyImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> lazyImages <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&apos;img.lzy_img&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  lazyImages<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">lazyImage</span> <span class="token operator">=&gt;</span> imageObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>lazyImage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<footer class="page-footer"><span class="copyright">&#xA9; <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/sabertazimi/awesome-notes" property="cc:attributionName" rel="cc:attributionURL" target="_blank">sabertazimi</a> &#xB7; &#x9075;&#x5FAA; <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">&#x77E5;&#x8BC6;&#x5171;&#x4EAB; &#x7F72;&#x540D;-&#x975E;&#x5546;&#x4E1A;&#x6027;&#x4F7F;&#x7528; 4.0 &#x56FD;&#x9645; &#x8BB8;&#x53EF;&#x534F;&#x8BAE;</a> all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6700;&#x8FD1;&#x66F4;&#x65B0;&#xFF1A;
2021-07-15 21:57
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="javascriptAdvancedNotes.html" class="navigation navigation-prev " aria-label="Previous page: Javascript Advanced Notes">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="typescriptBasicNotes.html" class="navigation navigation-next " aria-label="Next page: Typescript Basic Notes">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Javascript Basic Notes","level":"1.4.8.5.2","depth":4,"next":{"title":"Typescript Basic Notes","level":"1.4.8.5.3","depth":4,"path":"programming/web/javascript/typescriptBasicNotes.md","ref":"programming/web/javascript/typescriptBasicNotes.md","articles":[]},"previous":{"title":"Javascript Advanced Notes","level":"1.4.8.5.1","depth":4,"path":"programming/web/javascript/javascriptAdvancedNotes.md","ref":"programming/web/javascript/javascriptAdvancedNotes.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-plus","splitter","anchors","anchor-navigation-ex","copy-code-button","expandable-chapters","theme-darkblue","theme-comscore","tbfed-pagefooter","prism","-highlight","github-buttons","edit-link","disqus","introsum"],"ignores":[".*","build","_book","gitbook","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"&copy <a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"https://github.com/sabertazimi/awesome-notes\" property=\"cc:attributionName\" rel=\"cc:attributionURL\">sabertazimi</a> Â· éµå¾ª <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">ç¥è¯å±äº« ç½²å-éåä¸æ§ä½¿ç¨ 4.0 å½é è®¸å¯åè®®</a>","modify_label":"æè¿æ´æ°ï¼","modify_format":"YYYY-MM-DD HH:mm"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"disqus":{"useIdentifier":false,"shortName":"gitbook-8"},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-darkblue":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"theme-comscore":{},"github-buttons":{"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]},"copy-code-button":{},"sharing":{"facebook":false,"twitter":true,"google":false,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/sabertazimi/awesome-notes/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"introsum":{},"expandable-chapters":{},"search-plus":{}},"theme":"default","author":"sabertazimi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Awesome Notes","links":{"sidebar":{"Awesome Notes":"https://github.com/sabertazimi/awesome-notes"}},"gitbook":"*"},"file":{"path":"programming/web/javascript/javascriptBasicNotes.md","mtime":"2021-07-15T21:57:06.376Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-15T21:58:50.568Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

