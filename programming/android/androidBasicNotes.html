
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Android Basic Notes Â· Awesome Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="sabertazimi">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/sabertazimi/awesome-notes" target="_blank" class="custom-link">Awesome Notes</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Computer Science
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    Algorithms
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../computerScience/algorithms/algorithmsBasicNotes.html">
            
                <a href="../../computerScience/algorithms/algorithmsBasicNotes.html">
            
                    
                    Algorithms Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../computerScience/algorithms/ojBasicNotes.html">
            
                <a href="../../computerScience/algorithms/ojBasicNotes.html">
            
                    
                    Oj Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Architecture
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../computerScience/architecture/archBasicNotes.html">
            
                <a href="../../computerScience/architecture/archBasicNotes.html">
            
                    
                    Arch Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../computerScience/architecture/graphProcessingNotes.html">
            
                <a href="../../computerScience/architecture/graphProcessingNotes.html">
            
                    
                    Graph Processing Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    Compilers
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../computerScience/compilers/compilersBasicNotes.html">
            
                <a href="../../computerScience/compilers/compilersBasicNotes.html">
            
                    
                    Compilers Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    Data Base
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../computerScience/dataBase/databaseBasicNotes.html">
            
                <a href="../../computerScience/dataBase/databaseBasicNotes.html">
            
                    
                    Database Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" >
            
                <span>
            
                    
                    Network
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../computerScience/network/networkBasicNotes.html">
            
                <a href="../../computerScience/network/networkBasicNotes.html">
            
                    
                    Network Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" >
            
                <span>
            
                    
                    Operating Systems
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../computerScience/operatingSystems/CSAPP.html">
            
                <a href="../../computerScience/operatingSystems/CSAPP.html">
            
                    
                    CSAPP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../../computerScience/operatingSystems/memoryManagementBasicNotes.html">
            
                <a href="../../computerScience/operatingSystems/memoryManagementBasicNotes.html">
            
                    
                    Memory Management Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../../computerScience/operatingSystems/operatingSystemsBasicNotes.html">
            
                <a href="../../computerScience/operatingSystems/operatingSystemsBasicNotes.html">
            
                    
                    Operating Systems Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" >
            
                <span>
            
                    
                    Software Testing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../computerScience/softwareTesting/softwareTestingBasicNotes.html">
            
                <a href="../../computerScience/softwareTesting/softwareTestingBasicNotes.html">
            
                    
                    Software Testing Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" >
            
                <span>
            
                    
                    Virtualization
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../../computerScience/virtualization/virtBasicNotes.html">
            
                <a href="../../computerScience/virtualization/virtBasicNotes.html">
            
                    
                    Virt Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../computerScience/latexBasicNotes.html">
            
                <a href="../../computerScience/latexBasicNotes.html">
            
                    
                    Latex Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Language
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Assembly
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../language/assembly/AssemblyBasic.html">
            
                <a href="../../language/assembly/AssemblyBasic.html">
            
                    
                    Assembly Basic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    C
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="../../language/c/tools/awesomeTools.html">
            
                <a href="../../language/c/tools/awesomeTools.html">
            
                    
                    Awesome Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.2" data-path="../../language/c/tools/gdbTutorial.html">
            
                <a href="../../language/c/tools/gdbTutorial.html">
            
                    
                    Gdb Tutorial
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../language/c/cBasicNotes.html">
            
                <a href="../../language/c/cBasicNotes.html">
            
                    
                    C Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../language/c/namingConventions.html">
            
                <a href="../../language/c/namingConventions.html">
            
                    
                    Naming Conventions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../language/c/standardLibrary.html">
            
                <a href="../../language/c/standardLibrary.html">
            
                    
                    Standard Library
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Cpp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../language/cpp/cppBasicNotes.html">
            
                <a href="../../language/cpp/cppBasicNotes.html">
            
                    
                    Cpp Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Go
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../language/go/goBasicNotes.html">
            
                <a href="../../language/go/goBasicNotes.html">
            
                    
                    Go Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" >
            
                <span>
            
                    
                    Haskell
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../../language/haskell/haskellBasicNotes.html">
            
                <a href="../../language/haskell/haskellBasicNotes.html">
            
                    
                    Haskell Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../../language/java/javaBasicNotes.html">
            
                <a href="../../language/java/javaBasicNotes.html">
            
                    
                    Java Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../../language/java/javaNamingConventions.html">
            
                <a href="../../language/java/javaNamingConventions.html">
            
                    
                    Java Naming Conventions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../language/python/pythonBasicNotes.html">
            
                <a href="../../language/python/pythonBasicNotes.html">
            
                    
                    Python Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" >
            
                <span>
            
                    
                    Verilog
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.8.1" data-path="../../language/verilog/verilogBasicNotes.html">
            
                <a href="../../language/verilog/verilogBasicNotes.html">
            
                    
                    Verilog Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1.1" data-path="androidBasicNotes.html">
            
                <a href="androidBasicNotes.html">
            
                    
                    Android Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Code Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../codeGuide/bugGuideBasicNotes.html">
            
                <a href="../codeGuide/bugGuideBasicNotes.html">
            
                    
                    Bug Guide Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../codeGuide/cleanCodeBasicNotes.html">
            
                <a href="../codeGuide/cleanCodeBasicNotes.html">
            
                    
                    Clean Code Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../codeGuide/codeReviewBasicNotes.html">
            
                <a href="../codeGuide/codeReviewBasicNotes.html">
            
                    
                    Code Review Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../codeGuide/designPatternsNotes.html">
            
                <a href="../codeGuide/designPatternsNotes.html">
            
                    
                    Design Patterns Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    Functional Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../functionalProgramming/functionalProgrammingBasicNotes.html">
            
                <a href="../functionalProgramming/functionalProgrammingBasicNotes.html">
            
                    
                    Functional Programming Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    Game
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../game/gameDesignBasicNotes.html">
            
                <a href="../game/gameDesignBasicNotes.html">
            
                    
                    Game Design Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="../linux/linuxBasicNotes.html">
            
                <a href="../linux/linuxBasicNotes.html">
            
                    
                    Linux Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" >
            
                <span>
            
                    
                    Server
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../server/messageQueueBasicNotes.html">
            
                <a href="../server/messageQueueBasicNotes.html">
            
                    
                    Message Queue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" >
            
                <span>
            
                    
                    Build Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1.1" data-path="../tools/buildTools/CmakeBasicNotes.html">
            
                <a href="../tools/buildTools/CmakeBasicNotes.html">
            
                    
                    Cmake Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.1.2" data-path="../tools/buildTools/makefileBasicNotes.html">
            
                <a href="../tools/buildTools/makefileBasicNotes.html">
            
                    
                    Makefile Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.2.1" data-path="../tools/git/gitBasicNotes.html">
            
                <a href="../tools/git/gitBasicNotes.html">
            
                    
                    Git Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" >
            
                <span>
            
                    
                    Vim
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.3.1" data-path="../tools/vim/vimBasicNotes.html">
            
                <a href="../tools/vim/vimBasicNotes.html">
            
                    
                    Vim Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    Web
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1.1" data-path="../web/angular/angularBasicNotes.html">
            
                <a href="../web/angular/angularBasicNotes.html">
            
                    
                    Angular Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" >
            
                <span>
            
                    
                    Css
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.2.1" data-path="../web/css/bootstrapBasicNotes.html">
            
                <a href="../web/css/bootstrapBasicNotes.html">
            
                    
                    Bootstrap Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.2" data-path="../web/css/cssAdvancedNotes.html">
            
                <a href="../web/css/cssAdvancedNotes.html">
            
                    
                    Css Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.3" data-path="../web/css/cssBasicNotes.html">
            
                <a href="../web/css/cssBasicNotes.html">
            
                    
                    Css Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.4" data-path="../web/css/sassBasicNotes.html">
            
                <a href="../web/css/sassBasicNotes.html">
            
                    
                    Sass Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.5" data-path="../web/css/sassOfficalReference.html">
            
                <a href="../web/css/sassOfficalReference.html">
            
                    
                    Sass Offical Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" >
            
                <span>
            
                    
                    Frameworks
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.3.1" data-path="../web/frameworks/electronBasicNotes.html">
            
                <a href="../web/frameworks/electronBasicNotes.html">
            
                    
                    Electron Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3.2" data-path="../web/frameworks/jQueryBasicNotes.html">
            
                <a href="../web/frameworks/jQueryBasicNotes.html">
            
                    
                    J Query Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.4" >
            
                <span>
            
                    
                    Html
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.4.1" data-path="../web/html/htmlBasicNotes.html">
            
                <a href="../web/html/htmlBasicNotes.html">
            
                    
                    Html Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.5.1" data-path="../web/javascript/javascriptAdvancedNotes.html">
            
                <a href="../web/javascript/javascriptAdvancedNotes.html">
            
                    
                    Javascript Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.2" data-path="../web/javascript/javascriptBasicNotes.html">
            
                <a href="../web/javascript/javascriptBasicNotes.html">
            
                    
                    Javascript Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.3" data-path="../web/javascript/typescriptBasicNotes.html">
            
                <a href="../web/javascript/typescriptBasicNotes.html">
            
                    
                    Typescript Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.6" >
            
                <span>
            
                    
                    Nodejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.6.1" data-path="../web/nodejs/expressBasicNotes.html">
            
                <a href="../web/nodejs/expressBasicNotes.html">
            
                    
                    Express Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.2" data-path="../web/nodejs/graphqlBasicNotes.html">
            
                <a href="../web/nodejs/graphqlBasicNotes.html">
            
                    
                    Graphql Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.3" data-path="../web/nodejs/nodejsBasicNotes.html">
            
                <a href="../web/nodejs/nodejsBasicNotes.html">
            
                    
                    Nodejs Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.7" >
            
                <span>
            
                    
                    Reactjs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.7.1" data-path="../web/reactjs/reactjsBasicNotes.html">
            
                <a href="../web/reactjs/reactjsBasicNotes.html">
            
                    
                    Reactjs Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.2" data-path="../web/reactjs/reactRouterBasicNotes.html">
            
                <a href="../web/reactjs/reactRouterBasicNotes.html">
            
                    
                    React Router Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.3" data-path="../web/reactjs/reduxBasicNotes.html">
            
                <a href="../web/reactjs/reduxBasicNotes.html">
            
                    
                    Redux Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.4" data-path="../web/reactjs/webpackBasicNotes.html">
            
                <a href="../web/reactjs/webpackBasicNotes.html">
            
                    
                    Webpack Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.8" >
            
                <span>
            
                    
                    Security
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.8.1" data-path="../web/security/securityBasicNotes.html">
            
                <a href="../web/security/securityBasicNotes.html">
            
                    
                    Security Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.9" >
            
                <span>
            
                    
                    Vuejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.9.1" data-path="../web/vuejs/vueBasicNotes.html">
            
                <a href="../web/vuejs/vueBasicNotes.html">
            
                    
                    Vue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.10" data-path="../web/libraryBasicNotes.html">
            
                <a href="../web/libraryBasicNotes.html">
            
                    
                    Library Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Android Basic Notes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#android-basic-notes"><b> </b>Android Basic Notes</a></li><ul><li><span class="title-icon "></span><a href="#android-framework"><b>1. </b>Android Framework</a></li><ul><li><span class="title-icon "></span><a href="#dalvik-virtual-machine"><b>1.1. </b>Dalvik virtual machine</a></li><li><span class="title-icon "></span><a href="#basic-building-blocks"><b>1.2. </b>Basic Building Blocks</a></li></ul><li><span class="title-icon "></span><a href="#android-studio"><b>2. </b>Android Studio</a></li><ul><li><span class="title-icon "></span><a href="#plugins"><b>2.1. </b>Plugins</a></li></ul><li><span class="title-icon "></span><a href="#api-conventions"><b>3. </b>API Conventions</a></li><ul><li><span class="title-icon "></span><a href="#managerservice"><b>3.1. </b>Manager.Service</a></li></ul><li><span class="title-icon "></span><a href="#activity"><b>4. </b>Activity</a></li><ul><li><span class="title-icon "></span><a href="#baseactivity"><b>4.1. </b>BaseActivity</a></li><li><span class="title-icon "></span><a href="#activity-collector"><b>4.2. </b>Activity Collector</a></li><li><span class="title-icon "></span><a href="#startactivity"><b>4.3. </b>StartActivity</a></li></ul><li><span class="title-icon "></span><a href="#ui-design"><b>5. </b>UI Design</a></li><ul><li><span class="title-icon "></span><a href="#layout"><b>5.1. </b>Layout</a></li><li><span class="title-icon "></span><a href="#component"><b>5.2. </b>Component</a></li><li><span class="title-icon "></span><a href="#drawable"><b>5.3. </b>Drawable</a></li></ul><li><span class="title-icon "></span><a href="#fragment"><b>6. </b>Fragment</a></li><ul><li><span class="title-icon "></span><a href="#basic-fragment"><b>6.1. </b>Basic Fragment</a></li><li><span class="title-icon "></span><a href="#transfer-information"><b>6.2. </b>Transfer Information</a></li><li><span class="title-icon "></span><a href="#runtime-loop"><b>6.3. </b>Runtime Loop</a></li></ul><li><span class="title-icon "></span><a href="#broadcast"><b>7. </b>Broadcast</a></li><ul><li><span class="title-icon "></span><a href="#register-receiver"><b>7.1. </b>Register Receiver</a></li><li><span class="title-icon "></span><a href="#custom-broadcast"><b>7.2. </b>Custom Broadcast</a></li><li><span class="title-icon "></span><a href="#local-broadcast"><b>7.3. </b>Local Broadcast</a></li></ul><li><span class="title-icon "></span><a href="#data-store"><b>8. </b>Data Store</a></li><ul><li><span class="title-icon "></span><a href="#files-store"><b>8.1. </b>Files Store</a></li><li><span class="title-icon "></span><a href="#sharedpreferences"><b>8.2. </b>SharedPreferences</a></li><li><span class="title-icon "></span><a href="#database"><b>8.3. </b>DataBase</a></li></ul><li><span class="title-icon "></span><a href="#content-provider"><b>9. </b>Content Provider</a></li><ul><li><span class="title-icon "></span><a href="#read-other-app-content"><b>9.1. </b>Read Other App Content</a></li><li><span class="title-icon "></span><a href="#provide-app-content"><b>9.2. </b>Provide App Content</a></li></ul><li><span class="title-icon "></span><a href="#service"><b>10. </b>Service</a></li><ul><li><span class="title-icon "></span><a href="#handler"><b>10.1. </b>Handler</a></li><li><span class="title-icon "></span><a href="#asynctask"><b>10.2. </b>AsyncTask</a></li><li><span class="title-icon "></span><a href="#basic-service"><b>10.3. </b>Basic Service</a></li><li><span class="title-icon "></span><a href="#foreground-service"><b>10.4. </b>ForeGround Service</a></li><li><span class="title-icon "></span><a href="#intentservicethread"><b>10.5. </b>IntentService(Thread)</a></li><li><span class="title-icon "></span><a href="#alarm-service"><b>10.6. </b>Alarm Service</a></li></ul><li><span class="title-icon "></span><a href="#media"><b>11. </b>Media</a></li><ul><li><span class="title-icon "></span><a href="#notification"><b>11.1. </b>Notification</a></li><li><span class="title-icon "></span><a href="#sms"><b>11.2. </b>SMS</a></li><li><span class="title-icon "></span><a href="#audio"><b>11.3. </b>Audio</a></li><li><span class="title-icon "></span><a href="#music"><b>11.4. </b>Music</a></li></ul><li><span class="title-icon "></span><a href="#network"><b>12. </b>NetWork</a></li><ul><li><span class="title-icon "></span><a href="#webview"><b>12.1. </b>WebView</a></li><li><span class="title-icon "></span><a href="#httpurlconnection"><b>12.2. </b>HttpURLConnection</a></li><li><span class="title-icon "></span><a href="#httpclient"><b>12.3. </b>HttpClient</a></li><li><span class="title-icon "></span><a href="#xml"><b>12.4. </b>XML</a></li><li><span class="title-icon "></span><a href="#json"><b>12.5. </b>JSON</a></li><li><span class="title-icon "></span><a href="#network-best-practice"><b>12.6. </b>Network Best Practice</a></li></ul><li><span class="title-icon "></span><a href="#map"><b>13. </b>Map</a></li><ul><li><span class="title-icon "></span><a href="#location"><b>13.1. </b>Location</a></li></ul><li><span class="title-icon "></span><a href="#sensor"><b>14. </b>Sensor</a></li><ul><li><span class="title-icon "></span><a href="#light-sensor"><b>14.1. </b>Light Sensor</a></li><li><span class="title-icon "></span><a href="#accelerometer-sensor"><b>14.2. </b>Accelerometer Sensor</a></li><li><span class="title-icon "></span><a href="#orientation-sensor"><b>14.3. </b>Orientation Sensor</a></li></ul><li><span class="title-icon "></span><a href="#best-practice"><b>15. </b>Best Practice</a></li><ul><li><span class="title-icon "></span><a href="#global-context"><b>15.1. </b>Global Context</a></li><li><span class="title-icon "></span><a href="#&#x7528;-intent-&#x4F20;&#x9012;&#x5BF9;&#x8C61;"><b>15.2. </b>&#x7528; Intent &#x4F20;&#x9012;&#x5BF9;&#x8C61;</a></li><li><span class="title-icon "></span><a href="#custom-logger"><b>15.3. </b>Custom Logger</a></li></ul></ul></ul></div><a href="#android-basic-notes" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="android-basic-notes"><a name="android-basic-notes" class="anchor-navigation-ex-anchor" href="#android-basic-notes"><i class="fa fa-link" aria-hidden="true"></i></a> Android Basic Notes</h1>
<!-- TOC -->
<ul>
<li><a href="#android-basic-notes">Android Basic Notes</a><ul>
<li><a href="#android-framework">Android Framework</a><ul>
<li><a href="#dalvik-virtual-machine">Dalvik virtual machine</a></li>
<li><a href="#basic-building-blocks">Basic Building Blocks</a></li>
</ul>
</li>
<li><a href="#android-studio">Android Studio</a><ul>
<li><a href="#plugins">Plugins</a><ul>
<li><a href="#code-generator">Code generator</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#api-conventions">API Conventions</a><ul>
<li><a href="#managerservice">Manager.Service</a></li>
</ul>
</li>
<li><a href="#activity">Activity</a><ul>
<li><a href="#baseactivity">BaseActivity</a></li>
<li><a href="#activity-collector">Activity Collector</a></li>
<li><a href="#startactivity">StartActivity</a></li>
</ul>
</li>
<li><a href="#ui-design">UI Design</a><ul>
<li><a href="#layout">Layout</a><ul>
<li><a href="#basic">Basic</a></li>
<li><a href="#tablelayout">TableLayout</a></li>
<li><a href="#custom-layout">Custom Layout</a></li>
</ul>
</li>
<li><a href="#component">Component</a><ul>
<li><a href="#custom-component">Custom Component</a></li>
<li><a href="#alertdialog">AlertDialog</a></li>
<li><a href="#listview">ListView</a><ul>
<li><a href="#custom-listview-layout">Custom ListView Layout</a></li>
<li><a href="#custom-listview-listener">Custom ListView Listener</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#drawable">Drawable</a></li>
</ul>
</li>
<li><a href="#fragment">Fragment</a><ul>
<li><a href="#basic-fragment">Basic Fragment</a><ul>
<li><a href="#xml-in-activityxml">Xml in Activity.xml</a></li>
<li><a href="#create-view-in-fragment">Create View in Fragment</a></li>
<li><a href="#add-fragment-in-activity">Add Fragment in Activity</a></li>
</ul>
</li>
<li><a href="#transfer-information">Transfer Information</a><ul>
<li><a href="#in-activity">In Activity</a></li>
<li><a href="#in-fragment">In Fragment</a></li>
</ul>
</li>
<li><a href="#runtime-loop">Runtime Loop</a><ul>
<li><a href="#basic-override-funciton">Basic Override Funciton</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#broadcast">Broadcast</a><ul>
<li><a href="#register-receiver">Register Receiver</a></li>
<li><a href="#custom-broadcast">Custom Broadcast</a><ul>
<li><a href="#normal-broadcast">Normal Broadcast</a></li>
<li><a href="#ordered-broadcast">Ordered Broadcast</a></li>
</ul>
</li>
<li><a href="#local-broadcast">Local Broadcast</a><ul>
<li><a href="#local-brodcast">Local Brodcast</a></li>
<li><a href="#local-receiver">Local Receiver</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#data-store">Data Store</a><ul>
<li><a href="#files-store">Files Store</a></li>
<li><a href="#sharedpreferences">SharedPreferences</a></li>
<li><a href="#database">DataBase</a><ul>
<li><a href="#sqliteopenhelper">SQLiteOpenHelper</a><ul>
<li><a href="#establish-table">establish table</a></li>
</ul>
</li>
<li><a href="#basic-operator">Basic Operator</a></li>
<li><a href="#transaction">Transaction</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#content-provider">Content Provider</a><ul>
<li><a href="#read-other-app-content">Read Other App Content</a></li>
<li><a href="#provide-app-content">Provide App Content</a></li>
</ul>
</li>
<li><a href="#service">Service</a><ul>
<li><a href="#handler">Handler</a></li>
<li><a href="#asynctask">AsyncTask</a></li>
<li><a href="#basic-service">Basic Service</a><ul>
<li><a href="#ibinder">IBinder</a></li>
</ul>
</li>
<li><a href="#foreground-service">ForeGround Service</a></li>
<li><a href="#intentservicethread">IntentService(Thread)</a></li>
<li><a href="#alarm-service">Alarm Service</a></li>
</ul>
</li>
<li><a href="#media">Media</a><ul>
<li><a href="#notification">Notification</a></li>
<li><a href="#sms">SMS</a></li>
<li><a href="#audio">Audio</a></li>
<li><a href="#music">Music</a></li>
</ul>
</li>
<li><a href="#network">NetWork</a><ul>
<li><a href="#webview">WebView</a><ul>
<li><a href="#three-steps">Three Steps</a></li>
</ul>
</li>
<li><a href="#httpurlconnection">HttpURLConnection</a></li>
<li><a href="#httpclient">HttpClient</a></li>
<li><a href="#xml">XML</a><ul>
<li><a href="#pull">Pull</a></li>
<li><a href="#sax">SAX</a><ul>
<li><a href="#defaulthandler">DefaultHandler</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#json">JSON</a><ul>
<li><a href="#jsonobject">JSONObject</a></li>
<li><a href="#gson">GSON</a></li>
</ul>
</li>
<li><a href="#network-best-practice">Network Best Practice</a></li>
</ul>
</li>
<li><a href="#map">Map</a><ul>
<li><a href="#location">Location</a></li>
</ul>
</li>
<li><a href="#sensor">Sensor</a><ul>
<li><a href="#light-sensor">Light Sensor</a></li>
<li><a href="#accelerometer-sensor">Accelerometer Sensor</a></li>
<li><a href="#orientation-sensor">Orientation Sensor</a></li>
</ul>
</li>
<li><a href="#best-practice">Best Practice</a><ul>
<li><a href="#global-context">Global Context</a></li>
<li><a href="#&#x7528;-intent-&#x4F20;&#x9012;&#x5BF9;&#x8C61;">&#x7528; Intent &#x4F20;&#x9012;&#x5BF9;&#x8C61;</a><ul>
<li><a href="#serializable">Serializable</a></li>
<li><a href="#parcelable">Parcelable</a></li>
</ul>
</li>
<li><a href="#custom-logger">Custom Logger</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="android-framework"><a name="android-framework" class="anchor-navigation-ex-anchor" href="#android-framework"><i class="fa fa-link" aria-hidden="true"></i></a>1. Android Framework</h2>
<h3 id="dalvik-virtual-machine"><a name="dalvik-virtual-machine" class="anchor-navigation-ex-anchor" href="#dalvik-virtual-machine"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Dalvik virtual machine</h3>
<ol>
<li>register-based machine
&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;(&#x4E0D;&#x5199;&#x5165;&#x5185;&#x5B58;)</li>
<li>minimizeing instruction diapath and memory accesses
&#x6700;&#x5C0F;&#x5316;&#x6307;&#x4EE4;&#x5206;&#x914D;&#x9ED1;&#x5185;&#x5B58;&#x8BBF;&#x95EE;</li>
<li>giving more efficient instruction stream(a lot more semantic content)
&#x63D0;&#x4F9B;&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x7684;&#x6307;&#x4EE4;&#x6D41;</li>
</ol>
<h3 id="basic-building-blocks"><a name="basic-building-blocks" class="anchor-navigation-ex-anchor" href="#basic-building-blocks"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Basic Building Blocks</h3>
<ol>
<li>Activity(Managed by activity stack)</li>
<li>Service(Running in the background;with no UI)</li>
<li>Broadcast Receiver(Can invoke(&#x8C03;&#x7528;) activity;with no UI)</li>
<li>Content Provider(accessing and managing application data)</li>
</ol>
<hr>
<h2 id="android-studio"><a name="android-studio" class="anchor-navigation-ex-anchor" href="#android-studio"><i class="fa fa-link" aria-hidden="true"></i></a>2. Android Studio</h2>
<h3 id="plugins"><a name="plugins" class="anchor-navigation-ex-anchor" href="#plugins"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. Plugins</h3>
<h4 id="code-generator"><a name="code-generator" class="anchor-navigation-ex-anchor" href="#code-generator"><i class="fa fa-link" aria-hidden="true"></i></a><a name="code-generator" class="plugin-anchor" href="#code-generator"><i class="fa fa-link" aria-hidden="true"></i></a>Code generator</h4>
<ul>
<li>Constructor</li>
<li>getter/setter</li>
<li>ViewHolder</li>
<li>Parcelable Implemention</li>
<li>GsonFormat : &#x6839;&#x636E; JSONObject &#x751F;&#x6210;&#x76F8;&#x5E94;&#x7C7B;</li>
</ul>
<h2 id="api-conventions"><a name="api-conventions" class="anchor-navigation-ex-anchor" href="#api-conventions"><i class="fa fa-link" aria-hidden="true"></i></a>3. API Conventions</h2>
<h3 id="managerservice"><a name="managerservice" class="anchor-navigation-ex-anchor" href="#managerservice"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. Manager.Service</h3>
<ul>
<li>PreferenceManager.getDefaultSharedPreferences</li>
<li>LocalBroadcastManager.getInstance</li>
</ul>
<h2 id="activity"><a name="activity" class="anchor-navigation-ex-anchor" href="#activity"><i class="fa fa-link" aria-hidden="true"></i></a>4. Activity</h2>
<h3 id="baseactivity"><a name="baseactivity" class="anchor-navigation-ex-anchor" href="#baseactivity"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. BaseActivity</h3>
<p>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x754C;&#x9762;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A; Activity&#xFF0C;&#x81EA;&#x5B9A;&#x4E49; Activity &#x7EE7;&#x627F; BaseActivity</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;BaseActivity&quot;</span><span class="token punctuation">,</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="activity-collector"><a name="activity-collector" class="anchor-navigation-ex-anchor" href="#activity-collector"><i class="fa fa-link" aria-hidden="true"></i></a>4.2. Activity Collector</h3>
<p>&#x5728;&#x6240;&#x6709; Activity &#x7684; onCreate &#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x9759;&#x6001;&#x7684; addActivity &#x65B9;&#x6CD5;&#xFF0C;onDestroy &#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x9759;&#x6001;&#x7684; removeActivity &#x65B9;&#x6CD5;&#x3002;</p>
<ul>
<li><code>ActivityCollector.addActivity(this);</code></li>
<li><code>ActivityCollector.removeActivity(this);</code></li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivityCollector</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Activity</span><span class="token punctuation">&gt;</span></span> activities <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Activity</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">addActivity</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> activity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        activities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">removeActivity</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> activity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        activities<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">finishAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Activity</span> activity <span class="token operator">:</span> activities<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activity<span class="token punctuation">.</span><span class="token function">isFinishing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                activity<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="startactivity"><a name="startactivity" class="anchor-navigation-ex-anchor" href="#startactivity"><i class="fa fa-link" aria-hidden="true"></i></a>4.3. StartActivity</h3>
<p>&#x4E3A;&#x6BCF;&#x4E2A; Activity &#x6DFB;&#x52A0;&#x9759;&#x6001;&#x7684; actionStart &#x65B9;&#x6CD5;&#xFF0C;&#x4F9B;&#x5176;&#x4ED6; Activity &#x542F;&#x7528;&#x6B64; Activity</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">actionStart</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> data1<span class="token punctuation">,</span> <span class="token class-name">String</span> data2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> thisActivity<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;param1&quot;</span><span class="token punctuation">,</span> data1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;param2&quot;</span><span class="token punctuation">,</span> data2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr>
<h2 id="ui-design"><a name="ui-design" class="anchor-navigation-ex-anchor" href="#ui-design"><i class="fa fa-link" aria-hidden="true"></i></a>5. UI Design</h2>
<blockquote>
<p>N activities can respond to a particular intent:</p>
</blockquote>
<p>Android will pop(&#x5F39;&#x51FA;) up a little dialogue list(&#x5BF9;&#x8BDD;&#x6846;) to
user showing application icon defining the intent</p>
<p>&#x5F53;&#x6709;&#x591A;&#x4E2A;&#x6D3B;&#x52A8;&#x53EF;&#x76F8;&#x5E94;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x610F;&#x56FE;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x5C06;&#x4F1A;&#x5F39;&#x51FA;&#x5BF9;&#x8BDD;&#x6846;&#x63D0;&#x793A;&#x7528;&#x6237;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7684;&#x6D3B;&#x52A8;&#x6216;&#x8005;&#x8BBE;&#x5B9A;&#x9ED8;&#x8BA4;&#x503C;(default)</p>
<p>e.g web browsers</p>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.LAUNCHER<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h3 id="layout"><a name="layout" class="anchor-navigation-ex-anchor" href="#layout"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. Layout</h3>
<h4 id="basic"><a name="basic" class="anchor-navigation-ex-anchor" href="#basic"><i class="fa fa-link" aria-hidden="true"></i></a><a name="basic" class="plugin-anchor" href="#basic"><i class="fa fa-link" aria-hidden="true"></i></a>Basic</h4>
<ul>
<li><code>android:layout_weight</code> &#x81EA;&#x9002;&#x914D;&#x5E03;&#x5C40;</li>
<li><code>android:SingleLine</code> &#x5355;&#x884C;&#x663E;&#x793A;&#x6A21;&#x5F0F;</li>
<li><code>android:ellipsize=&quot;end&quot;</code> &#x6587;&#x5B57;&#x8FC7;&#x591A;&#x65F6;&#x7F29;&#x7565;&#x65B9;&#x5F0F;</li>
</ul>
<h4 id="tablelayout"><a name="tablelayout" class="anchor-navigation-ex-anchor" href="#tablelayout"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tablelayout" class="plugin-anchor" href="#tablelayout"><i class="fa fa-link" aria-hidden="true"></i></a>TableLayout</h4>
<ul>
<li><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableLayout</span> <span class="token attr-name"><span class="token namespace">android:</span>stretchColumns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code> &#x62C9;&#x4F38;&#x7B2C; 2 &#x5217;</li>
<li><code>android:layout_span=&quot;2&quot;</code> &#x5360; 2 &#x5217;</li>
</ul>
<h4 id="custom-layout"><a name="custom-layout" class="anchor-navigation-ex-anchor" href="#custom-layout"><i class="fa fa-link" aria-hidden="true"></i></a><a name="custom-layout" class="plugin-anchor" href="#custom-layout"><i class="fa fa-link" aria-hidden="true"></i></a>Custom Layout</h4>
<p>LayoutInflater &#x4F5C;&#x7528;&#x662F;&#x5C06; layout &#x7684; xml &#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x5B9E;&#x4F8B;&#x5316;&#x4E3A; View &#x7C7B;&#x5BF9;&#x8C61;&#x3002;</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">View</span> view <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">/</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="component"><a name="component" class="anchor-navigation-ex-anchor" href="#component"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. Component</h3>
<p>View(ViewGroup): e.g button&#x3001;textbox(&#x6587;&#x672C;&#x6846;)&#x3001;checkbox(&#x590D;&#x9009;&#x6846;)</p>
<h4 id="custom-component"><a name="custom-component" class="anchor-navigation-ex-anchor" href="#custom-component"><i class="fa fa-link" aria-hidden="true"></i></a><a name="custom-component" class="plugin-anchor" href="#custom-component"><i class="fa fa-link" aria-hidden="true"></i></a>Custom Component</h4>
<p>custom Xml</p>
<p>titie.xml</p>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/title_bg<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/title_back<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_margin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dip<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/back_bg<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Back<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/title_text<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dip<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Title Text<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>24sp<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/title_edit<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_margin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dip<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/edit_bg<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Edit<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>custom class</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TitleLayout</span> <span class="token keyword">extends</span> <span class="token class-name">LinearLayout</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">TitleLayout</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">AttributeSet</span> attrs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//Register button click Listener</span>
        titleBack<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Activity</span><span class="token punctuation">)</span> <span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        titleEdit<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;You clicked Edit button&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//other awesome things</span>
        <span class="token comment">//like material design ripple effect</span>
        <span class="token comment">//animations and music</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h4 id="alertdialog"><a name="alertdialog" class="anchor-navigation-ex-anchor" href="#alertdialog"><i class="fa fa-link" aria-hidden="true"></i></a><a name="alertdialog" class="plugin-anchor" href="#alertdialog"><i class="fa fa-link" aria-hidden="true"></i></a>AlertDialog</h4>
<pre class="language-"><code class="lang-java"><span class="token comment">//builder pattern</span>
<span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span> dialogBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>

dialogBuilder<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;Warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dialogBuilder<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;You are forced to be offline. Please try to login again.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dialogBuilder<span class="token punctuation">.</span><span class="token function">setCancelable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dialogBuilder<span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DialogInterface<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">DialogInterface</span> dialog<span class="token punctuation">,</span> <span class="token keyword">int</span> which<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityCollector</span><span class="token punctuation">.</span><span class="token function">finishAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x9500;&#x6BC1;&#x6240;&#x6709;&#x6D3B;&#x52A8;</span>
        <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token class-name">LoginActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        intent<span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span>FLAG_ACTIVITY_NEW_TASK<span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x91CD;&#x65B0;&#x542F;&#x52A8;LoginActivity</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">AlertDialog</span> alertDialog <span class="token operator">=</span> dialogBuilder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &#x9700;&#x8981;&#x8BBE;&#x7F6E;AlertDialog&#x7684;&#x7C7B;&#x578B;,&#x4FDD;&#x8BC1;&#x5728;&#x5E7F;&#x64AD;&#x63A5;&#x6536;&#x5668;&#x4E2D;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5F39;&#x51FA;</span>
alertDialog<span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span>TYPE_SYSTEM_ALERT<span class="token punctuation">)</span><span class="token punctuation">;</span>

alertDialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="listview"><a name="listview" class="anchor-navigation-ex-anchor" href="#listview"><i class="fa fa-link" aria-hidden="true"></i></a><a name="listview" class="plugin-anchor" href="#listview"><i class="fa fa-link" aria-hidden="true"></i></a>ListView</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ArrayAdapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayAdapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span></span>R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_list_item_1<span class="token punctuation">,</span> data
<span class="token punctuation">)</span><span class="token punctuation">;</span>
listView<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="custom-listview-layout"><a name="custom-listview-layout" class="anchor-navigation-ex-anchor" href="#custom-listview-layout"><i class="fa fa-link" aria-hidden="true"></i></a><a name="custom-listview-layout" class="plugin-anchor" href="#custom-listview-layout"><i class="fa fa-link" aria-hidden="true"></i></a>Custom ListView Layout</h5>
<ul>
<li>Custom class</li>
<li>Custom Sub Xml(&#x5355;&#x9879;)</li>
<li>Custom ArrayAdapter<ul>
<li>&#x91CD;&#x5199;&#x6784;&#x9020;&#x51FD;&#x6570;</li>
<li>&#x91CD;&#x5199; getView &#x65B9;&#x6CD5;<ul>
<li>&#x91CD;&#x7528; convertView &#x63D0;&#x5347;&#x6027;&#x80FD;</li>
<li>ViewHolder &#x63D0;&#x5347;&#x6027;&#x80FD;</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="language-"><code class="lang-java">
<span class="token comment">//&#x5185;&#x90E8;&#x7C7B;&#xFF0C;&#x5176;&#x4E2D;&#x5B57;&#x6BB5;&#x4E0E;&#x81EA;&#x5B9A;&#x4E49;class&#x7684;&#x5B57;&#x6BB5;&#x4E00;&#x81F4;</span>
<span class="token keyword">class</span> <span class="token class-name">ViewHolder</span> <span class="token punctuation">{</span>
    <span class="token class-name">ImageView</span> fruitImage<span class="token punctuation">;</span>
    <span class="token class-name">TextView</span> fruitName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token class-name">FruitAdapter</span><span class="token punctuation">(</span>
  <span class="token class-name">Context</span> context<span class="token punctuation">,</span>
  <span class="token keyword">int</span> textViewResourceId<span class="token punctuation">,</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Fruit</span><span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> textViewResourceId<span class="token punctuation">,</span> objects<span class="token punctuation">)</span><span class="token punctuation">;</span>
    resourceId <span class="token operator">=</span> textViewResourceId<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">View</span> <span class="token function">getView</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token class-name">View</span> convertView<span class="token punctuation">,</span> <span class="token class-name">ViewGroup</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">Fruit</span> fruit <span class="token operator">=</span> <span class="token function">getItem</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9879;&#x7684;Fruit&#x5B9E;&#x4F8B;</span>
    <span class="token class-name">View</span> view<span class="token punctuation">;</span>
    <span class="token class-name">ViewHolder</span> viewHolder<span class="token punctuation">;</span>

    <span class="token comment">//&#x5927;&#x5E45;&#x63D0;&#x5347;&#x6027;&#x80FD;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>convertView <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        view <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>resourceId<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        viewHolder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewHolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewHolder<span class="token punctuation">.</span>fruitImage <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ImageView</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>fruit_image<span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewHolder<span class="token punctuation">.</span>fruitName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>fruit_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        view<span class="token punctuation">.</span><span class="token function">setTag</span><span class="token punctuation">(</span>viewHolder<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5C06;ViewHolder&#x5B58;&#x50A8;&#x5728;View&#x4E2D;</span>

    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        view <span class="token operator">=</span> convertView<span class="token punctuation">;</span>
        viewHolder <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ViewHolder</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x91CD;&#x65B0;&#x83B7;&#x53D6;ViewHolder</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">ImageView</span> fruitImage <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ImageView</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>fruit_image<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">TextView</span> fruitName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>fruit_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fruitImage<span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span>fruit<span class="token punctuation">.</span><span class="token function">getImageId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fruitName<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>fruit<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> view<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="custom-listview-listener"><a name="custom-listview-listener" class="anchor-navigation-ex-anchor" href="#custom-listview-listener"><i class="fa fa-link" aria-hidden="true"></i></a><a name="custom-listview-listener" class="plugin-anchor" href="#custom-listview-listener"><i class="fa fa-link" aria-hidden="true"></i></a>Custom ListView Listener</h5>
<pre class="language-"><code class="lang-java">listView<span class="token punctuation">.</span><span class="token function">setOnItemClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OnItemClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onItemClick</span><span class="token punctuation">(</span>
      <span class="token class-name">AdapterView</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> parent<span class="token punctuation">,</span>
      <span class="token class-name">View</span> view<span class="token punctuation">,</span>
      <span class="token keyword">int</span> position<span class="token punctuation">,</span>
      <span class="token keyword">long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Fruit</span> fruit <span class="token operator">=</span> fruitList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> fruit<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

adapter<span class="token punctuation">.</span><span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// &#x5F53;&#x6709;&#x65B0;&#x6D88;&#x606F;&#x65F6;,&#x5237;&#x65B0;ListView&#x4E2D;&#x7684;&#x663E;&#x793A;</span>
msgListView<span class="token punctuation">.</span><span class="token function">setSelection</span><span class="token punctuation">(</span>msgList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5C06;ListView&#x5B9A;&#x4F4D;&#x5230;&#x6700;&#x540E;&#x4E00;&#x884C;</span>
</code></pre>
<h3 id="drawable"><a name="drawable" class="anchor-navigation-ex-anchor" href="#drawable"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. Drawable</h3>
<p>&#x4FEE;&#x6539;&#x7279;&#x5B9A;&#x7EC4;&#x4EF6;&#x7684;&#x80CC;&#x666F;&#x989C;&#x8272;</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Resources</span> myColor<span class="token operator">=</span><span class="token function">getBaseContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//getBaseContext()&#x83B7;&#x5F97;&#x57FA;&#x7840;Context</span>
<span class="token comment">//getResources()&#x83B7;&#x5F97;&#x8D44;&#x6E90;</span>
<span class="token class-name">Drawable</span> color_M<span class="token operator">=</span>myColor<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span> lightgreen <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x7531;&#x8D44;&#x6E90; myColor&#x6765;&#x83B7;&#x5F97;Drawable</span>
<span class="token class-name">R</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>lightgreen&#x662F;&#x989C;&#x8272;&#x503C;&#x7684;ID&#x5F15;&#x7528;
text<span class="token punctuation">.</span><span class="token function">setBackgroundDrawable</span><span class="token punctuation">(</span>color_M<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x8BBE;&#x7F6E;&#x80CC;&#x666F;</span>
</code></pre>
<hr>
<h2 id="fragment"><a name="fragment" class="anchor-navigation-ex-anchor" href="#fragment"><i class="fa fa-link" aria-hidden="true"></i></a>6. Fragment</h2>
<p>android.app.Fragment</p>
<h3 id="basic-fragment"><a name="basic-fragment" class="anchor-navigation-ex-anchor" href="#basic-fragment"><i class="fa fa-link" aria-hidden="true"></i></a>6.1. Basic Fragment</h3>
<h4 id="xml-in-activityxml"><a name="xml-in-activityxml" class="anchor-navigation-ex-anchor" href="#xml-in-activityxml"><i class="fa fa-link" aria-hidden="true"></i></a><a name="xml-in-activityxml" class="plugin-anchor" href="#xml-in-activityxml"><i class="fa fa-link" aria-hidden="true"></i></a>Xml in Activity.xml</h4>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fragment</span> <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/right_fragment<span class="token punctuation">&quot;</span></span> <span class="token attr-name">&lt;!--</span> <span class="token attr-name">custom</span> <span class="token attr-name">fragment</span> <span class="token attr-name">class</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
  android:name=&quot;com.example.fragmenttest.RightFragment&quot;
  android:layout_width=&quot;0dp&quot; android:layout_height=&quot;match_parent&quot;
  android:layout_weight=&quot;1&quot; /&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fragment</span>
<span class="token punctuation">&gt;</span></span>
</code></pre>
<h4 id="create-view-in-fragment"><a name="create-view-in-fragment" class="anchor-navigation-ex-anchor" href="#create-view-in-fragment"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-view-in-fragment" class="plugin-anchor" href="#create-view-in-fragment"><i class="fa fa-link" aria-hidden="true"></i></a>Create View in Fragment</h4>
<pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">View</span> <span class="token function">onCreateView</span><span class="token punctuation">(</span>
  <span class="token class-name">LayoutInflater</span> inflater<span class="token punctuation">,</span>
  <span class="token class-name">ViewGroup</span> container<span class="token punctuation">,</span>
  <span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">View</span> view <span class="token operator">=</span> inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>left_fragment<span class="token punctuation">,</span> container<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> view<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="add-fragment-in-activity"><a name="add-fragment-in-activity" class="anchor-navigation-ex-anchor" href="#add-fragment-in-activity"><i class="fa fa-link" aria-hidden="true"></i></a><a name="add-fragment-in-activity" class="plugin-anchor" href="#add-fragment-in-activity"><i class="fa fa-link" aria-hidden="true"></i></a>Add Fragment in Activity</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">AnotherRightFragment</span> fragment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnotherRightFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FragmentTransaction</span> transaction <span class="token operator">=</span> getFragmentManager<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//&#x5BB9;&#x5668;&#x7684; id &#x548C;&#x5F85;&#x6DFB;&#x52A0;&#x7684;&#x788E;&#x7247;&#x5B9E;&#x4F8B;</span>
transaction<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>right_layout<span class="token punctuation">,</span> fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x6A21;&#x62DF;&#x8FD4;&#x56DE;&#x6808;</span>
transaction<span class="token punctuation">.</span><span class="token function">addToBackStack</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
transaction<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="transfer-information"><a name="transfer-information" class="anchor-navigation-ex-anchor" href="#transfer-information"><i class="fa fa-link" aria-hidden="true"></i></a>6.2. Transfer Information</h3>
<h4 id="in-activity"><a name="in-activity" class="anchor-navigation-ex-anchor" href="#in-activity"><i class="fa fa-link" aria-hidden="true"></i></a><a name="in-activity" class="plugin-anchor" href="#in-activity"><i class="fa fa-link" aria-hidden="true"></i></a>In Activity</h4>
<p><code>getFragmentManager().findFragmentById(R.id.right_fragment);</code></p>
<h4 id="in-fragment"><a name="in-fragment" class="anchor-navigation-ex-anchor" href="#in-fragment"><i class="fa fa-link" aria-hidden="true"></i></a><a name="in-fragment" class="plugin-anchor" href="#in-fragment"><i class="fa fa-link" aria-hidden="true"></i></a>In Fragment</h4>
<p><code>MainActivity activity = (MainActivity) getActivity();</code></p>
<h3 id="runtime-loop"><a name="runtime-loop" class="anchor-navigation-ex-anchor" href="#runtime-loop"><i class="fa fa-link" aria-hidden="true"></i></a>6.3. Runtime Loop</h3>
<h4 id="basic-override-funciton"><a name="basic-override-funciton" class="anchor-navigation-ex-anchor" href="#basic-override-funciton"><i class="fa fa-link" aria-hidden="true"></i></a><a name="basic-override-funciton" class="plugin-anchor" href="#basic-override-funciton"><i class="fa fa-link" aria-hidden="true"></i></a>Basic Override Funciton</h4>
<ul>
<li><code>onAttach()</code>
&#x5F53;&#x788E;&#x7247;&#x548C;&#x6D3B;&#x52A8;&#x5EFA;&#x7ACB;&#x5173;&#x8054;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x3002;</li>
<li><code>onCreateView()</code>
&#x4E3A;&#x788E;&#x7247;&#x521B;&#x5EFA;&#x89C6;&#x56FE;(&#x52A0;&#x8F7D;&#x5E03;&#x5C40;)&#x65F6;&#x8C03;&#x7528;&#x3002;</li>
<li><code>onActivityCreated()</code>
&#x786E;&#x4FDD;&#x4E0E;&#x788E;&#x7247;&#x76F8;&#x5173;&#x8054;&#x7684;&#x6D3B;&#x52A8;&#x4E00;&#x5B9A;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x5B8C;&#x6BD5;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x3002;</li>
<li><code>onDestroyView()</code>
&#x5F53;&#x4E0E;&#x788E;&#x7247;&#x5173;&#x8054;&#x7684;&#x89C6;&#x56FE;&#x88AB;&#x79FB;&#x9664;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x3002;</li>
<li><code>onDetach()</code>
&#x5F53;&#x788E;&#x7247;&#x548C;&#x6D3B;&#x52A8;&#x89E3;&#x9664;&#x5173;&#x8054;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x3002;</li>
</ul>
<hr>
<h2 id="broadcast"><a name="broadcast" class="anchor-navigation-ex-anchor" href="#broadcast"><i class="fa fa-link" aria-hidden="true"></i></a>7. Broadcast</h2>
<ul>
<li>Normal Broadcasts : async</li>
<li>Ordered Broadcasts : sync</li>
</ul>
<h3 id="register-receiver"><a name="register-receiver" class="anchor-navigation-ex-anchor" href="#register-receiver"><i class="fa fa-link" aria-hidden="true"></i></a>7.1. Register Receiver</h3>
<p>In Activity</p>
<pre class="language-"><code class="lang-java"><span class="token comment">//Custom BroadcastReceiver,Override onReceive methods</span>
<span class="token comment">//intentFilter : action</span>
<span class="token comment">//&#x524D;&#x4E3A;&#x54CD;&#x5E94;&#x540E;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x540E;&#x4E3A;&#x54CD;&#x5E94;&#x4F55;&#x79CD;&#x5E7F;&#x64AD;</span>
<span class="token function">registerReceiver</span><span class="token punctuation">(</span>networkChangeReceiver<span class="token punctuation">,</span> intentFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//in onDestroy</span>
<span class="token function">unregisterReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In AndroidManifest,xml</p>
<pre class="language-"><code class="lang-html"><span class="token comment">&lt;!-- custom receiver class --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MyBroadcastReceiver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- receiver priority --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span> <span class="token attr-name"><span class="token namespace">android:</span>priority</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- custom broadcast --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.broadcasttest. MY_BROADCAST<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h3 id="custom-broadcast"><a name="custom-broadcast" class="anchor-navigation-ex-anchor" href="#custom-broadcast"><i class="fa fa-link" aria-hidden="true"></i></a>7.2. Custom Broadcast</h3>
<h4 id="normal-broadcast"><a name="normal-broadcast" class="anchor-navigation-ex-anchor" href="#normal-broadcast"><i class="fa fa-link" aria-hidden="true"></i></a><a name="normal-broadcast" class="plugin-anchor" href="#normal-broadcast"><i class="fa fa-link" aria-hidden="true"></i></a>Normal Broadcast</h4>
<pre class="language-"><code class="lang-java">intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token string">&quot;com.example.broadcasttest.MY_BROADCAST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="ordered-broadcast"><a name="ordered-broadcast" class="anchor-navigation-ex-anchor" href="#ordered-broadcast"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ordered-broadcast" class="plugin-anchor" href="#ordered-broadcast"><i class="fa fa-link" aria-hidden="true"></i></a>Ordered Broadcast</h4>
<pre class="language-"><code class="lang-java">intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token string">&quot;com.example.broadcasttest.MY_BROADCAST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sendOrderedBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="local-broadcast"><a name="local-broadcast" class="anchor-navigation-ex-anchor" href="#local-broadcast"><i class="fa fa-link" aria-hidden="true"></i></a>7.3. Local Broadcast</h3>
<pre class="language-"><code class="lang-java"><span class="token comment">// &#x83B7;&#x53D6;&#x5B9E;&#x4F8B;</span>
localBroadcastManager <span class="token operator">=</span> <span class="token class-name">LocalBroadcastManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="local-brodcast"><a name="local-brodcast" class="anchor-navigation-ex-anchor" href="#local-brodcast"><i class="fa fa-link" aria-hidden="true"></i></a><a name="local-brodcast" class="plugin-anchor" href="#local-brodcast"><i class="fa fa-link" aria-hidden="true"></i></a>Local Brodcast</h4>
<pre class="language-"><code class="lang-java">localBroadcastManager<span class="token punctuation">.</span><span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x53D1;&#x9001;&#x672C;&#x5730;&#x5E7F;&#x64AD;</span>
</code></pre>
<h4 id="local-receiver"><a name="local-receiver" class="anchor-navigation-ex-anchor" href="#local-receiver"><i class="fa fa-link" aria-hidden="true"></i></a><a name="local-receiver" class="plugin-anchor" href="#local-receiver"><i class="fa fa-link" aria-hidden="true"></i></a>Local Receiver</h4>
<pre class="language-"><code class="lang-java">localBroadcastManager<span class="token punctuation">.</span><span class="token function">registerReceiver</span><span class="token punctuation">(</span><span class="token class-name">CustomReceiver</span><span class="token punctuation">,</span> intentFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
localBroadcastManager<span class="token punctuation">.</span><span class="token function">unregisterReceiver</span><span class="token punctuation">(</span><span class="token class-name">CustomReceiver</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<h2 id="data-store"><a name="data-store" class="anchor-navigation-ex-anchor" href="#data-store"><i class="fa fa-link" aria-hidden="true"></i></a>8. Data Store</h2>
<h3 id="files-store"><a name="files-store" class="anchor-navigation-ex-anchor" href="#files-store"><i class="fa fa-link" aria-hidden="true"></i></a>8.1. Files Store</h3>
<p><code>/data/data/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packagename</span><span class="token punctuation">&gt;</span></span>/files/</code></p>
<p>Write</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">String</span> data <span class="token operator">=</span> <span class="token string">&quot;Data to save&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">FileOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedWriter</span> writer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    out <span class="token operator">=</span> <span class="token function">openFileOutput</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">.</span>MODE_PRIVATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>writer <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Read</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">StringBuilder</span> content <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    in <span class="token operator">=</span> <span class="token function">openFileInput</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reader <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="sharedpreferences"><a name="sharedpreferences" class="anchor-navigation-ex-anchor" href="#sharedpreferences"><i class="fa fa-link" aria-hidden="true"></i></a>8.2. SharedPreferences</h3>
<p><code>/data/data/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packagename</span><span class="token punctuation">&gt;</span></span>/shared_prefs/</code></p>
<p>Write</p>
<pre class="language-"><code class="lang-java"><span class="token comment">//get Editor</span>
<span class="token class-name">SharedPreferences<span class="token punctuation">.</span>Editor</span> editor <span class="token operator">=</span> <span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> MODE_PRIVATE<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//store date</span>
editor<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//commit</span>
editor<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-java">editor<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>clear pref file content</p>
<p>Read</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SharedPreferences</span> pref <span class="token operator">=</span> <span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> MODE_PRIVATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//second argument - default value if target key don&apos;t exists</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> pref<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> age <span class="token operator">=</span> pref<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> married <span class="token operator">=</span> pref<span class="token punctuation">.</span><span class="token function">getBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="database"><a name="database" class="anchor-navigation-ex-anchor" href="#database"><i class="fa fa-link" aria-hidden="true"></i></a>8.3. DataBase</h3>
<p><code>/data/data/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token punctuation">&gt;</span></span>/databases/</code></p>
<h4 id="sqliteopenhelper"><a name="sqliteopenhelper" class="anchor-navigation-ex-anchor" href="#sqliteopenhelper"><i class="fa fa-link" aria-hidden="true"></i></a><a name="sqliteopenhelper" class="plugin-anchor" href="#sqliteopenhelper"><i class="fa fa-link" aria-hidden="true"></i></a>SQLiteOpenHelper</h4>
<pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Override</span>
<span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onUpgrade</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase</span> db<span class="token punctuation">,</span> <span class="token keyword">int</span> oldVersion<span class="token punctuation">,</span> <span class="token keyword">int</span> newVersion<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>oldVersion<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
            db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>CREATE_CATEGORY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
            db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span><span class="token string">&quot;alter table Book add column category_id integer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Custom &#x5B9E;&#x73B0;&#x521B;&#x5EFA;&#x3001;&#x5347;&#x7EA7;&#x6570;&#x636E;&#x5E93;&#x7684;&#x903B;&#x8F91;
&#x6784;&#x5EFA;&#x51FA; SQLiteOpenHelper &#x7684;&#x5B9E;&#x4F8B;&#x540E;,&#x518D;&#x8C03;&#x7528;<code>getReadableDatabase()</code>&#x6216;<code>getWritableDatabase()</code>&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</p>
<h5 id="establish-table"><a name="establish-table" class="anchor-navigation-ex-anchor" href="#establish-table"><i class="fa fa-link" aria-hidden="true"></i></a><a name="establish-table" class="plugin-anchor" href="#establish-table"><i class="fa fa-link" aria-hidden="true"></i></a>establish table</h5>
<pre class="language-"><code class="lang-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> Book <span class="token punctuation">(</span>
    id <span class="token keyword">integer</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> autoincrement<span class="token punctuation">,</span>
    author <span class="token keyword">text</span><span class="token punctuation">,</span>
    price <span class="token keyword">real</span><span class="token punctuation">,</span>
    pages <span class="token keyword">integer</span><span class="token punctuation">,</span>
    name <span class="token keyword">text</span>
    <span class="token punctuation">)</span>
</code></pre>
<h4 id="basic-operator"><a name="basic-operator" class="anchor-navigation-ex-anchor" href="#basic-operator"><i class="fa fa-link" aria-hidden="true"></i></a><a name="basic-operator" class="plugin-anchor" href="#basic-operator"><i class="fa fa-link" aria-hidden="true"></i></a>Basic Operator</h4>
<ul>
<li>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; SQLiteDatabase &#x5BF9;&#x8C61;</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token function">createDatabase</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> version <span class="token punctuation">,</span><span class="token keyword">int</span> mode<span class="token punctuation">,</span><span class="token class-name">CursorFactory</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteDatabase</span><span class="token punctuation">(</span><span class="token string">&quot;myDatabase.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x6253;&#x5F00;&#x6570;&#x636E;&#x5E93;</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token class-name">SQLiteDatabase</span> my_DataBase <span class="token operator">=</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">openOrCreateDatabase</span><span class="token punctuation">(</span><span class="token string">&quot;myDateBase.db&quot;</span><span class="token punctuation">,</span>MODE_PRIVATE <span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
my_DataBase<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x975E;&#x67E5;&#x8BE2; SQL &#x6307;&#x4EE4;</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token comment">//&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&quot;test&quot;&#x5E76;&#x5E26;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x8868;</span>
my_DataBase<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>&quot;CREATE <span class="token class-name">TABLE</span> test <span class="token punctuation">(</span>_id INTEGER <span class="token class-name">PRIMARY</span> KEY<span class="token punctuation">,</span>
someNumber INTERGER<span class="token punctuation">)</span><span class="token punctuation">;</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x5143;&#x7EC4;</span>
my_DataBase<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO test (_id,someNumber) values(1,8);&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">SQLiteDatabase</span> db <span class="token operator">=</span> dbHelper<span class="token punctuation">.</span><span class="token function">getWritableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//INSERT</span>
<span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x5F00;&#x59CB;&#x7EC4;&#x88C5;&#x7B2C;&#x4E00;&#x6761;&#x6570;&#x636E;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;The Da Vinci Code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Dan Brown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;pages&quot;</span><span class="token punctuation">,</span> <span class="token number">454</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token number">16.96</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x63D2;&#x5165;&#x7B2C;&#x4E00;&#x6761;&#x6570;&#x636E;</span>
values<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x5F00;&#x59CB;&#x7EC4;&#x88C5;&#x7B2C;&#x4E8C;&#x6761;&#x6570;&#x636E;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;The Lost Symbol&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Dan Brown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;pages&quot;</span><span class="token punctuation">,</span> <span class="token number">510</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token number">19.95</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x63D2;&#x5165;&#x7B2C;&#x4E8C;&#x6761;&#x6570;&#x636E;</span>

<span class="token comment">//update</span>
ontentValues values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token number">10.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span> values<span class="token punctuation">,</span> <span class="token string">&quot;name = ?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;The DaVinci Code&quot;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//delete</span>
db<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pages &gt; ?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;500&quot;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//&#x5220;&#x9664;&#x8868;</span>
my_DataBase<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span><span class="token string">&quot;DROP TABLE test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x67E5;&#x8BE2; SQL &#x6307;&#x4EE4;-&#x6E38;&#x6807; Cursors<ul>
<li><code>query()</code></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">&#x65B9;&#x6CD5;&#x53C2;&#x6570;</th>
<th style="text-align:left">&#x5BF9;&#x5E94; SQL &#x90E8;&#x5206;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">table</td>
<td style="text-align:left">from tableName</td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x67E5;&#x8BE2;&#x7684;&#x8868;&#x540D;</td>
</tr>
<tr>
<td style="text-align:left">columns</td>
<td style="text-align:left">select column1, column2</td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x67E5;&#x8BE2;&#x7684;&#x5217;&#x540D;</td>
</tr>
<tr>
<td style="text-align:left">selection</td>
<td style="text-align:left">where column = value</td>
<td style="text-align:left">&#x6307;&#x5B9A; where &#x7684;&#x7EA6;&#x675F;&#x6761;&#x4EF6;</td>
</tr>
<tr>
<td style="text-align:left">selectionArgs</td>
<td style="text-align:left">-</td>
<td style="text-align:left">&#x4E3A; where &#x4E2D;&#x7684;&#x5360;&#x4F4D;&#x7B26;&#x63D0;&#x4F9B;&#x5177;&#x4F53;&#x7684;&#x503C;</td>
</tr>
<tr>
<td style="text-align:left">groupBy</td>
<td style="text-align:left">group by column</td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x9700;&#x8981; group by &#x7684;&#x5217;</td>
</tr>
<tr>
<td style="text-align:left">having</td>
<td style="text-align:left">having column = value</td>
<td style="text-align:left">&#x5BF9; group by &#x540E;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x4E00;&#x6B65;&#x7EA6;&#x675F;</td>
</tr>
<tr>
<td style="text-align:left">orderBy</td>
<td style="text-align:left">order by column1, column2</td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;</td>
</tr>
</tbody>
</table>
<pre class="language-"><code class="lang-java"><span class="token class-name">SQLiteDatabase</span> db <span class="token operator">=</span> dbHelper<span class="token punctuation">.</span><span class="token function">getWritableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x67E5;&#x8BE2;Book&#x8868;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;</span>
<span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x904D;&#x5386;Cursor&#x5BF9;&#x8C61;,&#x53D6;&#x51FA;&#x6570;&#x636E;</span>
<span class="token comment">//cursor.moveToFirst()</span>
<span class="token comment">//cursor.moveToNext()</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> author <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> pages <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;pages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> price <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;price&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token comment">//&#x4E3A;&#x4E86;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Cursor(&#x6E38;&#x6807;),&#x5FC5;&#x987B;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;,&#x8981;&#x4E48;&#x901A;&#x8FC7;SQL&#x4F7F;&#x7528;rawQuery()&#x65B9;&#x6CD5;</span>
<span class="token comment">//&#x6216;&#x662F;&#x66F4;&#x7CBE;&#x5FC3;&#x8BBE;&#x8BA1;&#x7684;&#x65B9;&#x6CD5;,&#x50CF;query()&#x65B9;&#x6CD5;</span>
<span class="token class-name">Cursor</span> cur <span class="token operator">=</span> my_DataBase<span class="token punctuation">.</span><span class="token function">rawQuery</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FORM test&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//&#x6E38;&#x6807;&#x4E0D;&#x4E3A;&#x7A7A;</span>
    <span class="token comment">//&#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;&#x540D;&#x79F0;&#x7684;&#x5217;&#x7684;&#x57FA;&#x4E8E;0&#x5F00;&#x59CB;&#x7684;index,&#x5982;&#x679C;&#x8BE5;&#x5C5E;&#x6027;&#x5217;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;-1</span>
    <span class="token comment">//&#x901A;&#x8FC7;&#x5B83;&#x4EEC;&#x7684;index&#x6765;&#x68C0;&#x7D22;&#x5C5E;&#x6027;&#x503C;</span>
    <span class="token keyword">int</span> numColumn<span class="token operator">=</span>cur<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;someNumber&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span><span class="token function">moveToFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//cur.moveToFirst()&#x8BA9;&#x6E38;&#x6807;&#x6307;&#x5411;&#x7B2C;&#x4E00;&#x884C;,&#x5982;&#x679C;&#x6E38;&#x6807;&#x6307;&#x5411;&#x7B2C;&#x4E00;&#x884C;,&#x5219;&#x8FD4;&#x56DE;true</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> num<span class="token operator">=</span>cur<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>numColumn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&#x83B7;&#x5F97;&#x5F53;&#x524D;&#x884C;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x503C;</span>
        <span class="token comment">/*Cursor&#x63D0;&#x4F9B;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x56DE;&#x7D22;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;
        &#x4F8B;&#x5982;getInt(int index)/getString(int index)&#x7B49;&#x7B49;*/</span>
        <span class="token comment">/*&#x505A;&#x4E00;&#x4E9B;&#x4E8B;&#x60C5;*/</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*&#x6E38;&#x6807;&#x79FB;&#x52A8;&#x5230;&#x4E0B;&#x4E00;&#x884C;,&#x5982;&#x679C;&#x6E38;&#x6807;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x4E86;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x7684;&#x6700;&#x540E;,
        &#x5373;&#x6CA1;&#x6709;&#x884C;&#x53EF;&#x4EE5;&#x79FB;&#x52A8;&#x65F6;,&#x5219;&#x8FD4;&#x56DE;false*/</span>
        <span class="token comment">//&#x5176;&#x4ED6;&#x53EF;&#x80FD;&#x79FB;&#x52A8;&#x7684;&#x662F; previous() &#x548C;first()&#x65B9;&#x6CD5;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="transaction"><a name="transaction" class="anchor-navigation-ex-anchor" href="#transaction"><i class="fa fa-link" aria-hidden="true"></i></a><a name="transaction" class="plugin-anchor" href="#transaction"><i class="fa fa-link" aria-hidden="true"></i></a>Transaction</h4>
<ul>
<li>SQLiteDatabase &#x7684;<code>beginTransaction()</code>&#x65B9;&#x6CD5;</li>
<li>&#x8C03;&#x7528;<code>setTransactionSuccessful()</code>&#x8868;&#x793A;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x6210;&#x529F;</li>
<li>finally &#x4EE3;&#x7801;&#x5757;&#x4E2D;&#x8C03;&#x7528;<code>endTransaction()</code>&#x6765;&#x7ED3;&#x675F;&#x4E8B;&#x52A1;</li>
</ul>
<hr>
<h2 id="content-provider"><a name="content-provider" class="anchor-navigation-ex-anchor" href="#content-provider"><i class="fa fa-link" aria-hidden="true"></i></a>9. Content Provider</h2>
<h3 id="read-other-app-content"><a name="read-other-app-content" class="anchor-navigation-ex-anchor" href="#read-other-app-content"><i class="fa fa-link" aria-hidden="true"></i></a>9.1. Read Other App Content</h3>
<pre class="language-"><code class="lang-java"><span class="token class-name">Uri</span> uri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;content://com.example.app.provider/table1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>query<span class="token operator">/</span>insert<span class="token operator">/</span>delete<span class="token operator">/</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME</li>
<li>ContactsContract.CommonDataKinds.Phone.NUMBER</li>
</ul>
<h3 id="provide-app-content"><a name="provide-app-content" class="anchor-navigation-ex-anchor" href="#provide-app-content"><i class="fa fa-link" aria-hidden="true"></i></a>9.2. Provide App Content</h3>
<p>With CotentProvider</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ContentProvider</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Cursor</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> projection<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">,</span> <span class="token class-name">String</span> sortOrder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Uri</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">ContentValues</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">ContentValues</span> values<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> uri<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token class-name">UriMatcher</span><span class="token punctuation">.</span><span class="token function">addURI</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> customNumber<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span>
</code></pre>
<ul>
<li>&#x4E3A;&#x4F20;&#x5165; URI &#x6307;&#x5B9A;&#x81EA;&#x5B9A;&#x4E49;&#x5E38;&#x91CF;&#x4F5C;&#x4E3A;&#x4EE3;&#x53F7;</li>
</ul>
<hr>
<h2 id="service"><a name="service" class="anchor-navigation-ex-anchor" href="#service"><i class="fa fa-link" aria-hidden="true"></i></a>10. Service</h2>
<h3 id="handler"><a name="handler" class="anchor-navigation-ex-anchor" href="#handler"><i class="fa fa-link" aria-hidden="true"></i></a>10.1. Handler</h3>
<pre class="language-"><code class="lang-java"><span class="token comment">//&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x91CD;&#x5199;handleMessage,&#x66F4;&#x65B0;UI</span>
<span class="token keyword">new</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">Message</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>what<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> UPDATE_TEXT<span class="token operator">:</span>
            <span class="token comment">// &#x5728;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;UI&#x64CD;&#x4F5C;</span>
            text<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;Nice to meet you&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//&#x5728;&#x540E;&#x53F0;&#x6267;&#x884C;&#x5B50;&#x7EBF;&#x7A0B;</span>
<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Message</span> message <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span>what <span class="token operator">=</span> UPDATE_TEXT<span class="token punctuation">;</span>
        handler<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5C06;Message&#x5BF9;&#x8C61;&#x53D1;&#x9001;&#x51FA;&#x53BB;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="asynctask"><a name="asynctask" class="anchor-navigation-ex-anchor" href="#asynctask"><i class="fa fa-link" aria-hidden="true"></i></a>10.2. AsyncTask</h3>
<p>AsyncTask &#x4E2D;&#x7684;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x5BF9;&#x4EFB;&#x52A1;&#x7684;&#x5B9A;&#x5236;&#x3002;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x53BB;&#x91CD;&#x5199;&#x7684;&#x65B9;&#x6CD5;
&#x6709;&#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;:</p>
<ol>
<li><code>onPreExecute()</code>
&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x4E4B;&#x524D;&#x8C03;&#x7528;,&#x7528;&#x4E8E;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x754C;&#x9762;&#x4E0A;&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;,
&#x6BD4;&#x5982;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x8FDB;&#x5EA6;&#x6761;&#x5BF9;&#x8BDD;&#x6846;&#x7B49;&#x3002;</li>
<li><code>doInBackground(Params...)</code>
&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x90FD;&#x4F1A;&#x5728;&#x5B50;&#x7EBF;&#x7A0B;&#x4E2D;&#x8FD0;&#x884C;,&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5728;&#x8FD9;&#x91CC;&#x53BB;&#x5904;&#x7406;&#x6240;&#x6709;&#x7684;&#x8017;&#x65F6;&#x4EFB;&#x52A1;&#x3002;
&#x4EFB;&#x52A1;&#x4E00;&#x65E6;&#x5B8C;&#x6210;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; return &#x8BED;&#x53E5;&#x6765;&#x5C06;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;,&#x5982;&#x679C; AsyncTask &#x7684;
&#x7B2C;&#x4E09;&#x4E2A;&#x6CDB;&#x578B;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x7684;&#x662F; Void,&#x5C31;&#x53EF;&#x4EE5;&#x4E0D;&#x8FD4;&#x56DE;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;&#x6CE8;&#x610F;,&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x662F;&#x4E0D;
&#x53EF;&#x4EE5;&#x8FDB;&#x884C; UI &#x64CD;&#x4F5C;&#x7684;,&#x5982;&#x679C;&#x9700;&#x8981;&#x66F4;&#x65B0; UI &#x5143;&#x7D20;,&#x6BD4;&#x5982;&#x8BF4;&#x53CD;&#x9988;&#x5F53;&#x524D;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#x8FDB;&#x5EA6;,
&#x53EF;&#x4EE5;&#x8C03;&#x7528; publishProgress(Progress...)&#x65B9;&#x6CD5;&#x6765;&#x5B8C;&#x6210;&#x3002;</li>
<li><code>onProgressUpdate(Progress...)</code>
&#x5F53;&#x5728;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x4E2D;&#x8C03;&#x7528;&#x4E86; publishProgress(Progress...)&#x65B9;&#x6CD5;&#x540E;,&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x5F88;&#x5FEB;&#x88AB;&#x8C03;&#x7528;,
&#x65B9;&#x6CD5;&#x4E2D;&#x643A;&#x5E26;&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x5728;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x4E2D;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x53EF;&#x4EE5;&#x5BF9; UI &#x8FDB;&#x884C;&#x64CD;&#x4F5C;,
&#x5229;&#x7528;&#x53C2;&#x6570;&#x4E2D;&#x7684;&#x6570;&#x503C;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x754C;&#x9762;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x5730;&#x66F4;&#x65B0;&#x3002;</li>
<li><code>onPostExecute(Result)</code>
&#x5F53;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x5E76;&#x901A;&#x8FC7; return &#x8BED;&#x53E5;&#x8FDB;&#x884C;&#x8FD4;&#x56DE;&#x65F6;,&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x5F88;&#x5FEB;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;
&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x5230;&#x6B64;&#x65B9;&#x6CD5;&#x4E2D;,&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x6765;&#x8FDB;&#x884C;&#x4E00;&#x4E9B; UI &#x64CD;&#x4F5C;,
&#x6BD4;&#x5982;&#x8BF4;&#x63D0;&#x9192;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x7684;&#x7ED3;&#x679C;,&#x4EE5;&#x53CA;&#x5173;&#x95ED;&#x6389;&#x8FDB;&#x5EA6;&#x6761;&#x5BF9;&#x8BDD;&#x6846;&#x7B49;&#x3002;</li>
</ol>
<pre class="language-"><code class="lang-java"><span class="token keyword">class</span> <span class="token class-name">DownloadTask</span> <span class="token keyword">extends</span> <span class="token class-name">AsyncTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPreExecute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        progressDialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x663E;&#x793A;&#x8FDB;&#x5EA6;&#x5BF9;&#x8BDD;&#x6846;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Boolean</span> <span class="token function">doInBackground</span><span class="token punctuation">(</span><span class="token class-name">Void</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> downloadPercent <span class="token operator">=</span> <span class="token function">doDownload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x865A;&#x6784;&#x7684;&#x65B9;&#x6CD5;</span>
                <span class="token function">publishProgress</span><span class="token punctuation">(</span>downloadPercent<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>downloadPercent <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onProgressUpdate</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x5728;&#x8FD9;&#x91CC;&#x66F4;&#x65B0;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;</span>
        progressDialog<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Downloaded &quot;</span> <span class="token operator">+</span> values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPostExecute</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        progressDialog<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5173;&#x95ED;&#x8FDB;&#x5EA6;&#x5BF9;&#x8BDD;&#x6846;</span>
        <span class="token comment">// &#x5728;&#x8FD9;&#x91CC;&#x63D0;&#x793A;&#x4E0B;&#x8F7D;&#x7ED3;&#x679C;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&quot;Download succeeded&quot;</span><span class="token punctuation">,</span>
            <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&quot; Download failed&quot;</span><span class="token punctuation">,</span>
            <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="basic-service"><a name="basic-service" class="anchor-navigation-ex-anchor" href="#basic-service"><i class="fa fa-link" aria-hidden="true"></i></a>10.3. Basic Service</h3>
<pre class="language-"><code class="lang-html">//in AndroidManifest.xml <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MyService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token function">stopSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token keyword">extends</span> <span class="token class-name">Service</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">IBinder</span> <span class="token function">onBind</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">onStartCommand</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">int</span> startId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStartCommand</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> flags<span class="token punctuation">,</span> startId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="ibinder"><a name="ibinder" class="anchor-navigation-ex-anchor" href="#ibinder"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ibinder" class="plugin-anchor" href="#ibinder"><i class="fa fa-link" aria-hidden="true"></i></a>IBinder</h4>
<ul>
<li>In Custom Service class</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token keyword">private</span> <span class="token class-name">DownloadBinder</span> mBinder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DownloadBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DownloadBinder</span> <span class="token keyword">extends</span> <span class="token class-name">Binder</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startDownload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MyService&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;startDownload executed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MyService&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getProgress executed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">IBinder</span> <span class="token function">onBind</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> mBinder<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>In Activity class</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token keyword">case</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bind_service<span class="token operator">:</span>
    <span class="token class-name">Intent</span> bindIntent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MyService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bindService</span><span class="token punctuation">(</span>bindIntent<span class="token punctuation">,</span> connection<span class="token punctuation">,</span> BIND_AUTO_CREATE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x7ED1;&#x5B9A;&#x670D;&#x52A1;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">case</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>unbind_service<span class="token operator">:</span>
    <span class="token function">unbindService</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x89E3;&#x7ED1;&#x670D;&#x52A1;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceDisconnected</span><span class="token punctuation">(</span><span class="token class-name">ComponentName</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceConnected</span><span class="token punctuation">(</span><span class="token class-name">ComponentName</span> name<span class="token punctuation">,</span> <span class="token class-name">IBinder</span> service<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    downloadBinder <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">MyService<span class="token punctuation">.</span>DownloadBinder</span><span class="token punctuation">)</span> service<span class="token punctuation">;</span>
    downloadBinder<span class="token punctuation">.</span><span class="token function">startDownload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    downloadBinder<span class="token punctuation">.</span><span class="token function">getProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="foreground-service"><a name="foreground-service" class="anchor-navigation-ex-anchor" href="#foreground-service"><i class="fa fa-link" aria-hidden="true"></i></a>10.4. ForeGround Service</h3>
<ul>
<li>In service onCreate</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token class-name">Notification</span> notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_launcher<span class="token punctuation">,</span>
  <span class="token string">&quot;Notification comes&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span> <span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Intent</span> notificationIntent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PendingIntent</span> pendingIntent <span class="token operator">=</span> <span class="token class-name">PendingIntent</span><span class="token punctuation">.</span><span class="token function">getActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
  notificationIntent<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
notification<span class="token punctuation">.</span><span class="token function">setLatestEventInfo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;This is title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;This is content&quot;</span><span class="token punctuation">,</span> pendingIntent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startForeground</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> notification<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="intentservicethread"><a name="intentservicethread" class="anchor-navigation-ex-anchor" href="#intentservicethread"><i class="fa fa-link" aria-hidden="true"></i></a>10.5. IntentService(Thread)</h3>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyIntentService</span> <span class="token keyword">extends</span> <span class="token class-name">IntentService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">MyIntentService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;MyIntentService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x6709;&#x53C2;&#x6784;&#x9020;&#x51FD;&#x6570;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onHandleIntent</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x6253;&#x5370;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684;id</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MyIntentService&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Thread id is &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MyIntentService&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onDestroy executed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="alarm-service"><a name="alarm-service" class="anchor-navigation-ex-anchor" href="#alarm-service"><i class="fa fa-link" aria-hidden="true"></i></a>10.6. Alarm Service</h3>
<p>&#x7ED3;&#x5408; BroadcastReceiver &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">AlarmManager</span> manager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span>ALARM_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> triggerAtTime <span class="token operator">=</span> <span class="token class-name">SystemClock</span><span class="token punctuation">.</span><span class="token function">elapsedRealtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
manager<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">.</span>ELAPSED_REALTIME_WAKEUP<span class="token punctuation">,</span> triggerAtTime<span class="token punctuation">,</span> pendingIntent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Service &#x5EF6;&#x65F6;&#x53D1;&#x51FA;&#x5E7F;&#x64AD;</li>
<li>BroadcastReceiver &#x63A5;&#x53D7;&#x5E7F;&#x64AD;&#x540E;&#x518D;&#x6B21;&#x542F;&#x52A8; Service</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">onStartCommand</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">int</span> startId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;LongRunningService&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;executed at &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">AlarmManager</span> manager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span>ALARM_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> anHour <span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// &#x8FD9;&#x662F;&#x4E00;&#x5C0F;&#x65F6;&#x7684;&#x6BEB;&#x79D2;&#x6570;</span>
    <span class="token keyword">long</span> triggerAtTime <span class="token operator">=</span> <span class="token class-name">SystemClock</span><span class="token punctuation">.</span><span class="token function">elapsedRealtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> anHour<span class="token punctuation">;</span>

    <span class="token comment">//&#x5173;&#x952E;&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x91CC;&#x53D1;&#x9001;&#x5E7F;&#x64AD;</span>
    <span class="token class-name">Intent</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">AlarmReceiver</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">PendingIntent</span> pi <span class="token operator">=</span> <span class="token class-name">PendingIntent</span><span class="token punctuation">.</span><span class="token function">getBroadcast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    manager<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">.</span>ELAPSED_REALTIME_WAKEUP<span class="token punctuation">,</span> triggerAtTime<span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStartCommand</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> flags<span class="token punctuation">,</span> startId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr>
<h2 id="media"><a name="media" class="anchor-navigation-ex-anchor" href="#media"><i class="fa fa-link" aria-hidden="true"></i></a>11. Media</h2>
<h3 id="notification"><a name="notification" class="anchor-navigation-ex-anchor" href="#notification"><i class="fa fa-link" aria-hidden="true"></i></a>11.1. Notification</h3>
<pre class="language-"><code class="lang-java"><span class="token class-name">NotificationManager</span> manager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">NotificationManager</span><span class="token punctuation">)</span><span class="token function">getSystemService</span><span class="token punctuation">(</span>NOTIFICATION_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Notification</span> notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_launcher<span class="token punctuation">,</span> &quot;<span class="token class-name">This</span> is
  ticker text&quot;<span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">NotificationActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PendingIntent</span> pi <span class="token operator">=</span> <span class="token class-name">PendingIntent</span><span class="token punctuation">.</span><span class="token function">getActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> intent<span class="token punctuation">,</span> <span class="token class-name">PendingIntent</span><span class="token punctuation">.</span>FLAG_CANCEL_CURRENT<span class="token punctuation">)</span><span class="token punctuation">;</span>

notification<span class="token punctuation">.</span><span class="token function">setLatestEventInfo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;This is content title&quot;</span><span class="token punctuation">,</span> &quot;<span class="token class-name">This</span> is
  content text&quot;<span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>

manager<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> notification<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x5728;&#x88AB;&#x542F;&#x52A8;Activity manager.cancel(1);</span>
</code></pre>
<h3 id="sms"><a name="sms" class="anchor-navigation-ex-anchor" href="#sms"><i class="fa fa-link" aria-hidden="true"></i></a>11.2. SMS</h3>
<h3 id="audio"><a name="audio" class="anchor-navigation-ex-anchor" href="#audio"><i class="fa fa-link" aria-hidden="true"></i></a>11.3. Audio</h3>
<h3 id="music"><a name="music" class="anchor-navigation-ex-anchor" href="#music"><i class="fa fa-link" aria-hidden="true"></i></a>11.4. Music</h3>
<h2 id="network"><a name="network" class="anchor-navigation-ex-anchor" href="#network"><i class="fa fa-link" aria-hidden="true"></i></a>12. NetWork</h2>
<p>Networked Apps</p>
<ol>
<li>Network latency(&#x7F51;&#x7EDC;&#x5EF6;&#x8FDF;)&#x2014;&#x2014;UI thread seperated from data loading thread</li>
<li>Battery drain(&#x7535;&#x6C60;&#x8017;&#x5C3D;)</li>
<li>Intermittent service(&#x4E2D;&#x65AD;&#x670D;&#x52A1;)</li>
</ol>
<h3 id="webview"><a name="webview" class="anchor-navigation-ex-anchor" href="#webview"><i class="fa fa-link" aria-hidden="true"></i></a>12.1. WebView</h3>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
<h4 id="three-steps"><a name="three-steps" class="anchor-navigation-ex-anchor" href="#three-steps"><i class="fa fa-link" aria-hidden="true"></i></a><a name="three-steps" class="plugin-anchor" href="#three-steps"><i class="fa fa-link" aria-hidden="true"></i></a>Three Steps</h4>
<pre class="language-"><code class="lang-java">webView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

webView<span class="token punctuation">.</span><span class="token function">setWebViewClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebViewClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">shouldOverrideUrlLoading</span><span class="token punctuation">(</span><span class="token class-name">WebView</span> view<span class="token punctuation">,</span> <span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        view<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x518D;&#x53BB;&#x52A0;&#x8F7D;&#x65B0;&#x7684;&#x7F51;&#x9875;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// &#x8868;&#x793A;&#x5F53;&#x524D;WebView&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6253;&#x5F00;&#x65B0;&#x7F51;&#x9875;&#x7684;&#x8BF7;&#x6C42;,&#x4E0D;&#x7528;&#x501F;&#x52A9;&#x7CFB;&#x7EDF;&#x6D4F;&#x89C8;&#x5668;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.github.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="httpurlconnection"><a name="httpurlconnection" class="anchor-navigation-ex-anchor" href="#httpurlconnection"><i class="fa fa-link" aria-hidden="true"></i></a>12.2. HttpURLConnection</h3>
<h3 id="httpclient"><a name="httpclient" class="anchor-navigation-ex-anchor" href="#httpclient"><i class="fa fa-link" aria-hidden="true"></i></a>12.3. HttpClient</h3>
<h3 id="xml"><a name="xml" class="anchor-navigation-ex-anchor" href="#xml"><i class="fa fa-link" aria-hidden="true"></i></a>12.4. XML</h3>
<h4 id="pull"><a name="pull" class="anchor-navigation-ex-anchor" href="#pull"><i class="fa fa-link" aria-hidden="true"></i></a><a name="pull" class="plugin-anchor" href="#pull"><i class="fa fa-link" aria-hidden="true"></i></a>Pull</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">HttpClient</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &#x6307;&#x5B9A;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#x662F;&#x7535;&#x8111;&#x672C;&#x673A;</span>
<span class="token class-name">HttpGet</span> httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span><span class="token string">&quot;http://10.0.2.2/get_data.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x90FD;&#x6210;&#x529F;&#x4E86;</span>
    <span class="token class-name">HttpEntity</span> entity <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//XML Pull &#x65B9;&#x5F0F;&#x89E3;&#x6790;</span>
    <span class="token class-name">XmlPullParserFactory</span> factory <span class="token operator">=</span> <span class="token class-name">XmlPullParserFactory</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">XmlPullParser</span> xmlPullParser <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">newPullParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xmlPullParser<span class="token punctuation">.</span><span class="token function">setInput</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>xmlData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> eventType <span class="token operator">=</span> xmlPullParser<span class="token punctuation">.</span><span class="token function">getEventType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> id <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> version <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>eventType <span class="token operator">!=</span> <span class="token class-name">XmlPullParser</span><span class="token punctuation">.</span>END_DOCUMENT<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> nodeName <span class="token operator">=</span> xmlPullParser<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">switch</span> <span class="token punctuation">(</span>eventType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x5F00;&#x59CB;&#x89E3;&#x6790;&#x67D0;&#x4E2A;&#x7ED3;&#x70B9;</span>
        <span class="token keyword">case</span> <span class="token class-name">XmlPullParser</span><span class="token punctuation">.</span>START_TAG<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                id <span class="token operator">=</span> xmlPullParser<span class="token punctuation">.</span><span class="token function">nextText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                name <span class="token operator">=</span> xmlPullParser<span class="token punctuation">.</span><span class="token function">nextText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;version&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               version <span class="token operator">=</span> xmlPullParser<span class="token punctuation">.</span><span class="token function">nextText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// &#x5B8C;&#x6210;&#x89E3;&#x6790;&#x67D0;&#x4E2A;&#x7ED3;&#x70B9;</span>
        <span class="token keyword">case</span> <span class="token class-name">XmlPullParser</span><span class="token punctuation">.</span>END_TAG<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MainActivity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;id is &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MainActivity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name is &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MainActivity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;version is &quot;</span> <span class="token operator">+</span> version<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        eventType <span class="token operator">=</span> xmlPullParser<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">// end of while</span>
<span class="token punctuation">}</span>  <span class="token comment">//  end of if</span>
</code></pre>
<h4 id="sax"><a name="sax" class="anchor-navigation-ex-anchor" href="#sax"><i class="fa fa-link" aria-hidden="true"></i></a><a name="sax" class="plugin-anchor" href="#sax"><i class="fa fa-link" aria-hidden="true"></i></a>SAX</h4>
<h5 id="defaulthandler"><a name="defaulthandler" class="anchor-navigation-ex-anchor" href="#defaulthandler"><i class="fa fa-link" aria-hidden="true"></i></a><a name="defaulthandler" class="plugin-anchor" href="#defaulthandler"><i class="fa fa-link" aria-hidden="true"></i></a>DefaultHandler</h5>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContentHandler</span> <span class="token keyword">extends</span> <span class="token class-name">DefaultHandler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nodeName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">StringBuilder</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">StringBuilder</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">StringBuilder</span> version<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        id <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        version <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startElement</span><span class="token punctuation">(</span><span class="token class-name">String</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span> localName<span class="token punctuation">,</span> <span class="token class-name">String</span> qName<span class="token punctuation">,</span>
      <span class="token class-name">Attributes</span> attributes<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x7ED3;&#x70B9;&#x540D;</span>
        nodeName <span class="token operator">=</span> localName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">characters</span><span class="token punctuation">(</span>
      <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ch<span class="token punctuation">,</span>
      <span class="token keyword">int</span> start<span class="token punctuation">,</span>
      <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x6839;&#x636E;&#x5F53;&#x524D;&#x7684;&#x7ED3;&#x70B9;&#x540D;&#x5224;&#x65AD;&#x5C06;&#x5185;&#x5BB9;&#x6DFB;&#x52A0;&#x5230;&#x54EA;&#x4E00;&#x4E2A;StringBuilder&#x5BF9;&#x8C61;&#x4E2D;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            id<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> start<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> start<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;version&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            version<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> start<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">endElement</span><span class="token punctuation">(</span>
      <span class="token class-name">String</span> uri<span class="token punctuation">,</span>
      <span class="token class-name">String</span> localName<span class="token punctuation">,</span>
      <span class="token class-name">String</span> qName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>localName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;ContentHandler&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;id is &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;ContentHandler&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name is &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;ContentHandler&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;version is &quot;</span> <span class="token operator">+</span> version<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// &#x6700;&#x540E;&#x8981;&#x5C06;StringBuilder&#x6E05;&#x7A7A;&#x6389;</span>
            id<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            name<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            version<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">endDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token class-name">HttpClient</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6307;&#x5B9A;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#x662F;&#x7535;&#x8111;&#x672C;&#x673A;</span>
<span class="token class-name">HttpGet</span> httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span><span class="token string">&quot;http://10.0.2.2:8080/get_data.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x90FD;&#x6210;&#x529F;&#x4E86;</span>
    <span class="token class-name">HttpEntity</span> entity <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">SAXParserFactory</span> factory <span class="token operator">=</span> <span class="token class-name">SAXParserFactory</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">XMLReader</span> xmlReader <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">newSAXParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getXMLReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ContentHandler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// &#x5C06;ContentHandler&#x7684;&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x5230;XMLReader&#x4E2D;</span>
    xmlReader<span class="token punctuation">.</span><span class="token function">setContentHandler</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x5F00;&#x59CB;&#x6267;&#x884C;&#x89E3;&#x6790;</span>
    xmlReader<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputSource</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>xmlData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="json"><a name="json" class="anchor-navigation-ex-anchor" href="#json"><i class="fa fa-link" aria-hidden="true"></i></a>12.5. JSON</h3>
<h4 id="jsonobject"><a name="jsonobject" class="anchor-navigation-ex-anchor" href="#jsonobject"><i class="fa fa-link" aria-hidden="true"></i></a><a name="jsonobject" class="plugin-anchor" href="#jsonobject"><i class="fa fa-link" aria-hidden="true"></i></a>JSONObject</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">HttpClient</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6307;&#x5B9A;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#x662F;&#x7535;&#x8111;&#x672C;&#x673A;</span>
<span class="token class-name">HttpGet</span> httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span><span class="token string">&quot;http://10.0.2.2/get_data.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x90FD;&#x6210;&#x529F;&#x4E86;</span>
    <span class="token class-name">HttpEntity</span> entity <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">JSONArray</span> jsonArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONArray</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> jsonArray<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JSONObject</span> jsonObject <span class="token operator">=</span> jsonArray<span class="token punctuation">.</span><span class="token function">getJSONObject</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> version <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;version&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="gson"><a name="gson" class="anchor-navigation-ex-anchor" href="#gson"><i class="fa fa-link" aria-hidden="true"></i></a><a name="gson" class="plugin-anchor" href="#gson"><i class="fa fa-link" aria-hidden="true"></i></a>GSON</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">HttpClient</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x6307;&#x5B9A;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#x662F;&#x7535;&#x8111;&#x672C;&#x673A;</span>
<span class="token class-name">HttpGet</span> httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span><span class="token string">&quot;http://10.0.2.2/get_data.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x90FD;&#x6210;&#x529F;&#x4E86;</span>
    <span class="token class-name">HttpEntity</span> entity <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">App</span><span class="token punctuation">&gt;</span></span> appList <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">App</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">App</span> app <span class="token operator">:</span> appList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MainActivity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;id is &quot;</span> <span class="token operator">+</span> app<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MainActivity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name is &quot;</span> <span class="token operator">+</span> app<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;MainActivity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;version is &quot;</span> <span class="token operator">+</span> app<span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="network-best-practice"><a name="network-best-practice" class="anchor-navigation-ex-anchor" href="#network-best-practice"><i class="fa fa-link" aria-hidden="true"></i></a>12.6. Network Best Practice</h3>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">HttpCallbackListener</span> <span class="token punctuation">{</span>
<span class="token keyword">void</span> <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token class-name">String</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sendHttpRequest</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> address<span class="token punctuation">,</span> <span class="token keyword">final</span>
      <span class="token class-name">HttpCallbackListener</span> listener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">HttpURLConnection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>

            <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">URL</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpURLConnection</span><span class="token punctuation">)</span> url<span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">setRequestMethod</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">setConnectTimeout</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">setReadTimeout</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">setDoInput</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">setDoOutput</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">InputStream</span> in <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">StringBuilder</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> line<span class="token punctuation">;</span>

            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>listener <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// &#x56DE;&#x8C03;onFinish()&#x65B9;&#x6CD5;</span>
                <span class="token comment">// &#x5C06;respone&#x4F20;&#x5165;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;</span>
                listener<span class="token punctuation">.</span><span class="token function">onFinish</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>listener <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// &#x56DE;&#x8C03;onError()&#x65B9;&#x6CD5;</span>
                listener<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    connection<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>  <span class="token comment">//  end of run</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  end of runnable</span>
    <span class="token punctuation">}</span>  <span class="token comment">//   end of sendHttpRequest</span>
<span class="token punctuation">}</span>  <span class="token comment">//  end of class</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token comment">//&#x4EE5;&#x540E;&#x6BCF;&#x5F53;&#x9700;&#x8981;&#x53D1;&#x8D77;&#x4E00;&#x6761; HTTP &#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;:</span>
<span class="token class-name">String</span> address <span class="token operator">=</span> <span class="token string">&quot;http://www.github.com&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">HttpUtil</span><span class="token punctuation">.</span><span class="token function">sendHttpRequest</span><span class="token punctuation">(</span>address<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">HttpCallbackListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token class-name">String</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x5728;&#x8FD9;&#x91CC;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x5185;&#x5BB9;&#x6267;&#x884C;&#x5177;&#x4F53;&#x7684;&#x903B;&#x8F91;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x5728;&#x8FD9;&#x91CC;&#x5BF9;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x5904;&#x7406;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<h2 id="map"><a name="map" class="anchor-navigation-ex-anchor" href="#map"><i class="fa fa-link" aria-hidden="true"></i></a>13. Map</h2>
<h3 id="location"><a name="location" class="anchor-navigation-ex-anchor" href="#location"><i class="fa fa-link" aria-hidden="true"></i></a>13.1. Location</h3>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SHOW_LOCATION <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token class-name">TextView</span> positionTextView<span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token class-name">LocationManager</span> locationManager<span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> provider<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
    positionTextView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>position_text_view<span class="token punctuation">)</span><span class="token punctuation">;</span>
    locationManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">LocationManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span>LOCATION_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x83B7;&#x53D6;&#x6240;&#x6709;&#x53EF;&#x7528;&#x7684;&#x4F4D;&#x7F6E;&#x63D0;&#x4F9B;&#x5668;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> providerList <span class="token operator">=</span> locationManager<span class="token punctuation">.</span><span class="token function">getProviders</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>providerList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">LocationManager</span><span class="token punctuation">.</span>GPS_PROVIDER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      provider <span class="token operator">=</span> <span class="token class-name">LocationManager</span><span class="token punctuation">.</span>GPS_PROVIDER<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>providerList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">LocationManager</span><span class="token punctuation">.</span>NETWORK_PROVIDER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      provider <span class="token operator">=</span> <span class="token class-name">LocationManager</span><span class="token punctuation">.</span>NETWORK_PROVIDER<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x5F53;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684;&#x4F4D;&#x7F6E;&#x63D0;&#x4F9B;&#x5668;&#x65F6;&#xFF0C;&#x5F39;&#x51FA;Toast&#x63D0;&#x793A;&#x7528;&#x6237;</span>
      <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;No location provider to use&quot;</span><span class="token punctuation">,</span>
          <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Location</span> location <span class="token operator">=</span> locationManager<span class="token punctuation">.</span><span class="token function">getLastKnownLocation</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>location <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x663E;&#x793A;&#x5F53;&#x524D;&#x8BBE;&#x5907;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;</span>
      <span class="token function">showLocation</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    locationManager<span class="token punctuation">.</span><span class="token function">requestLocationUpdates</span><span class="token punctuation">(</span>provider<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
        locationListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>locationManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x5173;&#x95ED;&#x7A0B;&#x5E8F;&#x65F6;&#x5C06;&#x76D1;&#x542C;&#x5668;&#x79FB;&#x9664;</span>
      locationManager<span class="token punctuation">.</span><span class="token function">removeUpdates</span><span class="token punctuation">(</span>locationListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">LocationListener</span> locationListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocationListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStatusChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> provider<span class="token punctuation">,</span> <span class="token keyword">int</span> status<span class="token punctuation">,</span> <span class="token class-name">Bundle</span> extras<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onProviderEnabled</span><span class="token punctuation">(</span><span class="token class-name">String</span> provider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onProviderDisabled</span><span class="token punctuation">(</span><span class="token class-name">String</span> provider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLocationChanged</span><span class="token punctuation">(</span><span class="token class-name">Location</span> location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x66F4;&#x65B0;&#x5F53;&#x524D;&#x8BBE;&#x5907;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;</span>
      <span class="token function">showLocation</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">showLocation</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Location</span> location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token comment">// &#x7EC4;&#x88C5;&#x53CD;&#x5411;&#x5730;&#x7406;&#x7F16;&#x7801;&#x7684;&#x63A5;&#x53E3;&#x5730;&#x5740;</span>
          <span class="token class-name">StringBuilder</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          url<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;http://maps.googleapis.com/maps/api/geocode/json?latlng=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          url<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span><span class="token function">getLatitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span><span class="token function">getLongitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          url<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;sensor=false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">HttpClient</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">HttpGet</span> httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// &#x5728;&#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x5934;&#x4E2D;&#x6307;&#x5B9A;&#x8BED;&#x8A00;&#xFF0C;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x8FD4;&#x56DE;&#x4E2D;&#x6587;&#x6570;&#x636E;</span>
          httpGet<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Accept-Language&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zh-CN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">HttpEntity</span> entity <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">EntityUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">JSONObject</span> jsonObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// &#x83B7;&#x53D6;results&#x8282;&#x70B9;&#x4E0B;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;</span>
            <span class="token class-name">JSONArray</span> resultArray <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">getJSONArray</span><span class="token punctuation">(</span><span class="token string">&quot;results&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>resultArray<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token class-name">JSONObject</span> subObject <span class="token operator">=</span> resultArray<span class="token punctuation">.</span><span class="token function">getJSONObject</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// &#x53D6;&#x51FA;&#x683C;&#x5F0F;&#x5316;&#x540E;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;</span>
              <span class="token class-name">String</span> address <span class="token operator">=</span> subObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;formatted_address&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">Message</span> message <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              message<span class="token punctuation">.</span>what <span class="token operator">=</span> SHOW_LOCATION<span class="token punctuation">;</span>
              message<span class="token punctuation">.</span>obj <span class="token operator">=</span> address<span class="token punctuation">;</span>
              handler<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token class-name">Handler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">Message</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>what<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> SHOW_LOCATION<span class="token operator">:</span>
        <span class="token class-name">String</span> currentPosition <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> msg<span class="token punctuation">.</span>obj<span class="token punctuation">;</span>
        positionTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>currentPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<hr>
<h2 id="sensor"><a name="sensor" class="anchor-navigation-ex-anchor" href="#sensor"><i class="fa fa-link" aria-hidden="true"></i></a>14. Sensor</h2>
<pre class="language-"><code class="lang-java"><span class="token class-name">SensorManager</span> senserManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SensorManager</span><span class="token punctuation">)</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span>SENSOR_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token class-name">SensorEventListener</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SensorEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAccuracyChanged</span><span class="token punctuation">(</span><span class="token class-name">Sensor</span> sensor<span class="token punctuation">,</span> <span class="token keyword">int</span> accuracy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSensorChanged</span><span class="token punctuation">(</span><span class="token class-name">SensorEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-java">senserManager<span class="token punctuation">.</span><span class="token function">registerListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">,</span> senser<span class="token punctuation">,</span> <span class="token class-name">SensorManager</span><span class="token punctuation">.</span>SENSOR_DELAY_NORMAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
sensorManager<span class="token punctuation">.</span><span class="token function">unregisterListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="light-sensor"><a name="light-sensor" class="anchor-navigation-ex-anchor" href="#light-sensor"><i class="fa fa-link" aria-hidden="true"></i></a>14.1. Light Sensor</h3>
<pre class="language-"><code class="lang-java"><span class="token class-name">Sensor</span> sensor <span class="token operator">=</span> senserManager<span class="token punctuation">.</span><span class="token function">getDefaultSensor</span><span class="token punctuation">(</span><span class="token class-name">Sensor</span><span class="token punctuation">.</span>TYPE_LIGHT<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="accelerometer-sensor"><a name="accelerometer-sensor" class="anchor-navigation-ex-anchor" href="#accelerometer-sensor"><i class="fa fa-link" aria-hidden="true"></i></a>14.2. Accelerometer Sensor</h3>
<pre class="language-"><code class="lang-java"><span class="token class-name">Sensor</span> sensor <span class="token operator">=</span> sensorManager<span class="token punctuation">.</span><span class="token function">getDefaultSensor</span><span class="token punctuation">(</span><span class="token class-name">Sensor</span><span class="token punctuation">.</span>TYPE_ACCELEROMETER<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="orientation-sensor"><a name="orientation-sensor" class="anchor-navigation-ex-anchor" href="#orientation-sensor"><i class="fa fa-link" aria-hidden="true"></i></a>14.3. Orientation Sensor</h3>
<p>Sensor sensor = sensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION);</p>
<hr>
<h2 id="best-practice"><a name="best-practice" class="anchor-navigation-ex-anchor" href="#best-practice"><i class="fa fa-link" aria-hidden="true"></i></a>15. Best Practice</h2>
<h3 id="global-context"><a name="global-context" class="anchor-navigation-ex-anchor" href="#global-context"><i class="fa fa-link" aria-hidden="true"></i></a>15.1. Global Context</h3>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.networktest.MyApplication<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ......
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Context</span> context<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        context <span class="token operator">=</span> <span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Context</span> <span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> context<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x7528;-intent-&#x4F20;&#x9012;&#x5BF9;&#x8C61;"><a name="&#x7528;-intent-&#x4F20;&#x9012;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x7528;-intent-&#x4F20;&#x9012;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>15.2. &#x7528; Intent &#x4F20;&#x9012;&#x5BF9;&#x8C61;</h3>
<h4 id="serializable"><a name="serializable" class="anchor-navigation-ex-anchor" href="#serializable"><i class="fa fa-link" aria-hidden="true"></i></a><a name="serializable" class="plugin-anchor" href="#serializable"><i class="fa fa-link" aria-hidden="true"></i></a>Serializable</h4>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span>
</code></pre>
<h4 id="parcelable"><a name="parcelable" class="anchor-navigation-ex-anchor" href="#parcelable"><i class="fa fa-link" aria-hidden="true"></i></a><a name="parcelable" class="plugin-anchor" href="#parcelable"><i class="fa fa-link" aria-hidden="true"></i></a>Parcelable</h4>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">describeContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writeToParcel</span><span class="token punctuation">(</span><span class="token class-name">Parcel</span> dest<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dest<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5199;&#x51FA;name</span>
        dest<span class="token punctuation">.</span><span class="token function">writeInt</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x5199;&#x51FA;age</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Parcelable<span class="token punctuation">.</span>Creator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> CREATOR <span class="token operator">=</span> <span class="token keyword">new</span>
      <span class="token class-name">Parcelable<span class="token punctuation">.</span>Creator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token function">createFromParcel</span><span class="token punctuation">(</span><span class="token class-name">Parcel</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            person<span class="token punctuation">.</span>name <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8BFB;&#x53D6;name</span>
            person<span class="token punctuation">.</span>age <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8BFB;&#x53D6;age</span>
            <span class="token keyword">return</span> person<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">newArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="custom-logger"><a name="custom-logger" class="anchor-navigation-ex-anchor" href="#custom-logger"><i class="fa fa-link" aria-hidden="true"></i></a>15.3. Custom Logger</h3>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> VERBOSE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> DEBUG <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> INFO <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> WARN <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ERROR <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> NOTHING <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token comment">//custom key</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LEVEL <span class="token operator">=</span> VERBOSE<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token class-name">String</span> tag<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LEVEL <span class="token operator">&lt;=</span> VERBOSE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token class-name">String</span> tag<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LEVEL <span class="token operator">&lt;=</span> DEBUG<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token class-name">String</span> tag<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LEVEL <span class="token operator">&lt;=</span> INFO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">w</span><span class="token punctuation">(</span><span class="token class-name">String</span> tag<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LEVEL <span class="token operator">&lt;=</span> WARN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token class-name">String</span> tag<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LEVEL <span class="token operator">&lt;=</span> ERROR<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<footer class="page-footer"><span class="copyright">&#xA9; <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/sabertazimi/awesome-notes" property="cc:attributionName" rel="cc:attributionURL" target="_blank">sabertazimi</a> &#xB7; &#x9075;&#x5FAA; <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">&#x77E5;&#x8BC6;&#x5171;&#x4EAB; &#x7F72;&#x540D;-&#x975E;&#x5546;&#x4E1A;&#x6027;&#x4F7F;&#x7528; 4.0 &#x56FD;&#x9645; &#x8BB8;&#x53EF;&#x534F;&#x8BAE;</a> all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6700;&#x8FD1;&#x66F4;&#x65B0;&#xFF1A;
2021-07-15 21:57
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Android Basic Notes","level":"1.4.1.1","depth":3,"next":{"title":"Code Guide","level":"1.4.2","depth":2,"ref":"","articles":[{"title":"Bug Guide Basic Notes","level":"1.4.2.1","depth":3,"path":"programming/codeGuide/bugGuideBasicNotes.md","ref":"programming/codeGuide/bugGuideBasicNotes.md","articles":[]},{"title":"Clean Code Basic Notes","level":"1.4.2.2","depth":3,"path":"programming/codeGuide/cleanCodeBasicNotes.md","ref":"programming/codeGuide/cleanCodeBasicNotes.md","articles":[]},{"title":"Code Review Basic Notes","level":"1.4.2.3","depth":3,"path":"programming/codeGuide/codeReviewBasicNotes.md","ref":"programming/codeGuide/codeReviewBasicNotes.md","articles":[]},{"title":"Design Patterns Notes","level":"1.4.2.4","depth":3,"path":"programming/codeGuide/designPatternsNotes.md","ref":"programming/codeGuide/designPatternsNotes.md","articles":[]}]},"previous":{"title":"Android","level":"1.4.1","depth":2,"ref":"","articles":[{"title":"Android Basic Notes","level":"1.4.1.1","depth":3,"path":"programming/android/androidBasicNotes.md","ref":"programming/android/androidBasicNotes.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-plus","splitter","anchors","anchor-navigation-ex","copy-code-button","expandable-chapters","theme-darkblue","theme-comscore","tbfed-pagefooter","prism","-highlight","github-buttons","edit-link","disqus","introsum"],"ignores":[".*","build","_book","gitbook","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"&copy <a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"https://github.com/sabertazimi/awesome-notes\" property=\"cc:attributionName\" rel=\"cc:attributionURL\">sabertazimi</a> Â· éµå¾ª <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">ç¥è¯å±äº« ç½²å-éåä¸æ§ä½¿ç¨ 4.0 å½é è®¸å¯åè®®</a>","modify_label":"æè¿æ´æ°ï¼","modify_format":"YYYY-MM-DD HH:mm"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"disqus":{"useIdentifier":false,"shortName":"gitbook-8"},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-darkblue":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"theme-comscore":{},"github-buttons":{"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]},"copy-code-button":{},"sharing":{"facebook":false,"twitter":true,"google":false,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/sabertazimi/awesome-notes/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"introsum":{},"expandable-chapters":{},"search-plus":{}},"theme":"default","author":"sabertazimi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Awesome Notes","links":{"sidebar":{"Awesome Notes":"https://github.com/sabertazimi/awesome-notes"}},"gitbook":"*"},"file":{"path":"programming/android/androidBasicNotes.md","mtime":"2021-07-15T21:57:06.360Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-15T21:58:50.568Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

