
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Compilers Basic Notes Â· Awesome Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="sabertazimi">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/sabertazimi/awesome-notes" target="_blank" class="custom-link">Awesome Notes</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Computer Science
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    Algorithms
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../algorithms/algorithmsBasicNotes.html">
            
                <a href="../algorithms/algorithmsBasicNotes.html">
            
                    
                    Algorithms Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../algorithms/ojBasicNotes.html">
            
                <a href="../algorithms/ojBasicNotes.html">
            
                    
                    Oj Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Architecture
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../architecture/archBasicNotes.html">
            
                <a href="../architecture/archBasicNotes.html">
            
                    
                    Arch Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../architecture/graphProcessingNotes.html">
            
                <a href="../architecture/graphProcessingNotes.html">
            
                    
                    Graph Processing Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    Compilers
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.2.3.1" data-path="compilersBasicNotes.html">
            
                <a href="compilersBasicNotes.html">
            
                    
                    Compilers Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    Data Base
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../dataBase/databaseBasicNotes.html">
            
                <a href="../dataBase/databaseBasicNotes.html">
            
                    
                    Database Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" >
            
                <span>
            
                    
                    Network
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../network/networkBasicNotes.html">
            
                <a href="../network/networkBasicNotes.html">
            
                    
                    Network Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" >
            
                <span>
            
                    
                    Operating Systems
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../operatingSystems/CSAPP.html">
            
                <a href="../operatingSystems/CSAPP.html">
            
                    
                    CSAPP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../operatingSystems/memoryManagementBasicNotes.html">
            
                <a href="../operatingSystems/memoryManagementBasicNotes.html">
            
                    
                    Memory Management Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../operatingSystems/operatingSystemsBasicNotes.html">
            
                <a href="../operatingSystems/operatingSystemsBasicNotes.html">
            
                    
                    Operating Systems Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" >
            
                <span>
            
                    
                    Software Testing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../softwareTesting/softwareTestingBasicNotes.html">
            
                <a href="../softwareTesting/softwareTestingBasicNotes.html">
            
                    
                    Software Testing Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" >
            
                <span>
            
                    
                    Virtualization
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../virtualization/virtBasicNotes.html">
            
                <a href="../virtualization/virtBasicNotes.html">
            
                    
                    Virt Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../latexBasicNotes.html">
            
                <a href="../latexBasicNotes.html">
            
                    
                    Latex Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Language
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Assembly
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../language/assembly/AssemblyBasic.html">
            
                <a href="../../language/assembly/AssemblyBasic.html">
            
                    
                    Assembly Basic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    C
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="../../language/c/tools/awesomeTools.html">
            
                <a href="../../language/c/tools/awesomeTools.html">
            
                    
                    Awesome Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.2" data-path="../../language/c/tools/gdbTutorial.html">
            
                <a href="../../language/c/tools/gdbTutorial.html">
            
                    
                    Gdb Tutorial
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../language/c/cBasicNotes.html">
            
                <a href="../../language/c/cBasicNotes.html">
            
                    
                    C Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../language/c/namingConventions.html">
            
                <a href="../../language/c/namingConventions.html">
            
                    
                    Naming Conventions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../language/c/standardLibrary.html">
            
                <a href="../../language/c/standardLibrary.html">
            
                    
                    Standard Library
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Cpp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../language/cpp/cppBasicNotes.html">
            
                <a href="../../language/cpp/cppBasicNotes.html">
            
                    
                    Cpp Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Go
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../language/go/goBasicNotes.html">
            
                <a href="../../language/go/goBasicNotes.html">
            
                    
                    Go Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" >
            
                <span>
            
                    
                    Haskell
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../../language/haskell/haskellBasicNotes.html">
            
                <a href="../../language/haskell/haskellBasicNotes.html">
            
                    
                    Haskell Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../../language/java/javaBasicNotes.html">
            
                <a href="../../language/java/javaBasicNotes.html">
            
                    
                    Java Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../../language/java/javaNamingConventions.html">
            
                <a href="../../language/java/javaNamingConventions.html">
            
                    
                    Java Naming Conventions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../language/python/pythonBasicNotes.html">
            
                <a href="../../language/python/pythonBasicNotes.html">
            
                    
                    Python Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" >
            
                <span>
            
                    
                    Verilog
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.8.1" data-path="../../language/verilog/verilogBasicNotes.html">
            
                <a href="../../language/verilog/verilogBasicNotes.html">
            
                    
                    Verilog Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../programming/android/androidBasicNotes.html">
            
                <a href="../../programming/android/androidBasicNotes.html">
            
                    
                    Android Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Code Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../programming/codeGuide/bugGuideBasicNotes.html">
            
                <a href="../../programming/codeGuide/bugGuideBasicNotes.html">
            
                    
                    Bug Guide Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../programming/codeGuide/cleanCodeBasicNotes.html">
            
                <a href="../../programming/codeGuide/cleanCodeBasicNotes.html">
            
                    
                    Clean Code Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../programming/codeGuide/codeReviewBasicNotes.html">
            
                <a href="../../programming/codeGuide/codeReviewBasicNotes.html">
            
                    
                    Code Review Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../programming/codeGuide/designPatternsNotes.html">
            
                <a href="../../programming/codeGuide/designPatternsNotes.html">
            
                    
                    Design Patterns Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    Functional Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../../programming/functionalProgramming/functionalProgrammingBasicNotes.html">
            
                <a href="../../programming/functionalProgramming/functionalProgrammingBasicNotes.html">
            
                    
                    Functional Programming Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    Game
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../../programming/game/gameDesignBasicNotes.html">
            
                <a href="../../programming/game/gameDesignBasicNotes.html">
            
                    
                    Game Design Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="../../programming/linux/linuxBasicNotes.html">
            
                <a href="../../programming/linux/linuxBasicNotes.html">
            
                    
                    Linux Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" >
            
                <span>
            
                    
                    Server
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../../programming/server/messageQueueBasicNotes.html">
            
                <a href="../../programming/server/messageQueueBasicNotes.html">
            
                    
                    Message Queue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" >
            
                <span>
            
                    
                    Build Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1.1" data-path="../../programming/tools/buildTools/CmakeBasicNotes.html">
            
                <a href="../../programming/tools/buildTools/CmakeBasicNotes.html">
            
                    
                    Cmake Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.1.2" data-path="../../programming/tools/buildTools/makefileBasicNotes.html">
            
                <a href="../../programming/tools/buildTools/makefileBasicNotes.html">
            
                    
                    Makefile Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.2.1" data-path="../../programming/tools/git/gitBasicNotes.html">
            
                <a href="../../programming/tools/git/gitBasicNotes.html">
            
                    
                    Git Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" >
            
                <span>
            
                    
                    Vim
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.3.1" data-path="../../programming/tools/vim/vimBasicNotes.html">
            
                <a href="../../programming/tools/vim/vimBasicNotes.html">
            
                    
                    Vim Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    Web
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1.1" data-path="../../programming/web/angular/angularBasicNotes.html">
            
                <a href="../../programming/web/angular/angularBasicNotes.html">
            
                    
                    Angular Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" >
            
                <span>
            
                    
                    Css
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.2.1" data-path="../../programming/web/css/bootstrapBasicNotes.html">
            
                <a href="../../programming/web/css/bootstrapBasicNotes.html">
            
                    
                    Bootstrap Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.2" data-path="../../programming/web/css/cssAdvancedNotes.html">
            
                <a href="../../programming/web/css/cssAdvancedNotes.html">
            
                    
                    Css Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.3" data-path="../../programming/web/css/cssBasicNotes.html">
            
                <a href="../../programming/web/css/cssBasicNotes.html">
            
                    
                    Css Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.4" data-path="../../programming/web/css/sassBasicNotes.html">
            
                <a href="../../programming/web/css/sassBasicNotes.html">
            
                    
                    Sass Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.5" data-path="../../programming/web/css/sassOfficalReference.html">
            
                <a href="../../programming/web/css/sassOfficalReference.html">
            
                    
                    Sass Offical Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" >
            
                <span>
            
                    
                    Frameworks
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.3.1" data-path="../../programming/web/frameworks/electronBasicNotes.html">
            
                <a href="../../programming/web/frameworks/electronBasicNotes.html">
            
                    
                    Electron Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3.2" data-path="../../programming/web/frameworks/jQueryBasicNotes.html">
            
                <a href="../../programming/web/frameworks/jQueryBasicNotes.html">
            
                    
                    J Query Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.4" >
            
                <span>
            
                    
                    Html
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.4.1" data-path="../../programming/web/html/htmlBasicNotes.html">
            
                <a href="../../programming/web/html/htmlBasicNotes.html">
            
                    
                    Html Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.5.1" data-path="../../programming/web/javascript/javascriptAdvancedNotes.html">
            
                <a href="../../programming/web/javascript/javascriptAdvancedNotes.html">
            
                    
                    Javascript Advanced Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.2" data-path="../../programming/web/javascript/javascriptBasicNotes.html">
            
                <a href="../../programming/web/javascript/javascriptBasicNotes.html">
            
                    
                    Javascript Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5.3" data-path="../../programming/web/javascript/typescriptBasicNotes.html">
            
                <a href="../../programming/web/javascript/typescriptBasicNotes.html">
            
                    
                    Typescript Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.6" >
            
                <span>
            
                    
                    Nodejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.6.1" data-path="../../programming/web/nodejs/expressBasicNotes.html">
            
                <a href="../../programming/web/nodejs/expressBasicNotes.html">
            
                    
                    Express Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.2" data-path="../../programming/web/nodejs/graphqlBasicNotes.html">
            
                <a href="../../programming/web/nodejs/graphqlBasicNotes.html">
            
                    
                    Graphql Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6.3" data-path="../../programming/web/nodejs/nodejsBasicNotes.html">
            
                <a href="../../programming/web/nodejs/nodejsBasicNotes.html">
            
                    
                    Nodejs Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.7" >
            
                <span>
            
                    
                    Reactjs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.7.1" data-path="../../programming/web/reactjs/reactjsBasicNotes.html">
            
                <a href="../../programming/web/reactjs/reactjsBasicNotes.html">
            
                    
                    Reactjs Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.2" data-path="../../programming/web/reactjs/reactRouterBasicNotes.html">
            
                <a href="../../programming/web/reactjs/reactRouterBasicNotes.html">
            
                    
                    React Router Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.3" data-path="../../programming/web/reactjs/reduxBasicNotes.html">
            
                <a href="../../programming/web/reactjs/reduxBasicNotes.html">
            
                    
                    Redux Basic Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7.4" data-path="../../programming/web/reactjs/webpackBasicNotes.html">
            
                <a href="../../programming/web/reactjs/webpackBasicNotes.html">
            
                    
                    Webpack Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.8" >
            
                <span>
            
                    
                    Security
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.8.1" data-path="../../programming/web/security/securityBasicNotes.html">
            
                <a href="../../programming/web/security/securityBasicNotes.html">
            
                    
                    Security Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.9" >
            
                <span>
            
                    
                    Vuejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.9.1" data-path="../../programming/web/vuejs/vueBasicNotes.html">
            
                <a href="../../programming/web/vuejs/vueBasicNotes.html">
            
                    
                    Vue Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8.10" data-path="../../programming/web/libraryBasicNotes.html">
            
                <a href="../../programming/web/libraryBasicNotes.html">
            
                    
                    Library Basic Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Compilers Basic Notes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#compiler-basic-notes"><b> </b>Compiler Basic Notes</a></li><ul><li><span class="title-icon "></span><a href="#basic-concepts"><b>1. </b>Basic Concepts</a></li><ul><li><span class="title-icon "></span><a href="#defination-of-compilers"><b>1.1. </b>Defination of compilers</a></li><li><span class="title-icon "></span><a href="#structure-of-compilers"><b>1.2. </b>Structure of compilers</a></li></ul><li><span class="title-icon "></span><a href="#&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;"><b>2. </b>&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;</a></li><ul><li><span class="title-icon "></span><a href="#&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;"><b>2.1. </b>&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;</a></li><li><span class="title-icon "></span><a href="#&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;"><b>2.2. </b>&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;</a></li><li><span class="title-icon "></span><a href="#&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;"><b>2.3. </b>&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;</a></li><li><span class="title-icon "></span><a href="#&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;"><b>2.4. </b>&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#&#x6B63;&#x89C4;&#x6587;&#x6CD5;"><b>2.5. </b>&#x6B63;&#x89C4;&#x6587;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#&#x6B63;&#x5219;&#x8BED;&#x8A00;regular-expressions"><b>2.6. </b>&#x6B63;&#x5219;&#x8BED;&#x8A00;(Regular Expressions)</a></li><li><span class="title-icon "></span><a href="#&#x5206;&#x6790;&#x6811;"><b>2.7. </b>&#x5206;&#x6790;&#x6811;</a></li><li><span class="title-icon "></span><a href="#&#x6587;&#x6CD5;&#x89C4;&#x5219;"><b>2.8. </b>&#x6587;&#x6CD5;&#x89C4;&#x5219;</a></li></ul><li><span class="title-icon "></span><a href="#lexical-analysis"><b>3. </b>Lexical Analysis</a></li><ul><li><span class="title-icon "></span><a href="#tokenizer---&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;"><b>3.1. </b>Tokenizer - &#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;</a></li><li><span class="title-icon "></span><a href="#&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;finite-automaton"><b>3.2. </b>&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Finite Automaton)</a></li><li><span class="title-icon "></span><a href="#&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;"><b>3.3. </b>&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;</a></li></ul><li><span class="title-icon "></span><a href="#syntax-analysis&#x8BED;&#x6CD5;&#x5206;&#x6790;"><b>4. </b>Syntax Analysis(&#x8BED;&#x6CD5;&#x5206;&#x6790;)</a></li><ul><li><span class="title-icon "></span><a href="#&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;"><b>4.1. </b>&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;</a></li><li><span class="title-icon "></span><a href="#&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;"><b>4.2. </b>&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;</a></li><li><span class="title-icon "></span><a href="#&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;"><b>4.3. </b>&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;</a></li></ul><li><span class="title-icon "></span><a href="#semantic-analysis&#x8BED;&#x4E49;&#x5206;&#x6790;"><b>5. </b>Semantic Analysis(&#x8BED;&#x4E49;&#x5206;&#x6790;)</a></li><ul><li><span class="title-icon "></span><a href="#&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;type-system"><b>5.1. </b>&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;(type system)</a></li><li><span class="title-icon "></span><a href="#&#x7B26;&#x53F7;&#x8868;&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;"><b>5.2. </b>&#x7B26;&#x53F7;&#x8868;(&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;)</a></li><li><span class="title-icon "></span><a href="#&#x7C7B;&#x578B;&#x68C0;&#x67E5;"><b>5.3. </b>&#x7C7B;&#x578B;&#x68C0;&#x67E5;</a></li><li><span class="title-icon "></span><a href="#&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;"><b>5.4. </b>&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;</a></li><li><span class="title-icon "></span><a href="#&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;"><b>5.5. </b>&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;</a></li><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;&#x8BCA;&#x65AD;"><b>5.6. </b>&#x9519;&#x8BEF;&#x8BCA;&#x65AD;</a></li></ul><li><span class="title-icon "></span><a href="#immediate-representationir"><b>6. </b>Immediate Representation(IR)</a></li><ul><li><span class="title-icon "></span><a href="#&#x4E09;&#x5730;&#x5740;&#x7801;"><b>6.1. </b>&#x4E09;&#x5730;&#x5740;&#x7801;</a></li><li><span class="title-icon "></span><a href="#&#x63A7;&#x5236;&#x6D41;&#x56FE;"><b>6.2. </b>&#x63A7;&#x5236;&#x6D41;&#x56FE;</a></li></ul><li><span class="title-icon "></span><a href="#&#x4EE3;&#x7801;&#x4F18;&#x5316;"><b>7. </b>&#x4EE3;&#x7801;&#x4F18;&#x5316;</a></li><ul><li><span class="title-icon "></span><a href="#&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;"><b>7.1. </b>&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x4F18;&#x5316;&#x7C7B;&#x578B;"><b>7.2. </b>&#x4F18;&#x5316;&#x7C7B;&#x578B;</a></li><li><span class="title-icon "></span><a href="#&#x5C40;&#x90E8;&#x4F18;&#x5316;"><b>7.3. </b>&#x5C40;&#x90E8;&#x4F18;&#x5316;</a></li><li><span class="title-icon "></span><a href="#&#x5168;&#x5C40;&#x4F18;&#x5316;"><b>7.4. </b>&#x5168;&#x5C40;&#x4F18;&#x5316;</a></li></ul><li><span class="title-icon "></span><a href="#code-generation&#x4EE3;&#x7801;&#x751F;&#x6210;"><b>8. </b>Code Generation(&#x4EE3;&#x7801;&#x751F;&#x6210;)</a></li><ul><li><span class="title-icon "></span><a href="#&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;"><b>8.1. </b>&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;</a></li></ul><li><span class="title-icon "></span><a href="#garbage-collection"><b>9. </b>Garbage Collection</a></li><ul><li><span class="title-icon "></span><a href="#mark-and-sweep"><b>9.1. </b>Mark and Sweep</a></li><li><span class="title-icon "></span><a href="#stop-and-copy"><b>9.2. </b>Stop and Copy</a></li></ul><li><span class="title-icon "></span><a href="#compilers-exercise"><b>10. </b>Compilers Exercise</a></li><ul><li><span class="title-icon "></span><a href="#c-declaration-interpreter"><b>10.1. </b>C Declaration Interpreter</a></li><li><span class="title-icon "></span><a href="#coolclassrom-object-oriented-language"><b>10.2. </b>Cool(Classrom Object-Oriented Language)</a></li><li><span class="title-icon "></span><a href="#parser-implemention"><b>10.3. </b>Parser Implemention</a></li></ul></ul></ul></div><a href="#compiler-basic-notes" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="compiler-basic-notes"><a name="compiler-basic-notes" class="anchor-navigation-ex-anchor" href="#compiler-basic-notes"><i class="fa fa-link" aria-hidden="true"></i></a> Compiler Basic Notes</h1>
<!-- TOC -->
<ul>
<li><a href="#compiler-basic-notes">Compiler Basic Notes</a><ul>
<li><a href="#basic-concepts">Basic Concepts</a><ul>
<li><a href="#defination-of-compilers">Defination of compilers</a></li>
<li><a href="#structure-of-compilers">Structure of compilers</a></li>
</ul>
</li>
<li><a href="#&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;">&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;</a><ul>
<li><a href="#&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;">&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;</a></li>
<li><a href="#&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;">&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;</a></li>
<li><a href="#&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;">&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;</a></li>
<li><a href="#&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;">&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;</a><ul>
<li><a href="#&#x6587;&#x6CD5;&#x8868;&#x793A;">&#x6587;&#x6CD5;&#x8868;&#x793A;</a></li>
<li><a href="#&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;">&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;</a><ul>
<li><a href="#&#x7B80;&#x6613;&#x8868;&#x793A;">&#x7B80;&#x6613;&#x8868;&#x793A;</a></li>
<li><a href="#&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;backus-naur-form">&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;(Backus-Naur Form)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x6B63;&#x89C4;&#x6587;&#x6CD5;">&#x6B63;&#x89C4;&#x6587;&#x6CD5;</a></li>
<li><a href="#&#x6B63;&#x5219;&#x8BED;&#x8A00;regular-expressions">&#x6B63;&#x5219;&#x8BED;&#x8A00;(Regular Expressions)</a><ul>
<li><a href="#&#x57FA;&#x672C;&#x5B9A;&#x4E49;">&#x57FA;&#x672C;&#x5B9A;&#x4E49;</a></li>
<li><a href="#&#x5F62;&#x5F0F;&#x8868;&#x793A;">&#x5F62;&#x5F0F;&#x8868;&#x793A;</a></li>
<li><a href="#&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;syntax-sugar">&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;(Syntax Sugar)</a></li>
</ul>
</li>
<li><a href="#&#x5206;&#x6790;&#x6811;">&#x5206;&#x6790;&#x6811;</a><ul>
<li><a href="#&#x63A8;&#x5BFC;&#x7C7B;&#x578B;">&#x63A8;&#x5BFC;&#x7C7B;&#x578B;</a></li>
<li><a href="#&#x53E5;&#x578B;&#x5206;&#x6790;">&#x53E5;&#x578B;&#x5206;&#x6790;</a></li>
<li><a href="#meaning-function&#x591A;&#x5BF9;&#x4E00;">meaning function(&#x591A;&#x5BF9;&#x4E00;)</a></li>
<li><a href="#&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;&#x4E00;&#x5BF9;&#x591A;">&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;(&#x4E00;&#x5BF9;&#x591A;)</a><ul>
<li><a href="#&#x6587;&#x6CD5;&#x91CD;&#x5199;">&#x6587;&#x6CD5;&#x91CD;&#x5199;</a></li>
<li><a href="#&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;">&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x6587;&#x6CD5;&#x89C4;&#x5219;">&#x6587;&#x6CD5;&#x89C4;&#x5219;</a></li>
</ul>
</li>
<li><a href="#lexical-analysis">Lexical Analysis</a><ul>
<li><a href="#tokenizer---&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;">Tokenizer - &#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;</a><ul>
<li><a href="#&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;">&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;</a></li>
<li><a href="#&#x5173;&#x952E;&#x5B57;keyword&#x5904;&#x7406;">&#x5173;&#x952E;&#x5B57;(keyword)&#x5904;&#x7406;</a></li>
</ul>
</li>
<li><a href="#&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;finite-automaton">&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Finite Automaton)</a><ul>
<li><a href="#&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;deterministic-finite-automaton">&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Deterministic Finite Automaton)</a><ul>
<li><a href="#&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0;-dfa">&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0; DFA</a></li>
</ul>
</li>
<li><a href="#&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;nondeterministic-finite-automaton">&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Nondeterministic Finite Automaton)</a></li>
</ul>
</li>
<li><a href="#&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;">&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;</a><ul>
<li><a href="#thompson-&#x7B97;&#x6CD5;-regexp----nfa">Thompson &#x7B97;&#x6CD5;: RegExp --&gt; NFA</a></li>
<li><a href="#&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;-nfa----dfa">&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;: NFA --&gt; DFA</a></li>
<li><a href="#hopcroft-&#x7B97;&#x6CD5;">Hopcroft &#x7B97;&#x6CD5;</a></li>
<li><a href="#&#x5B9E;&#x73B0;">&#x5B9E;&#x73B0;</a><ul>
<li><a href="#dfa">DFA</a><ul>
<li><a href="#&#x6709;&#x5411;&#x56FE;">&#x6709;&#x5411;&#x56FE;</a></li>
<li><a href="#&#x8F6C;&#x79FB;&#x8868;">&#x8F6C;&#x79FB;&#x8868;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#syntax-analysis&#x8BED;&#x6CD5;&#x5206;&#x6790;">Syntax Analysis(&#x8BED;&#x6CD5;&#x5206;&#x6790;)</a><ul>
<li><a href="#&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;">&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;</a><ul>
<li><a href="#&#x907F;&#x514D;&#x56DE;&#x6EAF;">&#x907F;&#x514D;&#x56DE;&#x6EAF;</a></li>
<li><a href="#&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;recursive-descent&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;">&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;(Recursive Descent/&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;)</a><ul>
<li><a href="#&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;">&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;</a></li>
</ul>
</li>
<li><a href="#ll1&#x5206;&#x6790;&#x7B97;&#x6CD5;">LL(1)&#x5206;&#x6790;&#x7B97;&#x6CD5;</a><ul>
<li><a href="#nullable-sets">nullable sets</a></li>
<li><a href="#first-sets">first sets</a></li>
<li><a href="#follow-sets">follow sets</a></li>
<li><a href="#select-sets">select sets</a></li>
<li><a href="#&#x5206;&#x6790;&#x8868;">&#x5206;&#x6790;&#x8868;</a></li>
<li><a href="#&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;">&#x89E3;&#x51B3;&#x51B2;&#x7A81;(&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;)</a><ul>
<li><a href="#&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;">&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;</a></li>
<li><a href="#&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;">&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;</a></li>
</ul>
</li>
<li><a href="#&#x975E;-ll1-&#x6587;&#x6CD5;&#x8BED;&#x8A00;">&#x975E; LL(1) &#x6587;&#x6CD5;/&#x8BED;&#x8A00;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;">&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;</a><ul>
<li><a href="#lr0-&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;reduce&#x7B97;&#x6CD5;">LR(0) &#x5206;&#x6790;&#x7B97;&#x6CD5;(&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;(reduce)&#x7B97;&#x6CD5;)</a><ul>
<li><a href="#&#x77ED;&#x8BED;handles">&#x77ED;&#x8BED;(Handles)</a></li>
<li><a href="#&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;">&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;</a></li>
<li><a href="#&#x9A71;&#x52A8;&#x4EE3;&#x7801;">&#x9A71;&#x52A8;&#x4EE3;&#x7801;</a></li>
<li><a href="#&#x89E3;&#x51B3;&#x51B2;&#x7A81;slrlr1lalr">&#x89E3;&#x51B3;&#x51B2;&#x7A81;(SLR/LR(1)/LALR)</a></li>
</ul>
</li>
<li><a href="#lalrk">LALR(k)</a></li>
<li><a href="#slr">SLR</a><ul>
<li><a href="#slr-&#x5B9E;&#x73B0;">SLR &#x5B9E;&#x73B0;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;">&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;</a><ul>
<li><a href="#&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;syntax-directed-translation">&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;(Syntax-Directed Translation)</a></li>
<li><a href="#&#x62BD;&#x8C61;&#x8BED;&#x6CD5;">&#x62BD;&#x8C61;&#x8BED;&#x6CD5;</a></li>
<li><a href="#ast-&#x7684;&#x5B9E;&#x73B0;">AST &#x7684;&#x5B9E;&#x73B0;</a><ul>
<li><a href="#&#x6570;&#x636E;&#x7ED3;&#x6784;">&#x6570;&#x636E;&#x7ED3;&#x6784;</a></li>
<li><a href="#&#x76F8;&#x5173;&#x7B97;&#x6CD5;">&#x76F8;&#x5173;&#x7B97;&#x6CD5;</a></li>
<li><a href="#&#x6784;&#x9020;&#x7B97;&#x6CD5;">&#x6784;&#x9020;&#x7B97;&#x6CD5;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#semantic-analysis&#x8BED;&#x4E49;&#x5206;&#x6790;">Semantic Analysis(&#x8BED;&#x4E49;&#x5206;&#x6790;)</a><ul>
<li><a href="#&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;type-system">&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;(type system)</a><ul>
<li><a href="#type-checking">Type Checking</a></li>
<li><a href="#type-environments">Type Environments</a></li>
<li><a href="#typing-methods">Typing Methods</a></li>
</ul>
</li>
<li><a href="#&#x7B26;&#x53F7;&#x8868;&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;">&#x7B26;&#x53F7;&#x8868;(&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;)</a></li>
<li><a href="#&#x7C7B;&#x578B;&#x68C0;&#x67E5;">&#x7C7B;&#x578B;&#x68C0;&#x67E5;</a></li>
<li><a href="#&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;">&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;</a></li>
<li><a href="#&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;">&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;</a></li>
<li><a href="#&#x9519;&#x8BEF;&#x8BCA;&#x65AD;">&#x9519;&#x8BEF;&#x8BCA;&#x65AD;</a></li>
</ul>
</li>
<li><a href="#immediate-representationir">Immediate Representation(IR)</a><ul>
<li><a href="#&#x4E09;&#x5730;&#x5740;&#x7801;">&#x4E09;&#x5730;&#x5740;&#x7801;</a></li>
<li><a href="#&#x63A7;&#x5236;&#x6D41;&#x56FE;">&#x63A7;&#x5236;&#x6D41;&#x56FE;</a><ul>
<li><a href="#block">Block</a></li>
<li><a href="#&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;">&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;</a><ul>
<li><a href="#&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;">&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;</a><ul>
<li><a href="#&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;">&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;</a></li>
<li><a href="#&#x6D3B;&#x6027;&#x5206;&#x6790;">&#x6D3B;&#x6027;&#x5206;&#x6790;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#&#x4EE3;&#x7801;&#x4F18;&#x5316;">&#x4EE3;&#x7801;&#x4F18;&#x5316;</a><ul>
<li><a href="#&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;">&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;</a><ul>
<li><a href="#activation-recordar--frame">Activation Record(AR) / Frame</a></li>
<li><a href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;">&#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li>
<li><a href="#&#x5806;&#x533A;">&#x5806;&#x533A;</a></li>
</ul>
</li>
<li><a href="#&#x4F18;&#x5316;&#x7C7B;&#x578B;">&#x4F18;&#x5316;&#x7C7B;&#x578B;</a></li>
<li><a href="#&#x5C40;&#x90E8;&#x4F18;&#x5316;">&#x5C40;&#x90E8;&#x4F18;&#x5316;</a></li>
<li><a href="#&#x5168;&#x5C40;&#x4F18;&#x5316;">&#x5168;&#x5C40;&#x4F18;&#x5316;</a><ul>
<li><a href="#dead-code-elimination">Dead Code Elimination</a></li>
<li><a href="#constant-propagation">Constant Propagation</a></li>
<li><a href="#liveness-analysis">Liveness Analysis</a></li>
<li><a href="#&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;register-allocationgraph-coloring">&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;(Register Allocation/Graph Coloring)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#code-generation&#x4EE3;&#x7801;&#x751F;&#x6210;">Code Generation(&#x4EE3;&#x7801;&#x751F;&#x6210;)</a><ul>
<li><a href="#&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;">&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;</a><ul>
<li><a href="#&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;">&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;</a></li>
<li><a href="#&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A;-risc">&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A; (RISC)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#garbage-collection">Garbage Collection</a><ul>
<li><a href="#mark-and-sweep">Mark and Sweep</a></li>
<li><a href="#stop-and-copy">Stop and Copy</a></li>
</ul>
</li>
<li><a href="#compilers-exercise">Compilers Exercise</a><ul>
<li><a href="#c-declaration-interpreter">C Declaration Interpreter</a></li>
<li><a href="#coolclassrom-object-oriented-language">Cool(Classrom Object-Oriented Language)</a></li>
<li><a href="#parser-implemention">Parser Implemention</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="basic-concepts"><a name="basic-concepts" class="anchor-navigation-ex-anchor" href="#basic-concepts"><i class="fa fa-link" aria-hidden="true"></i></a>1. Basic Concepts</h2>
<h3 id="defination-of-compilers"><a name="defination-of-compilers" class="anchor-navigation-ex-anchor" href="#defination-of-compilers"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Defination of compilers</h3>
<ul>
<li><code>program_code</code> ---compiler---&gt; executable</li>
<li>data ---executable---&gt; output</li>
</ul>
<blockquote>
<p>e.g Fortran(formula translation) 1 project</p>
</blockquote>
<h3 id="structure-of-compilers"><a name="structure-of-compilers" class="anchor-navigation-ex-anchor" href="#structure-of-compilers"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Structure of compilers</h3>
<p>front-end to back-end:</p>
<ul>
<li>front-end: src ---lexical analysis---&gt; tokens
---parsing/syntax analysis---&gt; AST(Abstract Syntax Tree)
---semantic analysis---&gt; intermediate</li>
<li>back-end: intermediate ---...---&gt; ... ---...---&gt; ... ---code generation---&gt; dist</li>
</ul>
<p>details:</p>
<ul>
<li>lexical analysis(&#x8BCD;&#x6CD5;&#x5206;&#x6790;)</li>
<li>parsing/syntax analysis(&#x8BED;&#x6CD5;&#x5206;&#x6790;)</li>
<li>semantic analysis(&#x8BED;&#x4E49;&#x5206;&#x6790;): type and scope</li>
<li>optimization</li>
<li>code generation: translate to other high level language/assembly code/machine code</li>
</ul>
<h2 id="&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;"><a name="&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;" class="anchor-navigation-ex-anchor" href="#&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;"><i class="fa fa-link" aria-hidden="true"></i></a>2. &#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;</h2>
<h3 id="&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;"><a name="&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;" class="anchor-navigation-ex-anchor" href="#&#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. &#x7B26;&#x53F7;&#x4E0E;&#x7B26;&#x53F7;&#x4E32;</h3>
<ul>
<li>&#x5B57;&#x6BCD;&#x8868;/&#x7B26;&#x53F7;&#x96C6;: &#x5143;&#x7D20;&#x7684;&#x975E;&#x7A7A;&#x6709;&#x7A77;&#x96C6;&#x5408;</li>
<li>&#x7B26;&#x53F7;&#x4E32;: &#x5B57;&#x6BCD;&#x8868;&#x4E2D;&#x7684;&#x7B26;&#x53F7;&#x7EC4;&#x6210;&#x7684;&#x4EFB;&#x4F55;&#x6709;&#x7A77;&#x5E8F;&#x5217;</li>
<li>&#x56FA;&#x6709;&#x5934;/&#x5C3E;: &#x975E;&#x7A7A;&#x9996;/&#x5C3E;&#x5B50;&#x4E32;</li>
<li>&#x95ED;&#x5305;: &#x3A3;* = &#x3A3;0 U &#x3A3;1 U ... U &#x3A3;n ...</li>
<li>&#x6B63;&#x95ED;&#x5305;: &#x3A3;* = &#x3A3;1 U ... U &#x3A3;n ...</li>
</ul>
<h3 id="&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;"><a name="&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;" class="anchor-navigation-ex-anchor" href="#&#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. &#x6587;&#x6CD5;&#x4E0E;&#x8BED;&#x8A00;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;</h3>
<ul>
<li>&#x6587;&#x6CD5;(Grammar) G = (Vn, Vt, P, S) - &#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x96C6;, &#x7EC8;&#x7ED3;&#x7B26;&#x96C6;, &#x89C4;&#x5219;/&#x4EA7;&#x751F;&#x5F0F;&#x96C6;, &#x5F00;&#x59CB;&#x7B26;&#x53F7;</li>
<li>&#x8BED;&#x8A00;(Language) L(G) = {x | S -<em>&gt; x, x &lt;- Vt</em>} &#x6587;&#x6CD5; G &#x4E00;&#x5207;&#x53E5;&#x5B50;&#x7684;&#x96C6;&#x5408;</li>
<li>&#x53E5;&#x578B;: rhs of P, &#x53E5;&#x5B50;: &#x4E0D;&#x542B;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x7684;&#x53F3;&#x90E8;</li>
<li>&#x76F4;&#x63A5;&#x63A8;&#x5BFC;: v -&gt; w, &#x95ED;&#x5305;&#x63A8;&#x5BFC;: v -*&gt; w, &#x6B63;&#x95ED;&#x5305;&#x63A8;&#x5BFC;: v -+&gt; w</li>
</ul>
<h3 id="&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;"><a name="&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;" class="anchor-navigation-ex-anchor" href="#&#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;"><i class="fa fa-link" aria-hidden="true"></i></a>2.3. &#x4E54;&#x59C6;&#x65AF;&#x57FA;&#x6587;&#x6CD5;&#x4F53;&#x7CFB;</h3>
<ul>
<li>((((3)2)1)0)</li>
<li>0 &#x578B;&#x6587;&#x6CD5;: &#x4EFB;&#x610F;&#x6587;&#x6CD5;</li>
<li>1 &#x578B;&#x6587;&#x6CD5;: &#x4E0A;&#x4E0B;&#x6587;&#x6709;&#x5173;&#x6587;&#x6CD5;(context sensitive) &#x3B1;A&#x3B2; -&gt; &#x3B1;&#x3B7;&#x3B2;</li>
<li>2 &#x578B;&#x6587;&#x6CD5;(&#x8BED;&#x6CD5;&#x5DE5;&#x5177;): &#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5; A -&gt; &#x3B1;</li>
<li>3 &#x578B;&#x6587;&#x6CD5;(&#x8BCD;&#x6CD5;&#x5DE5;&#x5177;): &#x6B63;&#x89C4;&#x6587;&#x6CD5;</li>
</ul>
<h3 id="&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;"><a name="&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>2.4. &#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x6587;&#x6CD5;</h3>
<h4 id="&#x6587;&#x6CD5;&#x8868;&#x793A;"><a name="&#x6587;&#x6CD5;&#x8868;&#x793A;" class="anchor-navigation-ex-anchor" href="#&#x6587;&#x6CD5;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6587;&#x6CD5;&#x8868;&#x793A;" class="plugin-anchor" href="#&#x6587;&#x6CD5;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6587;&#x6CD5;&#x8868;&#x793A;</h4>
<p>G = (S, N, T, P):</p>
<ul>
<li>S: &#x5F00;&#x59CB;&#x7B26;</li>
<li>N: &#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x96C6;&#x5408;</li>
<li>T: &#x7EC8;&#x7ED3;&#x7B26;&#x96C6;&#x5408;</li>
<li>P: &#x4EA7;&#x751F;&#x5F0F;&#x89C4;&#x5219;&#x96C6;&#x5408; X -&gt; beta1, beta2, ..., betan, X &lt;- N, beta &lt;- N+T</li>
</ul>
<h4 id="&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;"><a name="&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;" class="anchor-navigation-ex-anchor" href="#&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;" class="plugin-anchor" href="#&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x793A;</h4>
<h5 id="&#x7B80;&#x6613;&#x8868;&#x793A;"><a name="&#x7B80;&#x6613;&#x8868;&#x793A;" class="anchor-navigation-ex-anchor" href="#&#x7B80;&#x6613;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7B80;&#x6613;&#x8868;&#x793A;" class="plugin-anchor" href="#&#x7B80;&#x6613;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B80;&#x6613;&#x8868;&#x793A;</h5>
<pre class="language-"><code class="lang-c">Sentence <span class="token operator">-&gt;</span> Noun Verb Noun
Noun <span class="token operator">-&gt;</span> sheep
  <span class="token operator">|</span> tiger
  <span class="token operator">|</span> grass
  <span class="token operator">|</span> water
Verb <span class="token operator">-&gt;</span> eat
  <span class="token operator">|</span> drink
</code></pre>
<blockquote>
<p>S: Sentence, N: Sentence/Verb/Noun, T: sheep/tiger/grass/water/eat/drink</p>
</blockquote>
<pre class="language-"><code class="lang-c">E <span class="token operator">-&gt;</span> num
  <span class="token operator">|</span>id
  <span class="token operator">|</span>E <span class="token operator">+</span> E
  <span class="token operator">|</span>E `<span class="token operator">*</span>` E
</code></pre>
<blockquote>
<p>S: E, N: E, T: num/id/+/*</p>
</blockquote>
<h5 id="&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;backus-naur-form"><a name="&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;backus-naur-form" class="anchor-navigation-ex-anchor" href="#&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;backus-naur-form"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;backus-naur-form" class="plugin-anchor" href="#&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;backus-naur-form"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5DF4;&#x79D1;&#x65AF;&#x8303;&#x5F0F;(Backus-Naur Form)</h5>
<ul>
<li>::= : &quot;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&quot;</li>
<li>&quot;word&quot; : &#x5B57;&#x7B26;&#x672C;&#x8EAB;</li>
<li>&#x53CC;&#x5F15;&#x53F7;&#x5916;&#x7684;&#x5B57; : &#x8BED;&#x6CD5;&#x90E8;&#x5206;</li>
<li>&#x5C16;&#x62EC;&#x53F7;( &lt; &gt; ) : &#x5FC5;&#x9009;&#x9879;(&#x975E;&#x7EC8;&#x7ED3;&#x7B26;)</li>
<li>&#x65B9;&#x62EC;&#x53F7;( <code>[ ]</code> ) : 0/1</li>
<li>&#x5927;&#x62EC;&#x53F7;( { } ) : 0/n</li>
<li>&#x7AD6;&#x7EBF;( | ) : &quot;OR&quot;</li>
</ul>
<h3 id="&#x6B63;&#x89C4;&#x6587;&#x6CD5;"><a name="&#x6B63;&#x89C4;&#x6587;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x6B63;&#x89C4;&#x6587;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>2.5. &#x6B63;&#x89C4;&#x6587;&#x6CD5;</h3>
<p>&#x6B63;&#x89C4;&#x6587;&#x6CD5;&#x53EF;&#x4E0E;&#x6B63;&#x5219;&#x8BED;&#x8A00;&#x76F8;&#x4E92;&#x8F6C;&#x5316;:</p>
<ul>
<li>A -&gt; aB|Ba</li>
<li>A -&gt; a</li>
</ul>
<h3 id="&#x6B63;&#x5219;&#x8BED;&#x8A00;regular-expressions"><a name="&#x6B63;&#x5219;&#x8BED;&#x8A00;regular-expressions" class="anchor-navigation-ex-anchor" href="#&#x6B63;&#x5219;&#x8BED;&#x8A00;regular-expressions"><i class="fa fa-link" aria-hidden="true"></i></a>2.6. &#x6B63;&#x5219;&#x8BED;&#x8A00;(Regular Expressions)</h3>
<h4 id="&#x57FA;&#x672C;&#x5B9A;&#x4E49;"><a name="&#x57FA;&#x672C;&#x5B9A;&#x4E49;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x672C;&#x5B9A;&#x4E49;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x672C;&#x5B9A;&#x4E49;" class="plugin-anchor" href="#&#x57FA;&#x672C;&#x5B9A;&#x4E49;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x672C;&#x5B9A;&#x4E49;</h4>
<p>&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x96C6; C:</p>
<ul>
<li>&#x7A7A;&#x4E32; &quot;\0&quot; &#x662F;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x4EFB;&#x610F; char &lt;- C &#x662F;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x82E5; M, N &#x662F;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;, &#x5219; M|N = {M, N},
MN = {mn|m &lt;- M, n &lt;- N},
M* = {&quot;\0&quot;, M, MM, MMM, ...} (&#x9009;&#x62E9;/&#x8FDE;&#x63A5;/&#x95ED;&#x5305;)&#x4E5F;&#x662F;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</li>
</ul>
<h4 id="&#x5F62;&#x5F0F;&#x8868;&#x793A;"><a name="&#x5F62;&#x5F0F;&#x8868;&#x793A;" class="anchor-navigation-ex-anchor" href="#&#x5F62;&#x5F0F;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5F62;&#x5F0F;&#x8868;&#x793A;" class="plugin-anchor" href="#&#x5F62;&#x5F0F;&#x8868;&#x793A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F62;&#x5F0F;&#x8868;&#x793A;</h4>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x5177;&#x6709;&#x987A;&#x5E8F;&#x6027;</span>
e <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token string">&quot;\0&quot;</span> <span class="token comment">// basic defination</span>
  <span class="token operator">|</span> c <span class="token comment">// basic defination</span>
  <span class="token operator">|</span> e <span class="token operator">|</span> e <span class="token comment">// recursive defination</span>
  <span class="token operator">|</span> ee <span class="token comment">// recursive defination</span>
  <span class="token operator">|</span> e<span class="token operator">*</span> <span class="token comment">// recursive defination</span>
</code></pre>
<h4 id="&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;syntax-sugar"><a name="&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;syntax-sugar" class="anchor-navigation-ex-anchor" href="#&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;syntax-sugar"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;syntax-sugar" class="plugin-anchor" href="#&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;syntax-sugar"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6B63;&#x5219;&#x8BED;&#x6CD5;&#x7CD6;(Syntax Sugar)</h4>
<ul>
<li><code>[a-z]</code> : a|...|z</li>
<li>c? : 0/1 &#x4E2A; c</li>
<li>c+ : 1/n &#x4E2A; c</li>
<li>c{i, j} : i-j &#x4E2A; c</li>
<li>&quot;a<em>&quot; : a</em> &#x81EA;&#x8EAB;(&#x975E; kleen &#x95ED;&#x5305;)</li>
<li>. : &#x9664; &#x2018;\n&#x2019; &#x5916;&#x7684;&#x4EFB;&#x610F;&#x5B57;&#x7B26;</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token comment">// &#x6807;&#x8BC6;&#x7B26;</span>
<span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span>\_<span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span>\_0<span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span>

<span class="token comment">// decimal integer</span>
<span class="token punctuation">(</span><span class="token operator">+</span><span class="token operator">|</span><span class="token operator">-</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">)</span>

<span class="token comment">// decimal float</span>
<span class="token punctuation">(</span><span class="token operator">+</span><span class="token operator">|</span><span class="token operator">-</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">|</span><span class="token punctuation">)</span><span class="token operator">?</span>\<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">+</span>
</code></pre>
<h3 id="&#x5206;&#x6790;&#x6811;"><a name="&#x5206;&#x6790;&#x6811;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x6790;&#x6811;"><i class="fa fa-link" aria-hidden="true"></i></a>2.7. &#x5206;&#x6790;&#x6811;</h3>
<p>&#x8FDB;&#x884C;&#x6587;&#x6CD5;&#x63A8;&#x5BFC;&#x65F6;&#x751F;&#x6210;&#x7684;&#x6811;:</p>
<ul>
<li>&#x6839; : &#x5F00;&#x59CB;&#x7B26;</li>
<li>&#x5185;&#x90E8;&#x7ED3;&#x70B9; : &#x975E;&#x7EC8;&#x7ED3;&#x7B26;</li>
<li>&#x53F6;&#x5B50;&#x7ED3;&#x70B9; : &#x7EC8;&#x7ED3;&#x7B26;</li>
<li>&#x5C42; : &#x4E00;&#x6B65;&#x63A8;&#x5BFC;(&#x4F18;&#x5148;&#x7EA7;&#x5F71;&#x54CD;&#x63A8;&#x5BFC;&#x987A;&#x5E8F;)</li>
<li>&#x53F6;&#x5B50;&#x7ED3;&#x70B9;&#x4E32;: &#x6700;&#x7EC8;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x540E;&#x5E8F;&#x904D;&#x5386; : &#x6700;&#x7EC8;&#x7ED3;&#x679C;</li>
</ul>
<h4 id="&#x63A8;&#x5BFC;&#x7C7B;&#x578B;"><a name="&#x63A8;&#x5BFC;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x63A8;&#x5BFC;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x63A8;&#x5BFC;&#x7C7B;&#x578B;" class="plugin-anchor" href="#&#x63A8;&#x5BFC;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x63A8;&#x5BFC;&#x7C7B;&#x578B;</h4>
<ul>
<li>&#x6700;&#x5DE6;&#x63A8;&#x5BFC;(leftmost)</li>
<li>&#x6700;&#x53F3;&#x63A8;&#x5BFC;(rightmost)(<strong>&#x89C4;&#x8303;&#x63A8;&#x5BFC;</strong>)</li>
</ul>
<h4 id="&#x53E5;&#x578B;&#x5206;&#x6790;"><a name="&#x53E5;&#x578B;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x53E5;&#x578B;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x53E5;&#x578B;&#x5206;&#x6790;" class="plugin-anchor" href="#&#x53E5;&#x578B;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53E5;&#x578B;&#x5206;&#x6790;</h4>
<ul>
<li>&#x77ED;&#x8BED;: &#x82E5; S -*&gt; A&#x3B2;, A -+&gt; &#x3B1;, &#x5219;&#x79F0; &#x3B1; &#x662F;&#x53E5;&#x578B; &#x3B1;&#x3B2; &#x76F8;&#x5BF9;&#x4E8E;&#x975E;&#x7EC8;&#x7ED3;&#x7B26; A &#x7684;&#x77ED;&#x8BED;</li>
<li>&#x76F4;&#x63A5;&#x77ED;&#x8BED;: S -*&gt; A&#x3B2;, A -&gt; &#x3B1;</li>
<li>&#x4E00;&#x4E2A;&#x53F3;&#x53E5;&#x578B;&#x7684;&#x76F4;&#x63A5;&#x77ED;&#x8BED;&#x79F0;&#x4E3A;&#x8BE5;&#x53E5;&#x578B;&#x7684;&#x53E5;&#x67C4;(&#x7528;&#x4E8E;<strong>&#x81EA;&#x4E0B;&#x800C;&#x4E0A;</strong>&#x7684;&#x5F52;&#x7EA6;&#x5206;&#x6790;)</li>
<li>&#x6700;&#x5DE6;&#x5F52;&#x7EA6;: &#x5F52;&#x7EA6;&#x6700;&#x5DE6;&#x7684;&#x53E5;&#x67C4;, &#x6700;&#x53F3;&#x5F52;&#x7EA6;: &#x5F52;&#x7EA6;&#x6700;&#x53F3;&#x7684;&#x53E5;&#x67C4;</li>
</ul>
<h4 id="meaning-function&#x591A;&#x5BF9;&#x4E00;"><a name="meaning-function&#x591A;&#x5BF9;&#x4E00;" class="anchor-navigation-ex-anchor" href="#meaning-function&#x591A;&#x5BF9;&#x4E00;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="meaning-function&#x591A;&#x5BF9;&#x4E00;" class="plugin-anchor" href="#meaning-function&#x591A;&#x5BF9;&#x4E00;"><i class="fa fa-link" aria-hidden="true"></i></a>meaning function(&#x591A;&#x5BF9;&#x4E00;)</h4>
<p>L(syntax) = semantic: &#x591A;&#x4E2A;&#x8BED;&#x6CD5;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x8BED;&#x4E49;(&#x4E0D;&#x540C;&#x5F62;&#x5F0F;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x5E94;&#x540C;&#x4E00;&#x4E2A;&#x610F;&#x601D;)</p>
<h4 id="&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;&#x4E00;&#x5BF9;&#x591A;"><a name="&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;&#x4E00;&#x5BF9;&#x591A;" class="anchor-navigation-ex-anchor" href="#&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;&#x4E00;&#x5BF9;&#x591A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;&#x4E00;&#x5BF9;&#x591A;" class="plugin-anchor" href="#&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;&#x4E00;&#x5BF9;&#x591A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;(&#x4E00;&#x5BF9;&#x591A;)</h4>
<ul>
<li>&#x6700;&#x5DE6;&#x63A8;&#x5BFC;&#x4E0E;&#x6700;&#x53F3;&#x63A8;&#x5BFC;&#x5F97;&#x51FA;&#x7684;&#x5206;&#x6790;&#x6811;&#x4E0D;&#x4E00;&#x81F4;</li>
<li>&#x82E5;&#x7ED9;&#x5B9A;&#x6587;&#x6CD5; G, &#x5BF9;&#x4E8E;&#x53E5;&#x5B50; s, &#x5176;&#x6709; 2 &#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x6790;&#x6811;, &#x5219;&#x79F0; G &#x662F;&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;</li>
<li>&#x82E5;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#x65E0;&#x5173;&#x8BED;&#x8A00;&#x7684;&#x6240;&#x6709;&#x6587;&#x6CD5;&#x90FD;&#x662F;&#x4E8C;&#x4E49;&#x6027;&#x6587;&#x6CD5;, &#x5219;&#x79F0;&#x6B64;&#x8BED;&#x8A00;&#x662F;&#x5148;&#x5929;&#x4E8C;&#x4E49;&#x8BED;&#x8A00;</li>
</ul>
<h5 id="&#x6587;&#x6CD5;&#x91CD;&#x5199;"><a name="&#x6587;&#x6CD5;&#x91CD;&#x5199;" class="anchor-navigation-ex-anchor" href="#&#x6587;&#x6CD5;&#x91CD;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6587;&#x6CD5;&#x91CD;&#x5199;" class="plugin-anchor" href="#&#x6587;&#x6CD5;&#x91CD;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6587;&#x6CD5;&#x91CD;&#x5199;</h5>
<pre class="language-"><code class="lang-c">E <span class="token operator">-&gt;</span> E <span class="token operator">+</span> T
  <span class="token operator">|</span>T
T <span class="token operator">-&gt;</span> T <span class="token operator">*</span> F
  <span class="token operator">|</span>F
F <span class="token operator">-&gt;</span> num
  <span class="token operator">|</span>id
</code></pre>
<blockquote>
<p>&#x6D88;&#x9664; + &#x4E0E; <code>*</code> &#x7684;&#x4E8C;&#x4E49;&#x6027;, &#x5982; 3+4<code>*</code>5</p>
</blockquote>
<h5 id="&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;"><a name="&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;" class="plugin-anchor" href="#&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;</h5>
<p>&#x58F0;&#x660E;&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;&#x53EF;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x6D88;&#x9664;&#x6587;&#x6CD5;&#x7684;&#x4E8C;&#x4E49;&#x6027;</p>
<h3 id="&#x6587;&#x6CD5;&#x89C4;&#x5219;"><a name="&#x6587;&#x6CD5;&#x89C4;&#x5219;" class="anchor-navigation-ex-anchor" href="#&#x6587;&#x6CD5;&#x89C4;&#x5219;"><i class="fa fa-link" aria-hidden="true"></i></a>2.8. &#x6587;&#x6CD5;&#x89C4;&#x5219;</h3>
<ul>
<li>&#x6709;&#x5BB3;&#x89C4;&#x5219;: &#x4F7F;&#x6587;&#x6CD5;&#x4EA7;&#x751F;&#x4E8C;&#x4E49;&#x6027;&#x7684;&#x89C4;&#x5219;</li>
<li>&#x591A;&#x4F59;&#x89C4;&#x5219;: &#x4E0D;&#x53EF;&#x8FBE;/&#x4E0D;&#x53EF;&#x7EC8;&#x6B62;&#x7684;&#x89C4;&#x5219;</li>
<li>2 &#x578B;&#x6587;&#x6CD5;&#x7684; &#x3B5; &#x89C4;&#x5219;: &#x5F53;&#x8BED;&#x8A00;&#x4E2D;&#x4E0D;&#x542B;&#x6709; &#x3B5; &#x7B26;&#x53F7;&#x4E32;, &#x5219;&#x4E00;&#x5B9A;&#x5B58;&#x5728;&#x7EC8;&#x7ED3;&#x7B26;&#x96C6;&#x4E0D;&#x542B;&#x6709; &#x3B5; &#x7684;&#x7B49;&#x4EF7;&#x6587;&#x6CD5;(&#x4EE3;&#x5165;&#x6CD5;&#x6D88;&#x9664; &#x3B5;)</li>
<li>&#x4FDD;&#x8BC1;&#x975E;&#x7EC8;&#x7ED3;&#x7B26; A &#x7684;&#x6709;&#x6548;&#x6027;: S -*&gt; &#x3B1;A&#x3B2;, A -+&gt; t</li>
</ul>
<h2 id="lexical-analysis"><a name="lexical-analysis" class="anchor-navigation-ex-anchor" href="#lexical-analysis"><i class="fa fa-link" aria-hidden="true"></i></a>3. Lexical Analysis</h2>
<h3 id="tokenizer---&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;"><a name="tokenizer---&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;" class="anchor-navigation-ex-anchor" href="#tokenizer---&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. Tokenizer - &#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;</h3>
<ul>
<li>Maximal match</li>
<li>Higher priority match</li>
</ul>
<h4 id="&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;"><a name="&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;" class="plugin-anchor" href="#&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8F6C;&#x79FB;&#x56FE;&#x7B97;&#x6CD5;</h4>
<pre class="language-"><code class="lang-c">token <span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token function">getChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&apos;&lt;&apos;</span><span class="token operator">:</span>
      c <span class="token operator">=</span> <span class="token function">getChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&apos;=&apos;</span><span class="token operator">:</span>
          <span class="token keyword">return</span> LE<span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&apos;&gt;&apos;</span><span class="token operator">:</span>
          <span class="token keyword">return</span> NE<span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
          <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> LT<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

    <span class="token keyword">case</span> <span class="token string">&apos;=&apos;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> EQ<span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&apos;&gt;&apos;</span><span class="token operator">:</span>
      c <span class="token operator">=</span> <span class="token function">getChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&apos;=&apos;</span><span class="token operator">:</span>
          <span class="token keyword">return</span> GE<span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&apos;&lt;&apos;</span><span class="token operator">:</span>
          <span class="token keyword">return</span> NE<span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
          <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> GT<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x5173;&#x952E;&#x5B57;keyword&#x5904;&#x7406;"><a name="&#x5173;&#x952E;&#x5B57;keyword&#x5904;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x5173;&#x952E;&#x5B57;keyword&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5173;&#x952E;&#x5B57;keyword&#x5904;&#x7406;" class="plugin-anchor" href="#&#x5173;&#x952E;&#x5B57;keyword&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5173;&#x952E;&#x5B57;(keyword)&#x5904;&#x7406;</h4>
<ul>
<li>&#x6839;&#x636E; &#x5B8C;&#x7F8E;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;(&#x65E0;&#x51B2;&#x7A81;&#x54C8;&#x5E0C;&#x51FD;&#x6570;) , &#x5EFA;&#x7ACB;&#x6240;&#x6709;&#x5173;&#x952E;&#x5B57;&#x5BF9;&#x5E94;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5B8C;&#x7F8E;&#x54C8;&#x5E0C;&#x8868;</li>
<li>&#x8BFB;&#x5165;&#x6709;&#x6548;&#x6807;&#x8BC6;&#x7B26;(&#x5B57;&#x7B26;&#x4E32;&#x578B;)&#x540E;, &#x67E5;&#x8BE2;&#x5173;&#x952E;&#x5B57;&#x54C8;&#x5E0C;&#x8868;, &#x68C0;&#x67E5;&#x5F53;&#x524D;&#x6807;&#x8BC6;&#x7B26;&#x662F;&#x5426;&#x4E3A;&#x5173;&#x952E;&#x5B57;</li>
</ul>
<pre class="language-"><code class="lang-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">KEYWORD_MAXLEN</span> <span class="token expression"><span class="token number">10</span></span></span>

<span class="token function">hash_one</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> keyValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        keyValue <span class="token operator">+=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> len <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    keyValue <span class="token operator">=</span> <span class="token punctuation">(</span>keyValue <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">%</span> KEYWORD_MAXLEN<span class="token punctuation">;</span>
  <span class="token keyword">return</span> keyValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">KEYWORD_HASH_SEED</span> <span class="token expression"><span class="token number">131</span></span></span>

<span class="token function">hash_two</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">unsigned</span> <span class="token keyword">int</span> keyValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
           hash <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        hash <span class="token operator">=</span> hash <span class="token operator">*</span> KEYWORD_HASH_SEED <span class="token operator">+</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    keyValue <span class="token operator">=</span> hash <span class="token operator">&amp;</span> <span class="token number">0x7fffffff</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> keyValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;finite-automaton"><a name="&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;finite-automaton" class="anchor-navigation-ex-anchor" href="#&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;finite-automaton"><i class="fa fa-link" aria-hidden="true"></i></a>3.2. &#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Finite Automaton)</h3>
<h4 id="&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;deterministic-finite-automaton"><a name="&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;deterministic-finite-automaton" class="anchor-navigation-ex-anchor" href="#&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;deterministic-finite-automaton"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;deterministic-finite-automaton" class="plugin-anchor" href="#&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;deterministic-finite-automaton"><i class="fa fa-link" aria-hidden="true"></i></a>&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Deterministic Finite Automaton)</h4>
<ul>
<li>Only a transition for a state with a input</li>
<li>No epsilon moves</li>
</ul>
<p>M = (AlphaSet/InputSet, StateSet, currentState, FiniteStateSet, transferFunction)</p>
<pre class="language-"><code class="lang-c">A <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span><span class="token punctuation">,</span> SS <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> cS <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> FS <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
transferFunction <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>cS0<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> cS1<span class="token punctuation">,</span> <span class="token punctuation">(</span>cS0<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> cS0<span class="token punctuation">,</span>
  <span class="token punctuation">(</span>cS1<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> cS2<span class="token punctuation">,</span> <span class="token punctuation">(</span>cS1<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> cS1<span class="token punctuation">,</span>
  <span class="token punctuation">(</span>cS2<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> cS2<span class="token punctuation">,</span> <span class="token punctuation">(</span>cS2<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> cS2<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0;-dfa"><a name="&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0;-dfa" class="anchor-navigation-ex-anchor" href="#&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0;-dfa"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0;-dfa" class="plugin-anchor" href="#&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0;-dfa"><i class="fa fa-link" aria-hidden="true"></i></a>&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x8868;&#x5B9E;&#x73B0; DFA</h5>
<table>
<thead>
<tr>
<th style="text-align:left">&#x72B6;&#x6001;\&#x5B57;&#x7B26;</th>
<th style="text-align:left">a</th>
<th style="text-align:left">b</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">1</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">2</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">2</td>
<td style="text-align:left">2</td>
</tr>
</tbody>
</table>
<h4 id="&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;nondeterministic-finite-automaton"><a name="&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;nondeterministic-finite-automaton" class="anchor-navigation-ex-anchor" href="#&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;nondeterministic-finite-automaton"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;nondeterministic-finite-automaton" class="plugin-anchor" href="#&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;nondeterministic-finite-automaton"><i class="fa fa-link" aria-hidden="true"></i></a>&#x975E;&#x786E;&#x5B9A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x81EA;&#x52A8;&#x673A;(Nondeterministic Finite Automaton)</h4>
<p>transferFunction &#x4E2D;&#x7684;&#x6B21;&#x6001;&#x4E0D;&#x786E;&#x5B9A;/&#x4E0D;&#x552F;&#x4E00;(&#x4E3A;&#x4E00;&#x4E2A;&#x5F00;&#x96C6;&#x5408;):</p>
<ul>
<li>Multiple transitions for a state with a input</li>
<li>can epsilon moves</li>
</ul>
<blockquote>
<p>(cS0, a) -&gt; {cS1, cS2}</p>
</blockquote>
<h3 id="&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;"><a name="&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>3.3. &#x81EA;&#x52A8;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;</h3>
<p>RegExp --Thompson &#x7B97;&#x6CD5;--&gt; NFA --&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;--&gt; DFA --Hopcroft &#x6700;&#x5C0F;&#x5316;&#x7B97;&#x6CD5;--&gt; &#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x5668;&#x4EE3;&#x7801;</p>
<h4 id="thompson-&#x7B97;&#x6CD5;-regexp----nfa"><a name="thompson-&#x7B97;&#x6CD5;-regexp----nfa" class="anchor-navigation-ex-anchor" href="#thompson-&#x7B97;&#x6CD5;-regexp----nfa"><i class="fa fa-link" aria-hidden="true"></i></a><a name="thompson-&#x7B97;&#x6CD5;-regexp----nfa" class="plugin-anchor" href="#thompson-&#x7B97;&#x6CD5;-regexp----nfa"><i class="fa fa-link" aria-hidden="true"></i></a>Thompson &#x7B97;&#x6CD5;: RegExp --&gt; NFA</h4>
<ul>
<li>&#x76F4;&#x63A5;&#x6784;&#x9020;&#x57FA;&#x672C; RegExp</li>
<li>&#x9012;&#x5F52;&#x6784;&#x9020;&#x590D;&#x5408; RegExp</li>
<li>epsilon : i --epsilon--&gt; f</li>
<li>RegExp : i --NFA(RegExp)--&gt; f</li>
<li>&#x9009;&#x62E9; : i --NFA(RegExp1)--&gt; f, i --NFA(RegExp2)--&gt; f</li>
<li>&#x8FDE;&#x63A5; : i --NFA(RegExp1)--&gt; m --NFA(RegExp2)--&gt; f</li>
<li>&#x95ED;&#x5305; : i --epsilon--&gt; m --epsilon--&gt; f, m --RegExp--&gt; m</li>
</ul>
<h4 id="&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;-nfa----dfa"><a name="&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;-nfa----dfa" class="anchor-navigation-ex-anchor" href="#&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;-nfa----dfa"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;-nfa----dfa" class="plugin-anchor" href="#&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;-nfa----dfa"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B50;&#x96C6;&#x6784;&#x9020;&#x7B97;&#x6CD5;: NFA --&gt; DFA</h4>
<p>&#x7531; Thompson &#x7B97;&#x6CD5;&#x751F;&#x6210;&#x7684; NFA, &#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x8F93;&#x5165;&#x4E3A; epsilon &#x65F6;, &#x6B21;&#x6001;&#x4E0D;&#x552F;&#x4E00;</p>
<ul>
<li>&#x5C06;&#x6240;&#x6709;&#x53EF;&#x8FBE;&#x5230;&#x6B21;&#x6001;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x96C6;&#x5408; s, &#x89C6;&#x4E3A;&#x5355;&#x4E00;&#x6B21;&#x6001; s</li>
<li>delta(Sigma) + epsilon-closure(&#x6DF1;&#x5EA6;/&#x5E7F;&#x5EA6;&#x4F18;&#x5148;&#x904D;&#x5386;&#x627E;&#x5BFB;&#x53EF;&#x8FBE;&#x5230;&#x6B21;&#x6001;&#x8FB9;&#x754C;)</li>
</ul>
<pre class="language-"><code class="lang-cpp">DFA <span class="token function">subset_construction</span><span class="token punctuation">(</span>NFA nfa<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  s0 <span class="token operator">=</span> <span class="token function">eps_closure</span><span class="token punctuation">(</span>n0<span class="token punctuation">)</span><span class="token punctuation">;</span>

  StateSet <span class="token operator">+=</span> s0<span class="token punctuation">;</span>
  <span class="token function">enqueue</span><span class="token punctuation">(</span>s0<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>workqueue <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">foreach</span> <span class="token punctuation">(</span>ch in InputSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      next_state <span class="token operator">=</span> <span class="token function">eps_closure</span><span class="token punctuation">(</span><span class="token function">delta</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Fn<span class="token punctuation">[</span>s<span class="token punctuation">,</span> ch<span class="token punctuation">]</span> <span class="token operator">=</span> next_state<span class="token punctuation">;</span>  <span class="token comment">// DFA &#x4E2D;&#x7684;&#x8F6C;&#x79FB;&#x51FD;&#x6570;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>next_state <span class="token operator">not</span> in StateSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        StateSet <span class="token operator">+=</span> next_state<span class="token punctuation">;</span>
        <span class="token function">enqueue</span><span class="token punctuation">(</span>next_state<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">DFA</span><span class="token punctuation">(</span>StateSet<span class="token punctuation">,</span> Fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="hopcroft-&#x7B97;&#x6CD5;"><a name="hopcroft-&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#hopcroft-&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="hopcroft-&#x7B97;&#x6CD5;" class="plugin-anchor" href="#hopcroft-&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>Hopcroft &#x7B97;&#x6CD5;</h4>
<p>&#x6700;&#x5C0F;&#x5316; DFA(&#x6570;&#x5B57;&#x903B;&#x8F91;&#x4E2D;&#x7684;&#x6700;&#x7B80;&#x72B6;&#x6001;&#x8868;), &#x5408;&#x5E76;&#x7B49;&#x4EF7;&#x72B6;&#x6001;(&#x7B49;&#x4EF7;&#x7C7B;)</p>
<pre class="language-"><code class="lang-cpp"><span class="token function">split</span><span class="token punctuation">(</span>StateSet S<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foreach</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ch can split S<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      split S into S1<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> Sk<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">hopcroft</span><span class="token punctuation">(</span>DFA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  split all nodes into InitStateSet <span class="token operator">and</span> <span class="token function">FiniteStateSet</span> <span class="token punctuation">(</span>Two State Sets<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>set is still changes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">split</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x5B9E;&#x73B0;"><a name="&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B9E;&#x73B0;" class="plugin-anchor" href="#&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x73B0;</h4>
<h5 id="dfa"><a name="dfa" class="anchor-navigation-ex-anchor" href="#dfa"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dfa" class="plugin-anchor" href="#dfa"><i class="fa fa-link" aria-hidden="true"></i></a>DFA</h5>
<h6 id="&#x6709;&#x5411;&#x56FE;"><a name="&#x6709;&#x5411;&#x56FE;" class="anchor-navigation-ex-anchor" href="#&#x6709;&#x5411;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6709;&#x5411;&#x56FE;" class="plugin-anchor" href="#&#x6709;&#x5411;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6709;&#x5411;&#x56FE;</h6>
<h6 id="&#x8F6C;&#x79FB;&#x8868;"><a name="&#x8F6C;&#x79FB;&#x8868;" class="anchor-navigation-ex-anchor" href="#&#x8F6C;&#x79FB;&#x8868;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8F6C;&#x79FB;&#x8868;" class="plugin-anchor" href="#&#x8F6C;&#x79FB;&#x8868;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8F6C;&#x79FB;&#x8868;</h6>
<ul>
<li>&#x884C;: &#x73B0;&#x6001;</li>
<li>&#x5217;: &#x8F93;&#x5165;</li>
<li>&#x503C;: &#x6B21;&#x6001;/ERROR/-1</li>
</ul>
<p>&#x9A71;&#x52A8;&#x4EE3;&#x7801;: table &#x7528;&#x4E8E;&#x5B9E;&#x73B0; switch/case, stack &#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x6700;&#x957F;&#x5339;&#x914D;</p>
<pre class="language-"><code class="lang-cpp"><span class="token function">next_token</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>state <span class="token operator">!=</span> ERROR<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">=</span> <span class="token function">getChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>state is ACCEPT<span class="token operator">/</span>FINITE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clear</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">push</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    state <span class="token operator">=</span> table<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>state is <span class="token operator">not</span> ACCEPT<span class="token operator">/</span>FINITE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="syntax-analysis&#x8BED;&#x6CD5;&#x5206;&#x6790;"><a name="syntax-analysis&#x8BED;&#x6CD5;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#syntax-analysis&#x8BED;&#x6CD5;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>4. Syntax Analysis(&#x8BED;&#x6CD5;&#x5206;&#x6790;)</h2>
<p>Tokens + Grammar --Syntax Analysis--&gt; AST(Abstract Syntax Tree)</p>
<h3 id="&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;"><a name="&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. &#x81EA;&#x9876;&#x5411;&#x4E0B;&#x5206;&#x6790;</h3>
<ul>
<li>&#x4ECE;&#x5F00;&#x59CB;&#x7B26;&#x53F7;&#x51FA;&#x53D1;&#x63A8;&#x5BFC;&#x4EFB;&#x610F;&#x53E5;&#x5B50; t, &#x4E0E;&#x7ED9;&#x5B9A;&#x53E5;&#x5B50; s &#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x5206;&#x6790;</li>
<li>&#x5229;&#x7528;&#x5206;&#x6790;&#x6811;&#x8FDB;&#x884C;&#x9010;&#x53F6;&#x5B50;&#x5339;&#x914D;, &#x82E5;&#x5339;&#x914D;&#x5931;&#x8D25;&#x5219;&#x8FDB;&#x884C;&#x56DE;&#x6EAF;</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">bool</span> <span class="token function">top_down_parsing</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  stack <span class="token operator">=</span> <span class="token punctuation">[</span>S<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>stack <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span> is a terminal t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t <span class="token operator">==</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token function">pop</span><span class="token punctuation">(</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">backtrack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span> is a nonterminal T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">push</span><span class="token punctuation">(</span>T next expansion<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x81EA;&#x53F3;&#x5411;&#x5DE6;&#x538B;&#x6808;, e.g pop(S), push(N_right), push(V), push(N_left)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> i <span class="token operator">&gt;=</span> tokens<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token function">is_empty</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x907F;&#x514D;&#x56DE;&#x6EAF;"><a name="&#x907F;&#x514D;&#x56DE;&#x6EAF;" class="anchor-navigation-ex-anchor" href="#&#x907F;&#x514D;&#x56DE;&#x6EAF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x907F;&#x514D;&#x56DE;&#x6EAF;" class="plugin-anchor" href="#&#x907F;&#x514D;&#x56DE;&#x6EAF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x907F;&#x514D;&#x56DE;&#x6EAF;</h4>
<p>&#x5229;&#x7528;&#x524D;&#x770B;&#x7B26;&#x53F7;&#x907F;&#x514D;&#x56DE;&#x6EAF;</p>
<pre class="language-"><code class="lang-c">Sentence <span class="token operator">-&gt;</span> Noun Verb Noun
Noun <span class="token operator">-&gt;</span> sheep
  <span class="token operator">|</span> tiger
  <span class="token operator">|</span> grass
  <span class="token operator">|</span> water
Verb <span class="token operator">-&gt;</span> eat
  <span class="token operator">|</span> drink
</code></pre>
<blockquote>
<p>tiger eat water: &#x5411;&#x524D;&#x770B;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x63A8;&#x5BFC;&#x51FA;&#x7684;&#x6240;&#x6709;&#x7EC8;&#x7ED3;&#x7B26;&#x4E2D;&#x5339;&#x914D; tiger &#x7684;&#x7EC8;&#x7ED3;&#x7B26;;
&#x4E0D;&#x5411;&#x524D;&#x770B;,&#x5219;&#x5148;&#x63A8;&#x5BFC; N, &#x518D;&#x63A8;&#x5BFC; n, &#x4F46; n &#x4E0D;&#x4E00;&#x5B9A;&#x5339;&#x914D; tiger, &#x5219;&#x9700;&#x8FDB;&#x884C;&#x56DE;&#x6EAF;;
&#x5411;&#x524D;&#x770B;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;, &#x76F4;&#x63A5;&#x63A8;&#x5BFC; N --&gt; n, &#x540C;&#x65F6;&#x76F4;&#x63A5;&#x627E;&#x5BFB;&#x5339;&#x914D; tiger &#x7684;&#x7EC8;&#x7ED3;&#x7B26;</p>
</blockquote>
<pre class="language-"><code class="lang-c">S <span class="token operator">-&gt;</span> N V N
N <span class="token operator">-&gt;</span> <span class="token punctuation">(</span>sheep<span class="token punctuation">)</span>tiger
V <span class="token operator">-&gt;</span> eat
N <span class="token operator">-&gt;</span> <span class="token punctuation">(</span>sheep<span class="token operator">-</span>tiger<span class="token operator">-</span>grass<span class="token punctuation">)</span>water
</code></pre>
<h4 id="&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;recursive-descent&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;"><a name="&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;recursive-descent&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;recursive-descent&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;recursive-descent&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;" class="plugin-anchor" href="#&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;recursive-descent&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x5206;&#x6790;&#x7B97;&#x6CD5;(Recursive Descent/&#x9884;&#x6D4B;&#x5206;&#x6790;&#x7B97;&#x6CD5;)</h4>
<ul>
<li>&#x5206;&#x6CBB;&#x7B97;&#x6CD5;: &#x6BCF;&#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x6784;&#x9020;&#x4E00;&#x4E2A;<strong>&#x5206;&#x6790;&#x51FD;&#x6570;</strong></li>
<li>&#x524D;&#x770B;&#x7B26;&#x53F7;: &#x7528;<strong>&#x524D;&#x770B;&#x7B26;&#x53F7;</strong>&#x6307;&#x5BFC;&#x4EA7;&#x751F;&#x5F0F;&#x89C4;&#x5219;&#x7684;&#x9009;&#x62E9;(expansion)</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token function">parse_S</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">parse_N</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">parse_V</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">parse_N</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">parse_N</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">==</span> s<span class="token operator">|</span>t<span class="token operator">|</span>g<span class="token operator">|</span>w<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">parse_V</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">==</span> e<span class="token operator">|</span>d<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;"><a name="&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;" class="plugin-anchor" href="#&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;</h5>
<ul>
<li>tip one: use save pointer to implement roll back</li>
<li>tip two: use logical OR expression to replace nested if-else structure</li>
</ul>
<pre class="language-"><code class="lang-c">bool <span class="token function">term</span><span class="token punctuation">(</span>TOKEN tok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>next<span class="token operator">++</span> <span class="token operator">==</span> tok<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">E1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">E2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">&amp;&amp;</span> <span class="token function">term</span><span class="token punctuation">(</span>PLUS<span class="token punctuation">)</span>
        <span class="token operator">&amp;&amp;</span> <span class="token function">E</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">E</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// roll back pointer</span>
    TOKEN <span class="token operator">*</span>save <span class="token operator">=</span> next<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>next <span class="token operator">=</span> save<span class="token punctuation">,</span> <span class="token function">E1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> <span class="token punctuation">(</span>next <span class="token operator">=</span> save<span class="token punctuation">,</span> <span class="token function">E2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">T1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">term</span><span class="token punctuation">(</span>INT<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">T2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">term</span><span class="token punctuation">(</span>INT<span class="token punctuation">)</span>
        <span class="token operator">&amp;&amp;</span> <span class="token function">term</span><span class="token punctuation">(</span>TIMES<span class="token punctuation">)</span>
        <span class="token operator">&amp;&amp;</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">T3</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">term</span><span class="token punctuation">(</span>OPEN<span class="token punctuation">)</span>
        <span class="token operator">&amp;&amp;</span> <span class="token function">E</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">&amp;&amp;</span> <span class="token function">term</span><span class="token punctuation">(</span>CLOSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">T</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// roll back pointer</span>
    TOKEN <span class="token operator">*</span>save <span class="token operator">=</span> next<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>next <span class="token operator">=</span> save<span class="token punctuation">,</span> <span class="token function">T1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> <span class="token punctuation">(</span>next <span class="token operator">=</span> save<span class="token punctuation">,</span> <span class="token function">T2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> <span class="token punctuation">(</span>next <span class="token operator">=</span> save<span class="token punctuation">,</span> <span class="token function">T3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token comment">// X -&gt; a</span>
<span class="token comment">//  | XX</span>
<span class="token comment">//  | aXXX</span>
<span class="token comment">//  | aXXXXb</span>
<span class="token function">parse_X</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  token <span class="token operator">=</span> <span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">:</span> <span class="token comment">// i: token == atom_char or parse_XX();</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">:</span> <span class="token comment">// j: token == atom_char, token = nextToken(), parse_XXX();</span>
    <span class="token comment">// k: token == atom_char, token = nextToken(),</span>
    <span class="token comment">// parse_XXXX(), token=nextToken(), token == b</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">:</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="ll1&#x5206;&#x6790;&#x7B97;&#x6CD5;"><a name="ll1&#x5206;&#x6790;&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#ll1&#x5206;&#x6790;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ll1&#x5206;&#x6790;&#x7B97;&#x6CD5;" class="plugin-anchor" href="#ll1&#x5206;&#x6790;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>LL(1)&#x5206;&#x6790;&#x7B97;&#x6CD5;</h4>
<ul>
<li>&#x4ECE;&#x5DE6;(L)&#x5411;&#x53F3;&#x8BFB;&#x5165;&#x7A0B;&#x5E8F;(left to right scan)</li>
<li>&#x6700;&#x5DE6;(L)&#x63A8;&#x5BFC;: &#x4F18;&#x5148;&#x63A8;&#x5BFC;&#x6700;&#x5DE6;&#x4FA7;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;(leftmost derivation)</li>
<li>&#x4E00;&#x4E2A;(1)&#x524D;&#x770B;&#x7B26;&#x53F7;(look ahead)</li>
<li>&#x5206;&#x6CBB;&#x7B97;&#x6CD5;: &#x6BCF;&#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x6784;&#x9020;&#x4E00;&#x4E2A;<strong>first set</strong> &#x548C;&#x4E00;&#x4E2A; <strong>follow set</strong>, &#x6700;&#x540E;&#x4E3A;&#x6BCF;&#x4E2A;&#x89C4;&#x5219;&#x6784;&#x9020;&#x4E00;&#x4E2A; <strong>select set</strong></li>
<li>&#x5206;&#x6790;&#x8868;&#x9A71;&#x52A8;(&#x7531; first sets/follow sets/select sets &#x63A8;&#x5BFC;&#x5206;&#x6790;&#x8868;)</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">bool</span> <span class="token function">ll1_parsing</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  stack <span class="token operator">=</span> <span class="token punctuation">[</span>S<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>stack <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span> is a terminal t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t <span class="token operator">==</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token function">pop</span><span class="token punctuation">(</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span> is a nonterminal T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// push(T correct expansion);</span>
      <span class="token comment">// &#x81EA;&#x53F3;&#x5411;&#x5DE6;&#x538B;&#x6808;, e.g pop(S), push(N_right), push(V), push(N_left)</span>
      <span class="token function">push</span><span class="token punctuation">(</span>select_table<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">[</span>tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> &#x5BF9;&#x5E94;&#x9879;<span class="token punctuation">(</span>&#x89C4;&#x5219;&#x7F16;&#x53F7;<span class="token punctuation">)</span>&#x6240;&#x5BF9;&#x5E94;&#x89C4;&#x5219;&#x7684;&#x53F3;&#x8FB9;&#x5F0F;&#x5B50;<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> i <span class="token operator">&gt;=</span> tokens<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token function">is_empty</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="nullable-sets"><a name="nullable-sets" class="anchor-navigation-ex-anchor" href="#nullable-sets"><i class="fa fa-link" aria-hidden="true"></i></a><a name="nullable-sets" class="plugin-anchor" href="#nullable-sets"><i class="fa fa-link" aria-hidden="true"></i></a>nullable sets</h5>
<ul>
<li>&#x5B58;&#x5728;&#x89C4;&#x5219;: X -&gt; epsilon</li>
<li>&#x6216;&#x8005; : X -&gt; Y1Y2...Yn, &#x4E14;&#x5B58;&#x5728;&#x89C4;&#x5219; Y1 -&gt; epsilon, ..., Yn -&gt; epsilon</li>
<li>&#x5373; : X -*&gt; epsilon (epsilon &lt;- first(X))</li>
</ul>
<pre class="language-"><code class="lang-cpp">nullable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>nullable is still changing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foreach</span> <span class="token punctuation">(</span>production p<span class="token operator">:</span> X <span class="token operator">-&gt;</span> beta<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>beta <span class="token operator">==</span> epsilon<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>beta <span class="token operator">==</span> Y1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Yn
      <span class="token operator">&amp;&amp;</span> Y1 <span class="token operator">&lt;</span><span class="token operator">-</span> nullable <span class="token operator">&amp;&amp;</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">&amp;&amp;</span> Yn <span class="token operator">&lt;</span><span class="token operator">-</span> nullable<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      nullable <span class="token operator">+=</span> X<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="first-sets"><a name="first-sets" class="anchor-navigation-ex-anchor" href="#first-sets"><i class="fa fa-link" aria-hidden="true"></i></a><a name="first-sets" class="plugin-anchor" href="#first-sets"><i class="fa fa-link" aria-hidden="true"></i></a>first sets</h5>
<p>first(X) = {t | X -<em>&gt; talpha} U {epsilon | X-</em>&gt;epsilon} :</p>
<ul>
<li>first(t) = {t}</li>
<li>epsilon&lt;-first(X): X -&gt; epsilon or X -&gt; A1...An, epsilon&lt;-first(Ai)</li>
<li>first(alpha)&lt;-first(X): X -&gt; A1..Analpha, epsilon&lt;-first(Ai)</li>
</ul>
<p>first sets &#x4E0D;&#x52A8;&#x70B9;&#x7B97;&#x6CD5;:</p>
<pre class="language-"><code class="lang-cpp"><span class="token function">foreach</span> <span class="token punctuation">(</span>nonterminal N<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">first</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>some sets is changing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foreach</span> <span class="token punctuation">(</span>production p<span class="token operator">:</span> N<span class="token operator">-&gt;</span>beta1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>betan<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">foreach</span> <span class="token punctuation">(</span>betai from beta1 upto betan<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>betai <span class="token operator">==</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// e.g N-&gt;abX: first(N) += {a}</span>
        <span class="token function">first</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span> <span class="token operator">+=</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>betai <span class="token operator">==</span> M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">first</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span> <span class="token operator">+=</span> <span class="token function">first</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>M is <span class="token operator">not</span> in nullable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token comment">// else continue this loop to add first(beta_next) into first(N)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">Nonterminal</th>
<th style="text-align:left">First Set</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">{s, t, g, w}</td>
</tr>
<tr>
<td style="text-align:left">N</td>
<td style="text-align:left">{s, t, g, w}</td>
</tr>
<tr>
<td style="text-align:left">V</td>
<td style="text-align:left">{e, d}</td>
</tr>
</tbody>
</table>
<h5 id="follow-sets"><a name="follow-sets" class="anchor-navigation-ex-anchor" href="#follow-sets"><i class="fa fa-link" aria-hidden="true"></i></a><a name="follow-sets" class="plugin-anchor" href="#follow-sets"><i class="fa fa-link" aria-hidden="true"></i></a>follow sets</h5>
<p>follow(X) = {t | S -*&gt; beta X t epsilon} :</p>
<ul>
<li>for X -&gt; AB:<ul>
<li>first(B) &lt;- follow(A), follow(X) &lt;- follow(B)</li>
<li>if B -*&gt; epsilon: follow(X) &lt;- follow(A)</li>
</ul>
</li>
<li>A -&gt; alpha X beta: first(beta) - {epsilon} &lt;- follow(X)</li>
<li>$ &lt;- follow(S)</li>
</ul>
<p>follow sets &#x4E0D;&#x52A8;&#x70B9;&#x7B97;&#x6CD5;:</p>
<pre class="language-"><code class="lang-cpp"><span class="token function">foreach</span> <span class="token punctuation">(</span>nonterminal N<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">follow</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>some sets is changing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foreach</span> <span class="token punctuation">(</span>production p<span class="token operator">:</span> N<span class="token operator">-&gt;</span>beta1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>betan<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// temp: follow(left) &lt;- follow(right)</span>
    temp <span class="token operator">=</span> <span class="token function">follow</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">foreach</span> <span class="token punctuation">(</span>betai from betan downto beta1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>betai <span class="token operator">==</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        temp <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>betai <span class="token operator">==</span> M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">follow</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span> <span class="token operator">+=</span> temp
        temp <span class="token operator">=</span> <span class="token punctuation">(</span>M is <span class="token operator">not</span> nullable<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token function">first</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>temp <span class="token operator">+</span> <span class="token function">first</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="select-sets"><a name="select-sets" class="anchor-navigation-ex-anchor" href="#select-sets"><i class="fa fa-link" aria-hidden="true"></i></a><a name="select-sets" class="plugin-anchor" href="#select-sets"><i class="fa fa-link" aria-hidden="true"></i></a>select sets</h5>
<ul>
<li>&#x5F53; N -&gt; Y1...Yn &#x53F3;&#x8FB9; Y &#x5168;&#x4E3A; nullable &#x65F6;, select(p) += follow(N)</li>
</ul>
<p>select sets &#x4E0D;&#x52A8;&#x70B9;&#x7B97;&#x6CD5;:</p>
<pre class="language-"><code class="lang-cpp"><span class="token function">foreach</span> <span class="token punctuation">(</span>production p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">select</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">calculate_select_set</span><span class="token punctuation">(</span>production p<span class="token operator">:</span> N<span class="token operator">-&gt;</span>beta1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>betan<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foreach</span> <span class="token punctuation">(</span>betai from beta1 upto betan<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>betai <span class="token operator">==</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">select</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">+=</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>betai <span class="token operator">==</span> M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">select</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">+=</span> <span class="token function">first</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>M is <span class="token operator">not</span> in nullable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// all betas are in nullable (&#x5F53;&#x524D;&#x89C4;&#x5219;&#x7684;&#x6240;&#x6709;&#x53F3;&#x8FB9;&#x7B26;&#x53F7;&#x90FD;&#x662F;&#x53EF;&#x7A7A;&#x96C6;)</span>
  <span class="token comment">//&#x3000;&#x6545;, select(p) &#x5FC5;&#x987B;&#x5305;&#x62EC; follow(M) (&#x5F53;&#x63A8;&#x5BFC;&#x51FA;&#x53F3;&#x8FB9;&#x7B26;&#x53F7;&#x90FD;&#x4E3A;&#x7A7A;&#x65F6;, first(p) &#x5373;&#x4E3A; follow(M))</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">first</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span> <span class="token operator">+=</span> <span class="token function">follow</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x5206;&#x6790;&#x8868;"><a name="&#x5206;&#x6790;&#x8868;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x6790;&#x8868;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x6790;&#x8868;" class="plugin-anchor" href="#&#x5206;&#x6790;&#x8868;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x6790;&#x8868;</h5>
<ul>
<li>&#x7ED3;&#x5408; nullable sets &#x51C6;&#x786E;&#x6C42;&#x51FA; first sets</li>
<li>&#x518D;&#x5229;&#x7528; first sets &#x51C6;&#x786E;&#x6C42;&#x51FA; follow sets</li>
<li>&#x518D;&#x5229;&#x7528; first sets, &#x5E76;&#x7ED3;&#x5408; follow sets(&#x5168;&#x7A7A;&#x96C6;&#x4FEE;&#x6B63;) &#x51C6;&#x786E;&#x6C42;&#x51FA; &#x5206;&#x6790;&#x8868;:</li>
</ul>
<pre class="language-"><code class="lang-c"><span class="token number">0</span><span class="token operator">:</span> z <span class="token operator">-&gt;</span> d
<span class="token number">1</span><span class="token operator">:</span> <span class="token operator">|</span> X Y Z
<span class="token number">2</span><span class="token operator">:</span> Y <span class="token operator">-&gt;</span> c
<span class="token number">3</span><span class="token operator">:</span> <span class="token operator">|</span>
<span class="token number">4</span><span class="token operator">:</span> X <span class="token operator">-&gt;</span> Y
<span class="token number">5</span><span class="token operator">:</span> <span class="token operator">|</span> a
</code></pre>
<p>nullable = {X, Y}</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">X</th>
<th style="text-align:left">Y</th>
<th style="text-align:left">Z</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">first</td>
<td style="text-align:left">{a, c}</td>
<td style="text-align:left">{c}</td>
<td style="text-align:left">{a, c, d}</td>
</tr>
<tr>
<td style="text-align:left">follow</td>
<td style="text-align:left">{a, c, d}</td>
<td style="text-align:left">{a, c, d}</td>
<td style="text-align:left">{}</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">production</th>
<th style="text-align:left">0</th>
<th style="text-align:left">1</th>
<th style="text-align:left">2</th>
<th style="text-align:left">3</th>
<th style="text-align:left">4</th>
<th style="text-align:left">5</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">select</td>
<td style="text-align:left">{d}</td>
<td style="text-align:left">{a, c, d}</td>
<td style="text-align:left">{c}</td>
<td style="text-align:left">{a, c, d}</td>
<td style="text-align:left">{a, c, d}</td>
<td style="text-align:left">{a}</td>
</tr>
</tbody>
</table>
<p>|Non\Terminal|a|c|d|
|Z|1|1|0, 1|
|Y|3|2, 3|3|
|X|4, 5|4|4|</p>
<blockquote>
<p>&#x6570;&#x5B57;&#x4E3A;&#x89C4;&#x5219;&#x7F16;&#x53F7;</p>
</blockquote>
<h5 id="&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;"><a name="&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;" class="anchor-navigation-ex-anchor" href="#&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;" class="plugin-anchor" href="#&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x89E3;&#x51B3;&#x51B2;&#x7A81;(&#x5206;&#x6790;&#x8868;&#x67D0;&#x9879;&#x6709;&#x591A;&#x4E2A;&#x7F16;&#x53F7;)</h5>
<p>&#x901A;&#x8FC7;&#x6587;&#x6CD5;&#x91CD;&#x5199;&#x6D88;&#x9664;&#x5DE6;&#x9012;&#x5F52;, &#x4F7F;&#x6587;&#x6CD5;&#x9002;&#x5E94; L(&#x6700;&#x5DE6;&#x63A8;&#x5BFC;):</p>
<ul>
<li>&#x6539;&#x5199;&#x6210;&#x53F3;&#x9012;&#x5F52;&#x6587;&#x6CD5;</li>
<li>&#x89C4;&#x5B9A;&#x4F18;&#x5148;&#x7EA7;&#x4E0E;&#x7ED3;&#x5408;&#x6027;</li>
<li>&#x63D0;&#x53D6;&#x5DE6;&#x516C;&#x56E0;&#x5F0F;(Common Prefix)</li>
</ul>
<pre class="language-"><code class="lang-c">E <span class="token operator">-&gt;</span> T<span class="token operator">+</span>E
    <span class="token operator">|</span>T

E <span class="token operator">-&gt;</span> TX
X <span class="token operator">-&gt;</span> <span class="token operator">+</span>E
    <span class="token operator">|</span>epsilon
</code></pre>
<h6 id="&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;"><a name="&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;" class="anchor-navigation-ex-anchor" href="#&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;" class="plugin-anchor" href="#&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;</h6>
<pre class="language-"><code class="lang-c">S <span class="token operator">-&gt;</span> Salpha1
    <span class="token operator">|</span>Salpha2
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token operator">|</span>Salphan
    <span class="token operator">|</span>beta1
    <span class="token operator">|</span>beta2
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token operator">|</span>betam

S <span class="token operator">-&gt;</span> beta1S&apos;
    <span class="token operator">|</span>beta2S&apos;
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token operator">|</span>betanS&apos;
S<span class="token string">&apos;-&gt; alpha1S&apos;</span>
    <span class="token operator">|</span>alpha2S&apos;
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token operator">|</span>alphanS&apos;
    <span class="token operator">|</span>epsilon
</code></pre>
<h6 id="&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;"><a name="&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;" class="anchor-navigation-ex-anchor" href="#&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;" class="plugin-anchor" href="#&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D88;&#x9664;&#x95F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;</h6>
<ul>
<li>&#x628A;&#x6587;&#x6CD5; G &#x7684;&#x6240;&#x6709;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x6309;&#x4EFB;&#x4E00;&#x987A;&#x5E8F;&#x6392;&#x5217;, e.g A1, A2, &#x2026;, An</li>
<li>&#x6D88;&#x9664; Ai &#x89C4;&#x5219;&#x4E2D;&#x7684;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;: &#x628A;&#x5F62;&#x5982; Ai&#x2192;Aj&#x3B3; &#x7684;&#x4EA7;&#x751F;&#x5F0F;
&#x6539;&#x5199;&#x6210; Ai&#x2192;&#x3B4;1&#x3B3; /&#x3B4;2&#x3B3; /&#x2026;/&#x3B4;k&#x3B3;(&#x5176;&#x4E2D; Aj&#x2192;&#x3B4;1 /&#x3B4;2 /&#x2026;/&#x3B4;k &#x662F;&#x5173;&#x4E8E;&#x7684; Aj &#x5168;&#x90E8;&#x89C4;&#x5219;)</li>
<li>&#x53BB;&#x6389;&#x591A;&#x4F59;&#x7684;&#x89C4;&#x5219;(&#x4E0D;&#x53EF;&#x8FBE;&#x89C4;&#x5219;)</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">WF</span> <span class="token punctuation">{</span>
    string left<span class="token punctuation">;</span> <span class="token comment">//&#x5B9A;&#x4E49;&#x4EA7;&#x751F;&#x5F0F;&#x7684;&#x5DE6;&#x90E8;</span>
    string right<span class="token punctuation">;</span> <span class="token comment">//&#x5B9A;&#x4E49;&#x4EA7;&#x751F;&#x5F0F;&#x7684;&#x53F3;&#x90E8;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * count: number of non-terminal symbols
 */</span>
<span class="token keyword">void</span> <span class="token function">Removing</span><span class="token punctuation">(</span>WF <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>q<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">,</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> count1 <span class="token operator">=</span> n<span class="token punctuation">;</span>
    <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// &#x5224;&#x65AD;&#x7B2C;&#x4E00;&#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x662F;&#x5426;&#x5B58;&#x5728;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52; if(p[i].left[0]==q[0])</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flag<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token comment">// &#x5982;&#x679C;&#x5B58;&#x5728;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;&#x5219;&#x6D88;&#x9664;&#x76F4;&#x63A5;&#x5DE6;&#x9012;&#x5F52;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  string str<span class="token punctuation">;</span>
                    str <span class="token operator">=</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x53D6;&#x53F3;&#x90E8;&#x7B2C;&#x4E8C;&#x4F4D;&#x5F00;&#x59CB;&#x7684;&#x5B57;&#x4E32;&#x8D4B;&#x7ED9;str</span>

                    <span class="token comment">// E-&gt;E+T =&gt; E&apos;-&gt;+TE&apos;</span>
                    string temp <span class="token operator">=</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                    string temp1 <span class="token operator">=</span> <span class="token string">&quot;&apos;&quot;</span><span class="token punctuation">;</span>
                    p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left <span class="token operator">=</span> temp<span class="token operator">+</span>temp1<span class="token punctuation">;</span>
                    p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">=</span> str<span class="token operator">+</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// E-&gt;T =&gt; E-&gt;TE&apos;</span>
                    string temp<span class="token operator">=</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                    string temp1<span class="token operator">=</span><span class="token string">&quot;&apos;&quot;</span><span class="token punctuation">;</span>
                    temp<span class="token operator">=</span>temp<span class="token operator">+</span>temp1<span class="token punctuation">;</span>
                    p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">=</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">+</span>temp<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        string str<span class="token operator">=</span><span class="token string">&quot;&apos;&quot;</span><span class="token punctuation">;</span>
        p<span class="token punctuation">[</span>count1<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">=</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>str<span class="token punctuation">;</span>
        p<span class="token punctuation">[</span>count1<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">=</span><span class="token string">&quot;&#x3B5;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


  <span class="token comment">// &#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x8FED;&#x4EE3;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token comment">// &#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x5C0F;&#x4E8E; i &#x7684;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token comment">// &#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x4EA7;&#x751F;&#x5F0F;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> g <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> g <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> g<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

              <span class="token comment">// i &#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x4E0E;&#x7B2C; g &#x4EA7;&#x751F;&#x5F0F;&#x5DE6;&#x8FB9;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x76F8;&#x7B49;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token comment">// g &#x4EA7;&#x751F;&#x5F0F;&#x53F3;&#x8FB9;&#x4EA7;&#x751F;&#x5F0F;&#x7B2C;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x4E0E;&#x7B2C; j &#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x76F8;&#x7B49;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> h <span class="token operator">&lt;</span> n<span class="token operator">*</span>n<span class="token punctuation">;</span> h<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>h<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                              <span class="token operator">&amp;&amp;</span> <span class="token keyword">int</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>h<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                string str<span class="token punctuation">;</span>
                                str <span class="token operator">=</span> p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>
                                  <span class="token number">1</span><span class="token punctuation">,</span>
                                  <span class="token keyword">int</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">length</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                p<span class="token punctuation">[</span><span class="token operator">++</span>count1<span class="token punctuation">]</span><span class="token punctuation">.</span>left <span class="token operator">=</span> p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                                p<span class="token punctuation">[</span>count1<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">=</span> p<span class="token punctuation">[</span>h<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">+</span> str<span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
                        p<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token comment">// &#x53BB;&#x9664;&#x95F4;&#x63A5;&#x9012;&#x5F52;&#x4EA7;&#x751F;&#x5F0F;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token operator">*</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    flag<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token operator">*</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        string str<span class="token punctuation">;</span>
                        str <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        string temp <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                        string temp1 <span class="token operator">=</span> <span class="token string">&quot;&apos;&quot;</span><span class="token punctuation">;</span>
                        p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left <span class="token operator">=</span> temp <span class="token operator">+</span> temp1<span class="token punctuation">;</span>
                        p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">=</span> str <span class="token operator">+</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        string temp <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                        string temp1 <span class="token operator">=</span> <span class="token string">&quot;&apos;&quot;</span><span class="token punctuation">;</span>
                        temp <span class="token operator">=</span> temp <span class="token operator">+</span> temp1<span class="token punctuation">;</span>
                        p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">+</span> temp<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            string str <span class="token operator">=</span> <span class="token string">&quot;&apos;&quot;</span><span class="token punctuation">;</span>
            p<span class="token punctuation">[</span><span class="token operator">++</span>count1<span class="token punctuation">]</span><span class="token punctuation">.</span>left <span class="token operator">=</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> str<span class="token punctuation">;</span>
            p<span class="token punctuation">[</span>count1<span class="token punctuation">]</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token string">&quot;&#x3B5;&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Delete</span><span class="token punctuation">(</span>WF <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ofstream <span class="token function">OutFile</span><span class="token punctuation">(</span><span class="token string">&quot;jieguo.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> i<span class="token punctuation">,</span>
      j<span class="token punctuation">,</span>
      flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
      n<span class="token punctuation">;</span>

    cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x6CD5;&#x4EA7;&#x751F;&#x5F0F;&#x4E2A;&#x6570;n&#xFF1A;&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>
    WF <span class="token operator">*</span>p<span class="token operator">=</span><span class="token keyword">new</span> WF<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x6CD5;&#x7684;&#x4E2A;&#x4EA7;&#x751F;&#x5F0F;&#xFF1A;&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// input productions</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cin<span class="token operator">&gt;&gt;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;-&gt;&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    OutFile<span class="token operator">&lt;&lt;</span><span class="token string">&quot;&#x5373;&#x8F93;&#x5165;&#x7684;&#x6587;&#x6CD5;&#x4EA7;&#x751F;&#x5F0F;&#x4E3A;&#xFF1A;&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>

    <span class="token comment">// cout&lt;&lt;&quot;&#x5373;&#x8F93;&#x5165;&#x7684;&#x6587;&#x6CD5;&#x4EA7;&#x751F;&#x5F0F;&#x4E3A;&#xFF1A;&quot;&lt;&lt;endl;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// cout&lt;&lt;p[i].left&lt;&lt;&quot;--&gt;&quot;&lt;&lt;p[i].right&lt;&lt;endl;</span>
        OutFile<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">&lt;&lt;</span><span class="token string">&quot;--&gt;&quot;</span><span class="token operator">&lt;&lt;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    OutFile<span class="token operator">&lt;&lt;</span><span class="token string">&quot;*********************&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>

    <span class="token comment">// cout&lt;&lt;&quot;*********************&quot;&lt;&lt;endl;</span>
    <span class="token keyword">char</span> q<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// &#x5BF9;&#x4EA7;&#x751F;&#x5F0F;&#x7684;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x6392;&#x5E8F;&#x5E76;&#x5B58;&#x53D6;&#x5728;&#x5B57;&#x7B26;&#x6570;&#x7EC4;q</span>
    q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &#x628A;&#x4EA7;&#x751F;&#x5F0F;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x5B58;&#x5165;q&#x4E2D;</span>

  <span class="token comment">// &#x5BF9;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x6392;&#x5E8F;&#x5E76;&#x5B58;&#x53D6;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x6839;&#x636E;j&lt;i&#x5FAA;&#x73AF;&#x907F;&#x514D;&#x91CD;&#x590D;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;&#x56E0;&#x6B64;&#x7531;&#x6807;&#x5FD7;&#x4F4D;&#x5224;&#x65AD;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">==</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              flag<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// &#x6CA1;&#x6709;&#x91CD;&#x590D;&#x52A0;&#x5165;q&#x6570;&#x7EC4;&#x4E2D;</span>
            q<span class="token punctuation">[</span>count<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    count<span class="token operator">--</span><span class="token punctuation">;</span>

  <span class="token comment">// &#x8C03;&#x7528;&#x6D88;&#x9664;&#x9012;&#x5F52;&#x5B50;&#x51FD;&#x6570;</span>
    <span class="token function">Removing</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>q<span class="token punctuation">,</span>n<span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x5220;&#x9664;&#x65E0;&#x7528;&#x4EA7;&#x751F;&#x5F0F;</span>
    <span class="token function">Delete</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    OutFile<span class="token operator">&lt;&lt;</span><span class="token string">&quot;&#x6D88;&#x9664;&#x9012;&#x5F52;&#x540E;&#x7684;&#x6587;&#x6CD5;&#x4EA7;&#x751F;&#x5F0F;&#x4E3A;&#xFF1A;&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token comment">// cout&lt;&lt;&quot;&#x6D88;&#x9664;&#x9012;&#x5F52;&#x540E;&#x7684;&#x6587;&#x6CD5;&#x4EA7;&#x751F;&#x5F0F;&#x4E3A;&#xFF1A;&quot;&lt;&lt;endl;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token operator">*</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">int</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">length</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                OutFile<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">&lt;&lt;</span><span class="token string">&quot;--&gt;&quot;</span><span class="token operator">&lt;&lt;</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token comment">// cout&lt;&lt;p[j].left&lt;&lt;&quot;--&gt;&quot;&lt;&lt;p[j].right&lt;&lt;endl;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token operator">*</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">int</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">length</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                OutFile<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">&lt;&lt;</span><span class="token string">&quot;--&gt;&quot;</span><span class="token operator">&lt;&lt;</span>p <span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
            <span class="token comment">// cout&lt;&lt;p[j].left&lt;&lt;&quot;--&gt;&quot;&lt;&lt;p[j].right&lt;&lt;endl;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x975E;-ll1-&#x6587;&#x6CD5;&#x8BED;&#x8A00;"><a name="&#x975E;-ll1-&#x6587;&#x6CD5;&#x8BED;&#x8A00;" class="anchor-navigation-ex-anchor" href="#&#x975E;-ll1-&#x6587;&#x6CD5;&#x8BED;&#x8A00;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x975E;-ll1-&#x6587;&#x6CD5;&#x8BED;&#x8A00;" class="plugin-anchor" href="#&#x975E;-ll1-&#x6587;&#x6CD5;&#x8BED;&#x8A00;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x975E; LL(1) &#x6587;&#x6CD5;/&#x8BED;&#x8A00;</h5>
<ul>
<li>ambiguous grammar</li>
<li>left recursive grammar</li>
<li>not left factored grammar(&#x672A;&#x63D0;&#x53D6;&#x5C55;&#x5F00;&#x5F0F;&#x7684;&#x516C;&#x56E0;&#x5B50;)</li>
</ul>
<h3 id="&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;"><a name="&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>4.2. &#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x5206;&#x6790;</h3>
<pre class="language-"><code class="lang-c"><span class="token number">0</span><span class="token operator">:</span> S <span class="token operator">-&gt;</span> E
<span class="token number">1</span><span class="token operator">:</span> E <span class="token operator">-&gt;</span> E <span class="token operator">+</span> T
<span class="token number">2</span><span class="token operator">:</span> <span class="token operator">|</span> T
<span class="token number">3</span><span class="token operator">:</span> T <span class="token operator">-&gt;</span> T <span class="token operator">*</span> F
<span class="token number">4</span><span class="token operator">:</span> <span class="token operator">|</span> F
<span class="token number">5</span><span class="token operator">:</span> F <span class="token operator">-&gt;</span> n
</code></pre>
<pre class="language-"><code class="lang-c"><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">4</span>
<span class="token operator">=</span><span class="token operator">&gt;</span> F <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">4</span>
<span class="token operator">=</span><span class="token operator">&gt;</span> T <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">4</span>
<span class="token operator">=</span><span class="token operator">&gt;</span> E <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">4</span>
<span class="token operator">=</span><span class="token operator">&gt;</span> E <span class="token operator">+</span> T <span class="token operator">*</span> <span class="token number">4</span>
<span class="token operator">=</span><span class="token operator">&gt;</span> E <span class="token operator">+</span> T <span class="token operator">*</span> F
<span class="token operator">=</span><span class="token operator">&gt;</span> E <span class="token operator">+</span> T
<span class="token operator">=</span><span class="token operator">&gt;</span> E
<span class="token operator">=</span><span class="token operator">&gt;</span> S
</code></pre>
<blockquote>
<p>&#x6700;&#x53F3;&#x63A8;&#x5BFC;(&#x4F18;&#x5148;&#x63A8;&#x5BFC;&#x6700;&#x53F3;&#x4FA7;&#x975E;&#x7EC8;&#x7ED3;&#x7B26;)&#x9006;&#x8FC7;&#x7A0B;</p>
</blockquote>
<h4 id="lr0-&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;reduce&#x7B97;&#x6CD5;"><a name="lr0-&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;reduce&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#lr0-&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;reduce&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="lr0-&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;reduce&#x7B97;&#x6CD5;" class="plugin-anchor" href="#lr0-&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;reduce&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>LR(0) &#x5206;&#x6790;&#x7B97;&#x6CD5;(&#x79FB;&#x8FDB;-&#x5F52;&#x7EA6;(reduce)&#x7B97;&#x6CD5;)</h4>
<ul>
<li>&#x4ECE;&#x5DE6;&#x5411;&#x53F3;&#x8BFB;&#x5165;&#x7A0B;&#x5E8F;(left to right scan), &#x9006;&#x5411;&#x6700;&#x53F3;&#x63A8;&#x5BFC;(rightmost derivation), &#x4E0D;&#x7528;&#x524D;&#x770B;&#x7B26;&#x53F7;</li>
<li>&#x6DFB;&#x52A0;&#x4F2A;&#x5F00;&#x59CB;&#x7B26;&#x53F7;: S&apos; -&gt; . S$ <code>$&#x8868;&#x793A; tokens/file &#x7ED3;&#x675F;&#x7B26;</code></li>
<li>&#x79FB;&#x8FDB; : &#x8BFB;&#x5165;&#x8BB0;&#x53F7; <code>push(token[i])</code></li>
<li>&#x5F52;&#x7EA6;(reduce): <code>pop(right expansion)</code> <code>push(left expansion)</code></li>
</ul>
<h5 id="&#x77ED;&#x8BED;handles"><a name="&#x77ED;&#x8BED;handles" class="anchor-navigation-ex-anchor" href="#&#x77ED;&#x8BED;handles"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x77ED;&#x8BED;handles" class="plugin-anchor" href="#&#x77ED;&#x8BED;handles"><i class="fa fa-link" aria-hidden="true"></i></a>&#x77ED;&#x8BED;(Handles)</h5>
<pre class="language-"><code class="lang-c">S <span class="token operator">-</span><span class="token operator">*</span><span class="token operator">&gt;</span> &#x3B1;X&#x3C9; <span class="token operator">-&gt;</span> &#x3B1;&#x3B2;&#x3C9;
</code></pre>
<p>&#x3B2; &#x662F; &#x3B1;&#x3B2;&#x3C9; &#x7684;&#x4E00;&#x4E2A;&#x77ED;&#x8BED;(Handle)</p>
<h5 id="&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;"><a name="&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;" class="plugin-anchor" href="#&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x6790;&#x8868;&#x6784;&#x9020;</h5>
<p>LR(0) &#x5206;&#x6790;&#x8868;&#x6784;&#x9020;&#x7B97;&#x6CD5;: (&#x539F;&#x7406;&#x540C;&#x4E8E; Hopcroft &#x7B97;&#x6CD5;)</p>
<ul>
<li>E -&gt; A, A -&gt; B, B -&gt; C ... :
Recursively, right hand side of C production will be reduced to E finally</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token function">closure</span><span class="token punctuation">(</span>production_set p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p is still changing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">foreach</span> <span class="token punctuation">(</span>p<span class="token number">&apos;</span>s item i<span class="token operator">:</span> A <span class="token operator">-&gt;</span> b <span class="token punctuation">.</span> B <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      p <span class="token operator">+=</span> <span class="token punctuation">{</span>B <span class="token operator">-&gt;</span> <span class="token punctuation">.</span> y<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">goto</span><span class="token punctuation">(</span>production_set p<span class="token punctuation">,</span> token x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">foreach</span> <span class="token punctuation">(</span>p<span class="token number">&apos;</span>s item i<span class="token operator">:</span> A <span class="token operator">-&gt;</span> b <span class="token punctuation">.</span> x<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    temp <span class="token operator">+=</span> <span class="token punctuation">{</span>A <span class="token operator">-&gt;</span> bx <span class="token punctuation">.</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">closure</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-cpp">p0 <span class="token operator">=</span> <span class="token function">closure</span><span class="token punctuation">(</span>S<span class="token string">&apos;&apos;</span> <span class="token operator">-&gt;</span> <span class="token punctuation">.</span> S $<span class="token punctuation">)</span>
<span class="token punctuation">(</span>production_with_dot_<span class="token punctuation">)</span>set <span class="token operator">=</span> <span class="token punctuation">{</span>p0<span class="token punctuation">}</span>
Q <span class="token operator">=</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>p0<span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>Q is <span class="token operator">not</span> empty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  p <span class="token operator">=</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span>

  <span class="token function">foreach</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span><span class="token operator">-</span> Nonterminal<span class="token operator">||</span>Terminal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    q <span class="token operator">=</span> <span class="token keyword">goto</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> x<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span><span class="token operator">-</span> Terminal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ACTION<span class="token punctuation">[</span>p<span class="token punctuation">,</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> q
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      GOTO<span class="token punctuation">[</span>p<span class="token punctuation">,</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> q
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">not</span> <span class="token operator">&lt;</span><span class="token operator">-</span> set<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      set <span class="token operator">+=</span> <span class="token punctuation">{</span>q<span class="token punctuation">}</span>
      <span class="token function">enqueue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x9A71;&#x52A8;&#x4EE3;&#x7801;"><a name="&#x9A71;&#x52A8;&#x4EE3;&#x7801;" class="anchor-navigation-ex-anchor" href="#&#x9A71;&#x52A8;&#x4EE3;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x9A71;&#x52A8;&#x4EE3;&#x7801;" class="plugin-anchor" href="#&#x9A71;&#x52A8;&#x4EE3;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9A71;&#x52A8;&#x4EE3;&#x7801;</h5>
<p>LR(0) &#x9A71;&#x52A8;&#x7B97;&#x6CD5;:</p>
<pre class="language-"><code class="lang-cpp">stack<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">push</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span>
<span class="token function">push</span><span class="token punctuation">(</span>state1<span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  token t <span class="token operator">=</span> <span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  state s <span class="token operator">=</span> stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>ACTION<span class="token punctuation">[</span>s<span class="token punctuation">,</span> t<span class="token punctuation">]</span> <span class="token operator">==</span> shifti<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">push</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    <span class="token function">push</span><span class="token punctuation">(</span>statei<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ACTION<span class="token punctuation">[</span>s<span class="token punctuation">,</span> t<span class="token punctuation">]</span> <span class="token operator">==</span> reducej<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// X is the left side of production j: X-&gt;beta</span>
    <span class="token comment">// beta is the right side of production j: X-&gt;beta</span>

    <span class="token comment">// pop up right side</span>
    <span class="token function">pop</span><span class="token punctuation">(</span>beta <span class="token operator">&amp;&amp;</span> bundle state variables<span class="token punctuation">)</span>

    <span class="token comment">// current state after pop up all bundle state(of beta)</span>
    state s <span class="token operator">=</span> stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span>

    <span class="token comment">// push left side</span>
    <span class="token function">push</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span>

    <span class="token comment">// transfer state after reduce</span>
    <span class="token function">push</span><span class="token punctuation">(</span>GOTO<span class="token punctuation">[</span>s<span class="token punctuation">,</span> X<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x89E3;&#x51B3;&#x51B2;&#x7A81;slrlr1lalr"><a name="&#x89E3;&#x51B3;&#x51B2;&#x7A81;slrlr1lalr" class="anchor-navigation-ex-anchor" href="#&#x89E3;&#x51B3;&#x51B2;&#x7A81;slrlr1lalr"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x89E3;&#x51B3;&#x51B2;&#x7A81;slrlr1lalr" class="plugin-anchor" href="#&#x89E3;&#x51B3;&#x51B2;&#x7A81;slrlr1lalr"><i class="fa fa-link" aria-hidden="true"></i></a>&#x89E3;&#x51B3;&#x51B2;&#x7A81;(SLR/LR(1)/LALR)</h5>
<p>&#x91C7;&#x53D6;&#x4E0E; first/follow/select sets &#x4EE5;&#x53CA; &#x524D;&#x770B;&#x7B26;&#x53F7; &#x7C7B;&#x4F3C;&#x7B56;&#x7565;:</p>
<ul>
<li><code>production_with_dot_set</code> &#x4E2D;&#x7684; item &#x4FEE;&#x6539;&#x4E3A; <code>X -&gt; [beta1 . betan..., a]</code> &#x4E8C;&#x5143;&#x7EC4;</li>
<li>closure(production_set p) &#x4E2D;&#x95ED;&#x5305;&#x89C4;&#x5219;&#x4ECE; <code>X -&gt; [a . Y beta,a]</code>
&#x4FEE;&#x6539;&#x4E3A; <code>Y -&gt; [.y, b]</code> b &lt;- select(beta a)</li>
</ul>
<h4 id="lalrk"><a name="lalrk" class="anchor-navigation-ex-anchor" href="#lalrk"><i class="fa fa-link" aria-hidden="true"></i></a><a name="lalrk" class="plugin-anchor" href="#lalrk"><i class="fa fa-link" aria-hidden="true"></i></a>LALR(k)</h4>
<h4 id="slr"><a name="slr" class="anchor-navigation-ex-anchor" href="#slr"><i class="fa fa-link" aria-hidden="true"></i></a><a name="slr" class="plugin-anchor" href="#slr"><i class="fa fa-link" aria-hidden="true"></i></a>SLR</h4>
<p>Simple LR: improves LR(k) shift/reduce heuristic</p>
<p>New reduce rule:</p>
<ul>
<li>state contains item X -&gt; &#x3B2;.</li>
<li>next_token &lt;- follow(X)</li>
</ul>
<h5 id="slr-&#x5B9E;&#x73B0;"><a name="slr-&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#slr-&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="slr-&#x5B9E;&#x73B0;" class="plugin-anchor" href="#slr-&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>SLR &#x5B9E;&#x73B0;</h5>
<ul>
<li>stack pair: <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input,</span> <span class="token attr-name">state</span><span class="token punctuation">&gt;</span></span></code></li>
<li>state i: if has item X -&gt; &#x3B1;.a&#x3B2; ,
goto[i, a] = j then action[i, a] = shift j(shift then to state j)</li>
<li>state i: if has item <code>X -&gt; &#x3B1;.</code> , <code>a &lt;- follow(X)</code>
then <code>action[i, a] = reduce(X -&gt; &#x3B1;)</code></li>
<li>state i: if has item S&apos; -&gt; S then action[i, $] = accept</li>
<li>otherwise: action[i, a] = error</li>
</ul>
<h3 id="&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;"><a name="&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;" class="anchor-navigation-ex-anchor" href="#&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;"><i class="fa fa-link" aria-hidden="true"></i></a>4.3. &#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;</h3>
<h4 id="&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;syntax-directed-translation"><a name="&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;syntax-directed-translation" class="anchor-navigation-ex-anchor" href="#&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;syntax-directed-translation"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;syntax-directed-translation" class="plugin-anchor" href="#&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;syntax-directed-translation"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;(Syntax-Directed Translation)</h4>
<p>&#x5728;&#x8FDB;&#x884C;&#x5F52;&#x7EA6;(reduce)&#x7684;&#x540C;&#x65F6;, &#x8FDB;&#x884C;&#x8BED;&#x4E49;&#x52A8;&#x4F5C;:</p>
<ul>
<li>&#x7ED9;&#x6BCF;&#x6761;&#x4EA7;&#x751F;&#x89C4;&#x5219;&#x9644;&#x52A0;&#x4E00;&#x4E2A;&#x8BED;&#x4E49;&#x52A8;&#x4F5C;</li>
</ul>
<pre class="language-"><code class="lang-bison">exp <span class="token operator">:</span> exp <span class="token string">&apos;+&apos;</span> exp <span class="token punctuation">{</span> $$ <span class="token operator">=</span> $<span class="token number">1</span> <span class="token operator">+</span> $<span class="token number">3</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">;</span>
</code></pre>
<ul>
<li>&#x5728;&#x5206;&#x6790;&#x6808;&#x4E2D;&#x538B;&#x5165; symbol, value, state (&#x539F;&#x672C;&#x53EA;&#x538B;&#x5165; symbol, state)</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token function">push</span><span class="token punctuation">(</span>right side symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">push</span><span class="token punctuation">(</span>right side value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">push</span><span class="token punctuation">(</span>next state<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="&#x62BD;&#x8C61;&#x8BED;&#x6CD5;"><a name="&#x62BD;&#x8C61;&#x8BED;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x62BD;&#x8C61;&#x8BED;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x62BD;&#x8C61;&#x8BED;&#x6CD5;" class="plugin-anchor" href="#&#x62BD;&#x8C61;&#x8BED;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x62BD;&#x8C61;&#x8BED;&#x6CD5;</h4>
<ul>
<li>&#x8868;&#x8FBE;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x7684;&#x5185;&#x90E8;&#x8868;&#x793A;, &#x4F5C;&#x4E3A;&#x524D;&#x7AEF;(&#x8BCD;&#x6CD5;&#x8BED;&#x6CD5;&#x5206;&#x6790;)&#x548C;&#x540E;&#x7AEF;(&#x4EE3;&#x7801;&#x751F;&#x6210;)&#x7684;&#x4E2D;&#x95F4;&#x4EF6;, tokens --&#x8BED;&#x6CD5;&#x5206;&#x6790;&#x5668;--&gt; &#x62BD;&#x8C61;&#x8BED;&#x6CD5;(&#x6811;) --&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;--&gt; &#x76EE;&#x6807;&#x4EE3;&#x7801;</li>
<li>&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x65E0;&#x9700;&#x8003;&#x8651;&#x5DE6;/&#x53F3;&#x9012;&#x5F52;, &#x5DE6;&#x516C;&#x56E0;&#x5B50;&#x63D0;&#x53D6;, &#x5206;&#x9694;&#x7B26;&#x7B49;</li>
</ul>
<pre class="language-"><code class="lang-c"><span class="token comment">// &#x5177;&#x4F53;&#x8BED;&#x6CD5;</span>
E<span class="token operator">:</span> E <span class="token operator">+</span> T
 <span class="token operator">|</span> T
 <span class="token punctuation">;</span>
T<span class="token operator">:</span> T <span class="token operator">*</span> F
 <span class="token operator">|</span> F
 <span class="token punctuation">;</span>
F<span class="token operator">:</span> n
 <span class="token operator">|</span> <span class="token punctuation">(</span>E<span class="token punctuation">)</span>
 <span class="token punctuation">;</span>

<span class="token comment">// &#x62BD;&#x8C61;&#x8BED;&#x6CD5;</span>
E<span class="token operator">:</span> n
 <span class="token operator">|</span> E <span class="token operator">+</span> E
 <span class="token operator">|</span> E <span class="token operator">*</span> E
</code></pre>
<h4 id="ast-&#x7684;&#x5B9E;&#x73B0;"><a name="ast-&#x7684;&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#ast-&#x7684;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ast-&#x7684;&#x5B9E;&#x73B0;" class="plugin-anchor" href="#ast-&#x7684;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>AST &#x7684;&#x5B9E;&#x73B0;</h4>
<h5 id="&#x6570;&#x636E;&#x7ED3;&#x6784;"><a name="&#x6570;&#x636E;&#x7ED3;&#x6784;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x636E;&#x7ED3;&#x6784;" class="plugin-anchor" href="#&#x6570;&#x636E;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x7ED3;&#x6784;</h5>
<pre class="language-"><code class="lang-c">E<span class="token operator">:</span> n
 <span class="token operator">|</span> E <span class="token operator">+</span> E
 <span class="token operator">|</span> E <span class="token operator">*</span> E
</code></pre>
<pre class="language-"><code class="lang-c"><span class="token keyword">enum</span> <span class="token class-name">kind</span> <span class="token punctuation">{</span>
  E_INT<span class="token punctuation">,</span>
  E_ADD<span class="token punctuation">,</span>
  E_TIMES
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">exp</span> <span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token class-name">kind</span> kind<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">exp_int</span> <span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token class-name">kind</span> kind<span class="token punctuation">;</span>
  <span class="token keyword">int</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">exp_add</span> <span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token class-name">kind</span> kind<span class="token punctuation">;</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp</span> <span class="token operator">*</span>left<span class="token punctuation">;</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp</span> <span class="token operator">*</span>right<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">exp_times</span> <span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token class-name">kind</span> kind<span class="token punctuation">;</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp</span> <span class="token operator">*</span>left<span class="token punctuation">;</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp</span> <span class="token operator">*</span>right<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">exp_int</span> <span class="token operator">*</span><span class="token function">new_exp_int</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp_int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">exp_int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">exp_int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span> throw new <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>kind <span class="token operator">=</span> E_INT<span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">struct</span> <span class="token class-name">exp_add</span> <span class="token operator">*</span><span class="token function">new_exp_add</span><span class="token punctuation">(</span>exp <span class="token operator">*</span>left<span class="token punctuation">,</span> exp <span class="token operator">*</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp_add</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">exp_add</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">exp_add</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span> throw new <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>kind <span class="token operator">=</span> E_ADD<span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>
  <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">struct</span> <span class="token class-name">exp_times</span> <span class="token operator">*</span><span class="token function">new_exp_times</span><span class="token punctuation">(</span>exp <span class="token operator">*</span>left<span class="token punctuation">,</span> exp <span class="token operator">*</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">struct</span> <span class="token class-name">exp_tiems</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">exp_times</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">exp_times</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span> throw new <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>kind <span class="token operator">=</span> E_TIMES<span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>
  p<span class="token operator">-&gt;</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>
  <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x76F8;&#x5173;&#x7B97;&#x6CD5;"><a name="&#x76F8;&#x5173;&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x76F8;&#x5173;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x76F8;&#x5173;&#x7B97;&#x6CD5;" class="plugin-anchor" href="#&#x76F8;&#x5173;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x76F8;&#x5173;&#x7B97;&#x6CD5;</h5>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">int</span> <span class="token function">nodes_num</span><span class="token punctuation">(</span>exp <span class="token operator">*</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> E_INT<span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> E_ADD<span class="token operator">:</span> <span class="token comment">// fall through</span>
    <span class="token keyword">case</span> E_TIMES<span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">nodes_num</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">nodes_num</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token string">&quot;compile bug&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">int</span> <span class="token function">pretty_print</span><span class="token punctuation">(</span>exp <span class="token operator">*</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> E_INT<span class="token operator">:</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> e<span class="token operator">-&gt;</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> E_ADD<span class="token operator">:</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">pretty_print</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">pretty_print</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> E_TIMES<span class="token operator">:</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">pretty_print</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">pretty_print</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SyntaxError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="&#x6784;&#x9020;&#x7B97;&#x6CD5;"><a name="&#x6784;&#x9020;&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x6784;&#x9020;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6784;&#x9020;&#x7B97;&#x6CD5;" class="plugin-anchor" href="#&#x6784;&#x9020;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6784;&#x9020;&#x7B97;&#x6CD5;</h5>
<p>&#x5229;&#x7528;&#x8BED;&#x6CD5;&#x5236;&#x5BFC;&#x7FFB;&#x8BD1;, &#x5728;&#x8BED;&#x6CD5;&#x52A8;&#x4F5C;(action)/&#x8BED;&#x6CD5;&#x5F52;&#x7EA6;(reduce)&#x4E2D;&#x52A0;&#x5165;&#x751F;&#x6210;&#x8BED;&#x6CD5;&#x6811;&#x7684;&#x4EE3;&#x7801;(&#x81EA;&#x5E95;(&#x53F6;&#x5B50;)&#x5411;&#x4E0A;(&#x6839;)&#x6784;&#x9020;&#x51FD;&#x6570;)</p>
<pre class="language-"><code class="lang-c">E<span class="token operator">:</span> E <span class="token operator">+</span> E <span class="token punctuation">{</span> $$ <span class="token operator">=</span> <span class="token function">new_exp_add</span><span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">,</span> $<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
 <span class="token operator">|</span> E <span class="token operator">*</span> E <span class="token punctuation">{</span> $$ <span class="token operator">=</span> <span class="token function">new_exp_times</span><span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">,</span> $<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
 <span class="token operator">|</span> n     <span class="token punctuation">{</span> $$ <span class="token operator">=</span> <span class="token function">new_exp_int</span><span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
 <span class="token punctuation">;</span>
</code></pre>
<h2 id="semantic-analysis&#x8BED;&#x4E49;&#x5206;&#x6790;"><a name="semantic-analysis&#x8BED;&#x4E49;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#semantic-analysis&#x8BED;&#x4E49;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>5. Semantic Analysis(&#x8BED;&#x4E49;&#x5206;&#x6790;)</h2>
<ul>
<li>&#x58F0;&#x660E;&#x68C0;&#x67E5;(identifiers declaration)</li>
<li>&#x5B9A;&#x4E49;&#x68C0;&#x67E5;:<ul>
<li>class &#x4EC5;&#x53EF;&#x5B9A;&#x4E49;&#x4E00;&#x6B21;</li>
<li>method &#x5728;&#x540C;&#x4E00; class &#x4E2D;&#x4EC5;&#x53EF;&#x5B9A;&#x4E49;&#x4E00;&#x6B21;</li>
</ul>
</li>
<li>&#x7C7B;&#x578B;&#x68C0;&#x67E5;(types)</li>
<li>&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;</li>
<li>&#x7EE7;&#x627F;&#x5173;&#x7CFB;(inheritance relationships)</li>
<li>&#x4E0A;&#x4E0B;&#x6587;<strong>&#x76F8;&#x5173;</strong>&#x5206;&#x6790;(&#x68C0;&#x67E5;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;)</li>
</ul>
<p>AST + semantic of programming language --semantic analysis--&gt; intermediate</p>
<p>e.g &#x53D8;&#x91CF;/&#x51FD;&#x6570;&#x5FC5;&#x987B;&#x5148;&#x58F0;&#x660E;&#x518D;&#x4F7F;&#x7528;; &#x6BCF;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x6709;&#x5408;&#x9002;&#x7C7B;&#x578B;(&#x5DE6;&#x503C;/&#x53F3;&#x503C;); &#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E0E;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x4FDD;&#x6301;&#x4E00;&#x81F4;(&#x51FD;&#x6570;&#x7B7E;&#x540D;)</p>
<pre class="language-"><code class="lang-c">P<span class="token operator">:</span> D S
 <span class="token punctuation">;</span>

D<span class="token operator">:</span> T id <span class="token string">&apos;;&apos;</span> D
 <span class="token operator">|</span>
 <span class="token punctuation">;</span>

T<span class="token operator">:</span> <span class="token keyword">int</span>
 <span class="token operator">|</span> bool
 <span class="token punctuation">;</span>

S<span class="token operator">:</span> id <span class="token operator">=</span> E
 <span class="token operator">|</span> <span class="token function">printi</span> <span class="token punctuation">(</span>E<span class="token punctuation">)</span>
 <span class="token operator">|</span> <span class="token function">printb</span> <span class="token punctuation">(</span>E<span class="token punctuation">)</span>
 <span class="token punctuation">;</span>

E<span class="token operator">:</span> n
 <span class="token operator">|</span> id
 <span class="token operator">|</span> true
 <span class="token operator">|</span> false
 <span class="token operator">|</span> E <span class="token operator">+</span> E
 <span class="token operator">|</span> E <span class="token operator">&amp;&amp;</span> E
 <span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;type-system"><a name="&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;type-system" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;type-system"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. &#x7C7B;&#x578B;&#x7CFB;&#x7EDF;(type system)</h3>
<h4 id="type-checking"><a name="type-checking" class="anchor-navigation-ex-anchor" href="#type-checking"><i class="fa fa-link" aria-hidden="true"></i></a><a name="type-checking" class="plugin-anchor" href="#type-checking"><i class="fa fa-link" aria-hidden="true"></i></a>Type Checking</h4>
<p><code>&#x251C; e: T</code> meas e &#x53EF;&#x8BA1;&#x7B97;&#x4E3A;&#x7C7B;&#x578B;&#x4E3A; T &#x7684;&#x503C;</p>
<h4 id="type-environments"><a name="type-environments" class="anchor-navigation-ex-anchor" href="#type-environments"><i class="fa fa-link" aria-hidden="true"></i></a><a name="type-environments" class="plugin-anchor" href="#type-environments"><i class="fa fa-link" aria-hidden="true"></i></a>Type Environments</h4>
<ul>
<li>Object(identifier) = Type</li>
<li><code>O</code> Type environments &#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;, &#x5C06; object identifiers &#x6620;&#x5C04;&#x6210; types</li>
<li><code>O &#x251C; e: T</code> &#x8868;&#x793A;&#x5728; O &#x51FD;&#x6570;&#x4F5C;&#x7528;&#x4E0B;, &#x53EF;&#x8BC1;&#x660E; e &#x7684;&#x7C7B;&#x578B;&#x4E3A; T</li>
</ul>
<pre class="language-"><code class="lang-c"><span class="token comment">// input x</span>
<span class="token comment">// output T</span>
O<span class="token punctuation">[</span>T<span class="token operator">/</span>x<span class="token punctuation">]</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> T

O<span class="token punctuation">[</span>T<span class="token operator">/</span>x<span class="token punctuation">]</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">O</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
</code></pre>
<pre class="language-"><code class="lang-c"><span class="token punctuation">[</span>Var<span class="token punctuation">]</span>
<span class="token function">O</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> T
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
O &#x251C; x<span class="token operator">:</span> T

<span class="token punctuation">[</span>Let without Init<span class="token punctuation">]</span>
O<span class="token punctuation">[</span>T0<span class="token operator">/</span>x<span class="token punctuation">]</span> &#x251C; e1<span class="token operator">:</span> T1
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
O &#x251C; let x<span class="token operator">:</span> T0 in e1<span class="token operator">:</span> T1
</code></pre>
<h4 id="typing-methods"><a name="typing-methods" class="anchor-navigation-ex-anchor" href="#typing-methods"><i class="fa fa-link" aria-hidden="true"></i></a><a name="typing-methods" class="plugin-anchor" href="#typing-methods"><i class="fa fa-link" aria-hidden="true"></i></a>Typing Methods</h4>
<ul>
<li>Method(ClassName, functionName) = (Type1, ..., Typen, Typen+1)</li>
<li>Typen+1 &#x4E3A;&#x8FD4;&#x56DE;&#x503C;&#x7684;&#x7C7B;&#x578B;, &#x5373;&#x65B9;&#x6CD5;&#x81EA;&#x8EAB;&#x7684;&#x7C7B;&#x578B;</li>
</ul>
<pre class="language-"><code class="lang-c"><span class="token punctuation">[</span>Dispatch<span class="token punctuation">]</span>
O<span class="token punctuation">,</span>M &#x251C; e0<span class="token operator">:</span> T0
O<span class="token punctuation">,</span>M &#x251C; e1<span class="token operator">:</span> T1
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
O<span class="token punctuation">,</span>M &#x251C; en<span class="token operator">:</span> Tn
<span class="token function">M</span><span class="token punctuation">(</span>T0<span class="token punctuation">,</span> func<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>T1<span class="token string">&apos;, ..., Tn&apos;</span><span class="token punctuation">,</span> Tn<span class="token operator">+</span><span class="token number">1</span>&apos;<span class="token punctuation">)</span>
Ti <span class="token operator">&lt;=</span> Ti&apos;
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
O<span class="token punctuation">,</span>M &#x251C; e0<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span>e1<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> en<span class="token punctuation">)</span><span class="token operator">:</span> Tn<span class="token operator">+</span><span class="token number">1</span>&apos;
</code></pre>
<h3 id="&#x7B26;&#x53F7;&#x8868;&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;"><a name="&#x7B26;&#x53F7;&#x8868;&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;" class="anchor-navigation-ex-anchor" href="#&#x7B26;&#x53F7;&#x8868;&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. &#x7B26;&#x53F7;&#x8868;(&#x4E0A;&#x4E0B;&#x6587;&#x76F8;&#x5173;)</h3>
<p>&#x7528;&#x6765;&#x5B58;&#x50A8;&#x7A0B;&#x5E8F;&#x4E2D;&#x53D8;&#x91CF;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;:</p>
<ul>
<li>&#x7C7B;&#x578B;: &#x5B57;&#x5178;&#x7ED3;&#x6784; (key, type)</li>
<li>&#x4F5C;&#x7528;&#x57DF;:<ul>
<li>&#x8FDB;&#x5165;&#x4F5C;&#x7528;&#x57DF;, &#x63D2;&#x5165;&#x5143;&#x7D20;(&#x63D2;&#x5165;&#x54C8;&#x5E0C;&#x8868;&#x9996;, &#x5C4F;&#x853D;&#x5916;&#x90E8;&#x540C;&#x540D;&#x53D8;&#x91CF;); &#x79BB;&#x5F00;&#x4F5C;&#x7528;&#x57DF;, &#x5220;&#x9664;&#x5143;&#x7D20;</li>
<li>&#x8FDB;&#x5165;&#x4F5C;&#x7528;&#x57DF;, &#x538B;&#x5165;&#x65B0;&#x7B26;&#x53F7;&#x8868;; &#x79BB;&#x5F00;&#x4F5C;&#x7528;&#x57DF;, &#x5F39;&#x51FA;&#x6808;&#x9876;&#x7B26;&#x53F7;&#x8868;</li>
</ul>
</li>
<li>&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6743;</li>
<li>&#x547D;&#x540D;&#x7A7A;&#x95F4;: &#x53D8;&#x91CF;, &#x6807;&#x7B7E;, &#x5F62;&#x53C2;, &#x6807;&#x53F7; &#x5404;&#x81EA;&#x62E5;&#x6709;&#x4E00;&#x7C7B;&#x7B26;&#x53F7;&#x8868;</li>
</ul>
<p>&#x53EF;&#x5C06;&#x7B26;&#x53F7;&#x8868;&#x5B9E;&#x73B0;&#x4E3A;:</p>
<ul>
<li>&#x54C8;&#x5E0C;&#x8868;: &#x67E5;&#x627E;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6; O(1);</li>
<li>&#x7EA2;&#x9ED1;&#x6811;: &#x67E5;&#x627E;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6; O(lg N);</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">XX_SEMANTIC_TABLE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">XX_SEMANTIC_TABLE_H</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token class-name">type</span> type_t<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span> <span class="token operator">*</span> key_t<span class="token punctuation">;</span>    <span class="token comment">// typedef int hash_t; typedef hash_t key_t;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">value</span> <span class="token punctuation">{</span>
  type_t type<span class="token punctuation">;</span>
  scope_t scope<span class="token punctuation">;</span>
<span class="token punctuation">}</span> value_t<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> table_t<span class="token punctuation">;</span><span class="token comment">// &#x7B26;&#x53F7;&#x8868;&#x6570;&#x636E;&#x7ED3;&#x6784;</span>

table_t <span class="token function">new_table</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">table_insert</span><span class="token punctuation">(</span>table_t table<span class="token punctuation">,</span> key_t id<span class="token punctuation">,</span> value_t info<span class="token punctuation">)</span><span class="token punctuation">;</span>
value_t <span class="token function">table_search</span><span class="token punctuation">(</span>table_t table<span class="token punctuation">,</span> key_t id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre>
<h3 id="&#x7C7B;&#x578B;&#x68C0;&#x67E5;"><a name="&#x7C7B;&#x578B;&#x68C0;&#x67E5;" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x578B;&#x68C0;&#x67E5;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. &#x7C7B;&#x578B;&#x68C0;&#x67E5;</h3>
<ul>
<li>table: &#x5B57;&#x5178;&#x7ED3;&#x6784; (key, type) (Hash Table/Red Black Tree)</li>
<li>type environment(Object, Methods, Class)
is passed from parent to child(down the tree)</li>
<li>types are passed from child to parent(up the tree)</li>
</ul>
<pre class="language-"><code class="lang-cpp"><span class="token function">TypeCheck</span><span class="token punctuation">(</span>Environment<span class="token operator">/</span>OMC<span class="token punctuation">,</span> e1<span class="token operator">+</span>e2<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    T1 <span class="token operator">=</span> <span class="token function">TypeCheck</span><span class="token punctuation">(</span>OMC<span class="token punctuation">,</span> e1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    T2 <span class="token operator">=</span> <span class="token function">TypeCheck</span><span class="token punctuation">(</span>OMC<span class="token punctuation">,</span> e2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Check T1 <span class="token operator">==</span> T2 <span class="token operator">==</span> Int<span class="token punctuation">;</span>
    <span class="token keyword">return</span> Int<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">TypeCheck</span><span class="token punctuation">(</span>OMC<span class="token punctuation">,</span> let x<span class="token operator">:</span> T <span class="token operator">&lt;</span><span class="token operator">-</span> e0 in e1<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    T0 <span class="token operator">=</span> <span class="token function">TypeCheck</span><span class="token punctuation">(</span>OMC<span class="token punctuation">,</span> e0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    T1 <span class="token operator">=</span> <span class="token function">TypeCheck</span><span class="token punctuation">(</span>OMC<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">O</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">=</span>T<span class="token punctuation">)</span><span class="token punctuation">,</span> e1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Check <span class="token function">subtype</span><span class="token punctuation">(</span>T0<span class="token punctuation">,</span> T1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// T0 &lt;= T1</span>
    <span class="token keyword">return</span> T1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">enum</span> <span class="token class-name">type</span> <span class="token punctuation">{</span>INT<span class="token punctuation">,</span> BOOL<span class="token punctuation">}</span><span class="token punctuation">;</span>
table_t table<span class="token punctuation">;</span><span class="token comment">// symbol table</span>

<span class="token comment">// dec_t, stm_t, exp_t: AST &#x4E2D;&#x7684;&#x7ED3;&#x70B9;</span>

<span class="token keyword">enum</span> <span class="token class-name">type</span> <span class="token function">check_prog</span><span class="token punctuation">(</span>dec_t d<span class="token punctuation">,</span> stm_t s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x751F;&#x6210;&#x7B26;&#x53F7;&#x8868;</span>
  table <span class="token operator">=</span> <span class="token function">check_dec</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x6839;&#x636E;&#x7B26;&#x53F7;&#x8868;&#x68C0;&#x67E5;&#x8BED;&#x53E5;</span>
  <span class="token keyword">return</span> <span class="token function">check_stm</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x751F;&#x6210;&#x7B26;&#x53F7;&#x8868;</span>
table_t <span class="token function">check_dec</span><span class="token punctuation">(</span>dec_t d<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">foreach</span><span class="token punctuation">(</span>T id <span class="token operator">&lt;</span><span class="token operator">-</span> d<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">table_insert</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> id<span class="token punctuation">,</span> T<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> <span class="token class-name">type</span> <span class="token function">check_stm</span><span class="token punctuation">(</span>table_t table<span class="token punctuation">,</span> stm_t s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> STM_ASSIGN<span class="token operator">:</span>
      t1 <span class="token operator">=</span> <span class="token function">table_search</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
      t2 <span class="token operator">=</span> <span class="token function">check_exp</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">!=</span> t2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token string">&quot;type mismatch&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> t1<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> STM_PRINTI<span class="token operator">:</span>
      t <span class="token operator">=</span> <span class="token function">check_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> INT<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token string">&quot;type mismatch&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> INT<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> STM_PRINTB<span class="token operator">:</span>
      t <span class="token operator">=</span> <span class="token function">check_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> BOOL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token string">&quot;type mismatch&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> BOOL<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> <span class="token class-name">type</span> <span class="token function">check_exp</span><span class="token punctuation">(</span>exp_t e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> EXP_INT<span class="token operator">:</span>
      <span class="token keyword">return</span> INT<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_ID<span class="token operator">:</span>
      t <span class="token operator">=</span> <span class="token function">table_search</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &#x67E5;&#x8BE2;&#x7B26;&#x53F7;&#x8868;, &#x5F97;&#x5230;&#x53D8;&#x91CF;&#x7C7B;&#x578B;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">not</span> exist<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token string">&quot;id not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> t<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> EXP_TRUE<span class="token operator">:</span>
      <span class="token keyword">return</span> BOOL<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_FALSE<span class="token operator">:</span>
      <span class="token keyword">return</span> BOOL<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_ADD<span class="token operator">:</span>
      <span class="token keyword">enum</span> <span class="token class-name">type</span> t1 <span class="token operator">=</span> <span class="token function">check_exp_type</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">enum</span> <span class="token class-name">type</span> t2 <span class="token operator">=</span> <span class="token function">check_exp_type</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">!=</span> INT <span class="token operator">||</span> t2 <span class="token operator">!=</span> INT<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> INT<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> EXP_AND<span class="token operator">:</span>
      <span class="token keyword">enum</span> <span class="token class-name">type</span> t1 <span class="token operator">=</span> <span class="token function">check_exp_type</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">enum</span> <span class="token class-name">type</span> t2 <span class="token operator">=</span> <span class="token function">check_exp_type</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">!=</span> BOOL <span class="token operator">||</span> t2 <span class="token operator">!=</span> BOOL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> BOOL<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token function">SemanticError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;"><a name="&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;" class="anchor-navigation-ex-anchor" href="#&#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;"><i class="fa fa-link" aria-hidden="true"></i></a>5.4. &#x4F5C;&#x7528;&#x57DF;&#x68C0;&#x67E5;</h3>
<p>table:</p>
<ul>
<li>&#x8FDB;&#x5165;&#x4F5C;&#x7528;&#x57DF;, &#x63D2;&#x5165;&#x5143;&#x7D20;(&#x63D2;&#x5165;&#x54C8;&#x5E0C;&#x8868;&#x9996;, &#x5C4F;&#x853D;&#x5916;&#x90E8;&#x540C;&#x540D;&#x53D8;&#x91CF;); &#x79BB;&#x5F00;&#x4F5C;&#x7528;&#x57DF;, &#x5220;&#x9664;&#x5143;&#x7D20;</li>
<li>&#x8FDB;&#x5165;&#x4F5C;&#x7528;&#x57DF;, &#x538B;&#x5165;&#x65B0;&#x7B26;&#x53F7;&#x8868;; &#x79BB;&#x5F00;&#x4F5C;&#x7528;&#x57DF;, &#x5F39;&#x51FA;&#x6808;&#x9876;&#x7B26;&#x53F7;&#x8868;</li>
</ul>
<h3 id="&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;"><a name="&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>5.5. &#x7C7B;&#x578B;&#x76F8;&#x5BB9;&#x6027;</h3>
<ul>
<li>&#x540D;&#x5B57;&#x4E0D;&#x540C;&#x4F46;&#x7ED3;&#x6784;&#x76F8;&#x540C;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x5426;&#x76F8;&#x7B49;</li>
<li>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;&#x7C7B;: is-a &#x5173;&#x7CFB; Parent parent = child;</li>
</ul>
<h3 id="&#x9519;&#x8BEF;&#x8BCA;&#x65AD;"><a name="&#x9519;&#x8BEF;&#x8BCA;&#x65AD;" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;&#x8BCA;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a>5.6. &#x9519;&#x8BEF;&#x8BCA;&#x65AD;</h3>
<ul>
<li>&#x51C6;&#x786E;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;: &#x51FA;&#x9519;&#x4F4D;&#x7F6E;&#x7B49;</li>
<li>&#x5927;&#x91CF;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;</li>
<li>&#x4E00;&#x5B9A;&#x7684;&#x81EA;&#x7EA0;&#x529F;&#x80FD;</li>
</ul>
<h2 id="immediate-representationir"><a name="immediate-representationir" class="anchor-navigation-ex-anchor" href="#immediate-representationir"><i class="fa fa-link" aria-hidden="true"></i></a>6. Immediate Representation(IR)</h2>
<ul>
<li>&#x6811;&#x4E0E;&#x6709;&#x5411;&#x65E0;&#x73AF;&#x56FE;(DAG)</li>
<li>&#x4E09;&#x5730;&#x5740;&#x7801;(3-address code)</li>
<li>&#x63A7;&#x5236;&#x6D41;&#x56FE;(CFG)</li>
<li>&#x9759;&#x6001;&#x5355;&#x8D4B;&#x503C;&#x5F62;&#x5F0F;(SSA)</li>
<li>&#x8FDE;&#x7EED;&#x4F20;&#x9012;&#x98CE;&#x683C;(CPS)</li>
</ul>
<h3 id="&#x4E09;&#x5730;&#x5740;&#x7801;"><a name="&#x4E09;&#x5730;&#x5740;&#x7801;" class="anchor-navigation-ex-anchor" href="#&#x4E09;&#x5730;&#x5740;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>6.1. &#x4E09;&#x5730;&#x5740;&#x7801;</h3>
<ul>
<li>&#x539F;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x7B80;&#x5355;&#x63A7;&#x5236;&#x6D41; cjmp/jmp</li>
<li>&#x62BD;&#x8C61;&#x7684;&#x673A;&#x5668;&#x4EE3;&#x7801;(&#x4F2A;&#x4EE3;&#x7801;)</li>
</ul>
<h3 id="&#x63A7;&#x5236;&#x6D41;&#x56FE;"><a name="&#x63A7;&#x5236;&#x6D41;&#x56FE;" class="anchor-navigation-ex-anchor" href="#&#x63A7;&#x5236;&#x6D41;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a>6.2. &#x63A7;&#x5236;&#x6D41;&#x56FE;</h3>
<h4 id="block"><a name="block" class="anchor-navigation-ex-anchor" href="#block"><i class="fa fa-link" aria-hidden="true"></i></a><a name="block" class="plugin-anchor" href="#block"><i class="fa fa-link" aria-hidden="true"></i></a>Block</h4>
<ul>
<li>block_t: { label_t; stm_list; jmp_t; }</li>
<li>&#x626B;&#x63CF;&#x4E09;&#x5730;&#x5740;&#x7801;, &#x751F;&#x6210; blocks</li>
<li>&#x56FE;&#x8BBA;&#x7B97;&#x6CD5;:&#x7ED3;&#x70B9;&#x4E3A; blocks, &#x8FB9;&#x4E3A;&#x8DF3;&#x8F6C;&#x8FB9;</li>
</ul>
<p>&#x6B7B;&#x57FA;&#x672C;&#x5757;&#x5220;&#x9664;&#x4F18;&#x5316;&#xFF1A;&#x5220;&#x9664;&#x904D;&#x5386;&#x4E0D;&#x5230;&#x7684;&#x8BED;&#x53E5;&#x5757;</p>
<h4 id="&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;"><a name="&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;" class="plugin-anchor" href="#&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x4E0E;&#x7A0B;&#x5E8F;&#x91CD;&#x5199;</h4>
<ul>
<li>&#x6839;&#x636E;&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;&#x5F97;&#x5230;&#x7684;&#x4FE1;&#x606F;, &#x5BF9;&#x4E09;&#x5730;&#x5740;&#x7801;/&#x63A7;&#x5236;&#x6D41;&#x56FE;&#x8FDB;&#x884C;&#x91CD;&#x5199;</li>
<li>&#x540E;&#x7AEF;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#x90FD;&#x53EF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;</li>
</ul>
<blockquote>
<p>&#x5E38;&#x91CF;&#x4F20;&#x64AD;&#x4F18;&#x5316;: &#x5C06;&#x8D4B;&#x503C;&#x8BED;&#x53E5;&#x53F3;&#x7AEF;&#x53D8;&#x91CF;&#x76F4;&#x63A5;&#x66FF;&#x6362;&#x4E3A;&#x5E38;&#x91CF;, &#x51CF;&#x5C11;&#x8BBF;&#x5B58;</p>
</blockquote>
<h5 id="&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;"><a name="&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;" class="plugin-anchor" href="#&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x5206;&#x6790;&#x65B9;&#x6CD5;</h5>
<h6 id="&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;"><a name="&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;" class="plugin-anchor" href="#&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5230;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;</h6>
<p>&#x5206;&#x6790;&#x53D8;&#x91CF;&#x7684;&#x54EA;&#x4E9B;&#x5B9A;&#x4E49;&#x70B9;&#x53EF;&#x4EE5;&#x5230;&#x8FBE;&#x53D8;&#x91CF;&#x7684;&#x4F7F;&#x7528;&#x70B9;&#x5904;, &#x82E5;&#x53EF;&#x8FBE;&#x5B9A;&#x4E49;&#x552F;&#x4E00;&#x5219;&#x53EF;&#x8FDB;&#x884C;&#x5E38;&#x91CF;&#x4F20;&#x64AD;&#x4F18;&#x5316;:</p>
<ul>
<li>in set = prior out set</li>
<li>out set = self set + in set - kill set(&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x70B9;)</li>
</ul>
<h6 id="&#x6D3B;&#x6027;&#x5206;&#x6790;"><a name="&#x6D3B;&#x6027;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x6D3B;&#x6027;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6D3B;&#x6027;&#x5206;&#x6790;" class="plugin-anchor" href="#&#x6D3B;&#x6027;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D3B;&#x6027;&#x5206;&#x6790;</h6>
<ul>
<li>&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;&#x4F18;&#x5316; &#x6D3B;&#x8DC3;&#x533A;&#x95F4;&#x4E0D;&#x76F8;&#x4EA4;&#x7684;&#x53D8;&#x91CF;&#x53EF;&#x5171;&#x7528;&#x4E00;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;</li>
<li>&#x5E76;&#x884C;&#x4F18;&#x5316; &#x4F7F;&#x7528;&#x533A;&#x95F4;&#x5E76;&#x884C;&#x7684;&#x8BA1;&#x7B97;&#x53EF;&#x5E76;&#x884C;&#x6267;&#x884C;</li>
</ul>
<h2 id="&#x4EE3;&#x7801;&#x4F18;&#x5316;"><a name="&#x4EE3;&#x7801;&#x4F18;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x4EE3;&#x7801;&#x4F18;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>7. &#x4EE3;&#x7801;&#x4F18;&#x5316;</h2>
<h3 id="&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;"><a name="&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x7EC4;&#x7EC7;&#x7BA1;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>7.1. &#x7EC4;&#x7EC7;&#x7BA1;&#x7406;</h3>
<h4 id="activation-recordar--frame"><a name="activation-recordar--frame" class="anchor-navigation-ex-anchor" href="#activation-recordar--frame"><i class="fa fa-link" aria-hidden="true"></i></a><a name="activation-recordar--frame" class="plugin-anchor" href="#activation-recordar--frame"><i class="fa fa-link" aria-hidden="true"></i></a>Activation Record(AR) / Frame</h4>
<p>&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x8FC7;&#x7A0B;&#x6D3B;&#x6027;(procedure activation)&#x7684;&#x4FE1;&#x606F;:</p>
<ul>
<li>result: &#x7F6E;&#x4E8E;&#x8BB0;&#x5F55;&#x7684;&#x9876;&#x5C42;, &#x4FBF;&#x4E8E;&#x8BBF;&#x95EE;&#x6B64;&#x7ED3;&#x679C;</li>
<li>argument</li>
<li>return address</li>
<li>control link: &#x6307;&#x5411;&#x8C03;&#x7528;&#x8005;(&#x4E0A;&#x7EA7;)</li>
</ul>
<h4 id="&#x5168;&#x5C40;&#x53D8;&#x91CF;"><a name="&#x5168;&#x5C40;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5168;&#x5C40;&#x53D8;&#x91CF;" class="plugin-anchor" href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5168;&#x5C40;&#x53D8;&#x91CF;</h4>
<p>&#x4E0D;&#x5B58;&#x4E8E; AR &#x4E2D;, &#x5B58;&#x4E8E;&#x9759;&#x6001;&#x6570;&#x636E;&#x6BB5;</p>
<h4 id="&#x5806;&#x533A;"><a name="&#x5806;&#x533A;" class="anchor-navigation-ex-anchor" href="#&#x5806;&#x533A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5806;&#x533A;" class="plugin-anchor" href="#&#x5806;&#x533A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5806;&#x533A;</h4>
<p>new/malloc &#x5F97;&#x5230;&#x7684;&#x53D8;&#x91CF;/&#x5BF9;&#x8C61;&#x4E0D;&#x5B58;&#x4E8E; AR &#x4E2D;, &#x5B58;&#x4E8E;&#x5806;&#x533A;</p>
<h3 id="&#x4F18;&#x5316;&#x7C7B;&#x578B;"><a name="&#x4F18;&#x5316;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>7.2. &#x4F18;&#x5316;&#x7C7B;&#x578B;</h3>
<ul>
<li>Local optimizations</li>
<li>Global optimizations</li>
<li>Inter-procedural optimizations</li>
</ul>
<h3 id="&#x5C40;&#x90E8;&#x4F18;&#x5316;"><a name="&#x5C40;&#x90E8;&#x4F18;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x5C40;&#x90E8;&#x4F18;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>7.3. &#x5C40;&#x90E8;&#x4F18;&#x5316;</h3>
<ul>
<li>&#x5E38;&#x91CF;&#x6298;&#x53E0;&#x4F18;&#x5316;: &#x6240;&#x6709;&#x4EE3;&#x5165;&#x5E38;&#x91CF;&#x7684;&#x5730;&#x65B9;&#x5168;&#x90E8;&#x4EE3;&#x5165;&#x5E38;&#x91CF; <code>1 + 2 =&gt; 3</code></li>
<li>&#x4EE3;&#x6570;&#x5316;&#x7B80;&#x4F18;&#x5316;: <code>a=1*b =&gt; a=b</code> <code>2*a=&gt;a&lt;&lt;1</code> (all tips from csapp)</li>
<li>&#x590D;&#x5236;&#x4F20;&#x64AD;(copy propagation)&#x4F18;&#x5316;: &#x5229;&#x7528;&#x524D;&#x9762;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#x7684;&#x7ED3;&#x679C;, &#x76F4;&#x63A5;&#x66FF;&#x6362;&#x540E;&#x9762;&#x6240;&#x6709;&#x51FA;&#x73B0;&#x5728;&#x53F3;&#x8FB9;&#x7684;&#x5DF2;&#x8BA1;&#x7B97;&#x5DE6;&#x5F0F;(&#x5BC4;&#x5B58;&#x5668;)</li>
</ul>
<h3 id="&#x5168;&#x5C40;&#x4F18;&#x5316;"><a name="&#x5168;&#x5C40;&#x4F18;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x5168;&#x5C40;&#x4F18;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>7.4. &#x5168;&#x5C40;&#x4F18;&#x5316;</h3>
<h4 id="dead-code-elimination"><a name="dead-code-elimination" class="anchor-navigation-ex-anchor" href="#dead-code-elimination"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dead-code-elimination" class="plugin-anchor" href="#dead-code-elimination"><i class="fa fa-link" aria-hidden="true"></i></a>Dead Code Elimination</h4>
<ul>
<li>CFG &#x4E2D;(&#x63A7;&#x5236;&#x6D41;&#x5206;&#x6790;) &#x6B7B;&#x4EE3;&#x7801;&#x5757;&#x5220;&#x9664;&#x4F18;&#x5316;</li>
</ul>
<h4 id="constant-propagation"><a name="constant-propagation" class="anchor-navigation-ex-anchor" href="#constant-propagation"><i class="fa fa-link" aria-hidden="true"></i></a><a name="constant-propagation" class="plugin-anchor" href="#constant-propagation"><i class="fa fa-link" aria-hidden="true"></i></a>Constant Propagation</h4>
<p>CFG &#x4E2D;(&#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;-&#x53EF;&#x8FBE;&#x5B9A;&#x4E49;&#x5206;&#x6790;) &#x5E38;&#x91CF;&#x4F20;&#x64AD;(constant propagation)&#x4F18;&#x5316;:</p>
<ul>
<li><strong>forwards analysis</strong></li>
<li>C(stm, x, in) = value of x before stm ; C(stm, x, out) = value of x after stm</li>
<li>bottom &lt; c &lt; top =&gt; C(stm, x, in) = least_upper_bound{ C(prev_stmi, x, out) }:<ul>
<li>C(prev_stm, x, out) = top(nondeterministic) =&gt; C(stm, x, in) = top</li>
<li>C(prev_stm1, x, out) != C(prev_stm2, x, out) =&gt; C(stm, x, in) = top</li>
<li>C(prev_stami, x, out) = c/bottom(dead code) =&gt; C(stm, x, in) = c</li>
</ul>
</li>
<li>C(stm, x, in) = bottom =&gt; C(stm, x, out) = bottom</li>
<li>C(x := c, x, out) = c</li>
<li>C(x := f(), x, out) = top</li>
<li>init: set entry to C = top, set anywhere else to C = bottom</li>
</ul>
<h4 id="liveness-analysis"><a name="liveness-analysis" class="anchor-navigation-ex-anchor" href="#liveness-analysis"><i class="fa fa-link" aria-hidden="true"></i></a><a name="liveness-analysis" class="plugin-anchor" href="#liveness-analysis"><i class="fa fa-link" aria-hidden="true"></i></a>Liveness Analysis</h4>
<p>CFG &#x4E2D; &#x6570;&#x636E;&#x6D41;&#x5206;&#x6790;-&#x6D3B;&#x6027;&#x5206;&#x6790;(liveness analysis), &#x53EF;&#x7528;&#x4E8E;&#x590D;&#x5236;&#x4F20;&#x64AD;&#x4F18;&#x5316;&#x4E0E;&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;&#x4F18;&#x5316;:</p>
<ul>
<li>backwards analysis</li>
<li>L(stm, x, out) = V { L(next_stm, x, in)}</li>
<li>L(... := f(x), x, in) = true</li>
<li>L(x := e, x, in) = false</li>
<li>L(none x, x, in) = L(none x, x, out)</li>
<li>init: L(...) = false</li>
</ul>
<h4 id="&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;register-allocationgraph-coloring"><a name="&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;register-allocationgraph-coloring" class="anchor-navigation-ex-anchor" href="#&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;register-allocationgraph-coloring"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;register-allocationgraph-coloring" class="plugin-anchor" href="#&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;register-allocationgraph-coloring"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BC4;&#x5B58;&#x5668;&#x5206;&#x914D;(Register Allocation/Graph Coloring)</h4>
<ul>
<li>&#x5F53; t1 &#x4E0E; t2 &#x540C;&#x65F6;&#x5177;&#x6709;&#x6D3B;&#x6027;&#x65F6;, &#x4E0D;&#x53EF;&#x5171;&#x4EAB;&#x5BC4;&#x5B58;&#x5668;; &#x53CD;&#x4E4B;, t1 &#x4E0E; t2 &#x4E0D;&#x540C;&#x65F6;&#x5177;&#x6709;&#x6D3B;&#x6027;, &#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x5BC4;&#x5B58;&#x5668;</li>
<li>&#x5F53; t1 &#x4E0E; t2 &#x540C;&#x65F6;&#x5177;&#x6709;&#x6D3B;&#x6027;&#x65F6;, &#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x8FB9;&#x8FDE;&#x63A5; t1 &#x4E0E; t2, &#x6784;&#x5EFA; register interference graph(RIG)</li>
<li>colors number = registers number, k-colorable problem</li>
</ul>
<h2 id="code-generation&#x4EE3;&#x7801;&#x751F;&#x6210;"><a name="code-generation&#x4EE3;&#x7801;&#x751F;&#x6210;" class="anchor-navigation-ex-anchor" href="#code-generation&#x4EE3;&#x7801;&#x751F;&#x6210;"><i class="fa fa-link" aria-hidden="true"></i></a>8. Code Generation(&#x4EE3;&#x7801;&#x751F;&#x6210;)</h2>
<p>&#x4E3A;&#x6570;&#x636E;&#x5206;&#x914D;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;:</p>
<ul>
<li>&#x6570;&#x636E;: &#x5168;&#x5C40;&#x53D8;&#x91CF;, &#x5C40;&#x90E8;&#x53D8;&#x91CF;, &#x52A8;&#x6001;&#x5206;&#x914D;&#x53D8;&#x91CF;</li>
<li>&#x8D44;&#x6E90;: &#x5BC4;&#x5B58;&#x5668;(register), &#x6570;&#x636E;&#x533A;(.data, .bss), &#x4EE3;&#x7801;&#x533A;(.code), &#x6808;&#x533A;(runtime stack), &#x5806;&#x533A;(user heap)</li>
</ul>
<blockquote>
<p>&#x5F53;&#x524D;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x5E94;&#x8BE5;&#x653E;&#x5728;&#x5BC4;&#x5B58;&#x5668;&#x8FD8;&#x662F;&#x5185;&#x5B58;&#x533A;?</p>
</blockquote>
<p>&#x4E3A;&#x4EE3;&#x7801;&#x9009;&#x62E9;&#x8BA1;&#x7B97;&#x6307;&#x4EE4;(&#x7B49;&#x4EF7;&#x6027;):</p>
<ul>
<li>&#x4EE3;&#x7801;: &#x8868;&#x8FBE;&#x5F0F;/&#x8BED;&#x53E5;/&#x51FD;&#x6570;&#x4EE3;&#x7801;</li>
<li>&#x6307;&#x4EE4;: &#x7B97;&#x672F;/&#x6BD4;&#x8F83;/&#x8DF3;&#x8F6C;/&#x8C03;&#x7528;/&#x8FD4;&#x56DE;&#x6307;&#x4EE4;</li>
</ul>
<pre class="language-"><code class="lang-c">P<span class="token operator">:</span> D S
 <span class="token punctuation">;</span>

D<span class="token operator">:</span> T id <span class="token string">&apos;;&apos;</span> D
 <span class="token operator">|</span>
 <span class="token punctuation">;</span>

T<span class="token operator">:</span> <span class="token keyword">int</span>
 <span class="token operator">|</span> bool
 <span class="token punctuation">;</span>

S<span class="token operator">:</span> id <span class="token operator">=</span> E
 <span class="token operator">|</span> <span class="token function">printi</span> <span class="token punctuation">(</span>E<span class="token punctuation">)</span>
 <span class="token operator">|</span> <span class="token function">printb</span> <span class="token punctuation">(</span>E<span class="token punctuation">)</span>
 <span class="token punctuation">;</span>

E<span class="token operator">:</span> n
 <span class="token operator">|</span> id
 <span class="token operator">|</span> true
 <span class="token operator">|</span> false
 <span class="token operator">|</span> E <span class="token operator">+</span> E
 <span class="token operator">|</span> E <span class="token operator">&amp;&amp;</span> E
 <span class="token punctuation">;</span>
</code></pre>
<h3 id="&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;"><a name="&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>8.1. &#x9012;&#x5F52;&#x4E0B;&#x964D;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7B97;&#x6CD5;</h3>
<h4 id="&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;"><a name="&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;" class="plugin-anchor" href="#&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x4E8E;&#x6808;&#x8BA1;&#x7B97;&#x673A;</h4>
<p>Mem + Stack + ALU</p>
<blockquote>
<p>JVM(Java Virtual Machine)</p>
</blockquote>
<pre class="language-"><code class="lang-c">s<span class="token operator">:</span> push NUM
 <span class="token operator">|</span> load x
 <span class="token operator">|</span> store x
 <span class="token operator">|</span> add
 <span class="token operator">|</span> sub
 <span class="token operator">|</span> times
 <span class="token operator">|</span> div
 <span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token function">gen_prog</span><span class="token punctuation">(</span>dec_t d<span class="token punctuation">,</span> stm_t s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">gen_dec</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">gen_stm</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">gen_dec</span><span class="token punctuation">(</span>T id<span class="token punctuation">;</span> D<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// stack_code(&quot;.int id&quot;)</span>
  <span class="token function">gen_type</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot; id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">gen_dec</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">gen_type</span><span class="token punctuation">(</span>type_t t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>t<span class="token operator">-</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> INT<span class="token operator">:</span><span class="token comment">// fall through</span>
    <span class="token keyword">case</span> BOOL<span class="token operator">:</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;.int&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">gen_stm</span><span class="token punctuation">(</span>stm_t s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    STM_ASSIGN<span class="token operator">:</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;store s-&gt;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    STM_PRINTI<span class="token operator">:</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;printi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    STM_PRINTB<span class="token operator">:</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;printb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">gen_exp</span><span class="token punctuation">(</span>exp_t e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> EXP_INT<span class="token operator">:</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;push e-&gt;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// n</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_ID<span class="token operator">:</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;load e-&gt;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// id</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_BOOL<span class="token operator">:</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;push e-&gt;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1/0</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_ADD<span class="token operator">:</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_AND<span class="token operator">:</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;and&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A;-risc"><a name="&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A;-risc" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A;-risc"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A;-risc" class="plugin-anchor" href="#&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A;-risc"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x4E8E;&#x5BC4;&#x5B58;&#x5668;&#x8BA1;&#x7B97;&#x673A; (RISC)</h4>
<p>Mem + Reg + ALU</p>
<blockquote>
<p>MIPS ISA</p>
</blockquote>
<pre class="language-"><code class="lang-c"><span class="token comment">// src -&gt; dist</span>
s<span class="token operator">:</span> movn n<span class="token punctuation">,</span> r
 <span class="token operator">|</span> mov r1<span class="token punctuation">,</span> r2
 <span class="token operator">|</span> load <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> r
 <span class="token operator">|</span> store r<span class="token punctuation">,</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span>
 <span class="token operator">|</span> add r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> r3
 <span class="token operator">|</span> sub r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> r3
 <span class="token operator">|</span> times r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> r3
 <span class="token operator">|</span> div r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> r3
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token keyword">void</span> <span class="token function">gen_prog</span><span class="token punctuation">(</span>dec_t d<span class="token punctuation">,</span> stm_t s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">gen_dec</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">gen_stm</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">gen_dec</span><span class="token punctuation">(</span>T id<span class="token punctuation">;</span> D<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// reg_code(&quot;.int id&quot;)</span>
  <span class="token comment">// &#x4E3A;&#x53D8;&#x91CF;&#x5206;&#x914D;&#x5BC4;&#x5B58;&#x5668;</span>
  <span class="token function">gen_type</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot; id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">gen_dec</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">gen_type</span><span class="token punctuation">(</span>type_t t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>t<span class="token operator">-</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> INT<span class="token operator">:</span><span class="token comment">// fall through</span>
    <span class="token keyword">case</span> BOOL<span class="token operator">:</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;.int&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">gen_stm</span><span class="token punctuation">(</span>stm_t s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    STM_ASSIGN<span class="token operator">:</span>
      r <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;mov r, e-&gt;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    STM_PRINTI<span class="token operator">:</span>
      r <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;printi r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    STM_PRINTB<span class="token operator">:</span>
      r <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;printb r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

reg_t <span class="token function">gen_exp</span><span class="token punctuation">(</span>exp_t e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> EXP_INT<span class="token operator">:</span>
      r <span class="token operator">=</span> <span class="token function">random_reg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;movn e-&gt;value, r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// n</span>
      <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_ID<span class="token operator">:</span>
      r <span class="token operator">=</span> <span class="token function">random_reg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;mov e-&gt;value, r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// id</span>
      <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_BOOL<span class="token operator">:</span>
      r <span class="token operator">=</span> <span class="token function">random_reg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;movn e-&gt;value, r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1/0</span>
      <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_ADD<span class="token operator">:</span>
      r1 <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      r2 <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      r <span class="token operator">=</span> <span class="token function">random_reg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;add r1, r2, r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token keyword">case</span> EXP_AND<span class="token operator">:</span>
      r1 <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      r2 <span class="token operator">=</span> <span class="token function">gen_exp</span><span class="token punctuation">(</span>e<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      r <span class="token operator">=</span> <span class="token function">random_reg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;and r1, r2, r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> r<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="garbage-collection"><a name="garbage-collection" class="anchor-navigation-ex-anchor" href="#garbage-collection"><i class="fa fa-link" aria-hidden="true"></i></a>9. Garbage Collection</h2>
<h3 id="mark-and-sweep"><a name="mark-and-sweep" class="anchor-navigation-ex-anchor" href="#mark-and-sweep"><i class="fa fa-link" aria-hidden="true"></i></a>9.1. Mark and Sweep</h3>
<ul>
<li>mark phase: traces reachable objects (mark_bit |= 1)</li>
</ul>
<pre class="language-"><code class="lang-haskell"><span class="token keyword">let</span> <span class="token hvariable">todo</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token builtin">all</span> <span class="token hvariable">roots</span><span class="token punctuation">}</span>
<span class="token hvariable">while</span> <span class="token hvariable">todo</span> <span class="token operator">!=</span> <span class="token hvariable">nil</span> <span class="token keyword">do</span>
    <span class="token hvariable">pick</span> <span class="token hvariable">v</span> <span class="token operator">&lt;-</span> <span class="token hvariable">todo</span>
    <span class="token hvariable">todo</span> <span class="token operator">-=</span> <span class="token punctuation">{</span><span class="token hvariable">v</span><span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token hvariable">mark</span><span class="token punctuation">(</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">then</span>
        <span class="token hvariable">mark</span><span class="token punctuation">(</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token operator">|=</span> <span class="token number">1</span>
        <span class="token keyword">let</span> <span class="token hvariable">v1</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token hvariable">vn</span> <span class="token hvariable">be</span> <span class="token hvariable">the</span> <span class="token hvariable">pointers</span> <span class="token hvariable">contained</span> <span class="token keyword">in</span> <span class="token hvariable">v</span>
        <span class="token hvariable">todo</span> <span class="token operator">+=</span> <span class="token punctuation">{</span><span class="token hvariable">v1</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token hvariable">vn</span><span class="token punctuation">}</span>
    <span class="token hvariable">fi</span>
<span class="token hvariable">od</span>
</code></pre>
<ul>
<li>sweep phase: collects garbage objects (mark_bit == 0)</li>
</ul>
<pre class="language-"><code class="lang-haskell"><span class="token hvariable">p</span> <span class="token operator">=</span> <span class="token hvariable">bottom</span> <span class="token keyword">of</span> <span class="token hvariable">heap</span>
<span class="token hvariable">while</span> <span class="token hvariable">p</span> <span class="token operator">&lt;</span> <span class="token hvariable">top</span> <span class="token keyword">of</span> <span class="token hvariable">heap</span> <span class="token keyword">do</span>
    <span class="token keyword">if</span> <span class="token hvariable">mark</span><span class="token punctuation">(</span><span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">then</span>
        <span class="token hvariable">mark</span><span class="token punctuation">(</span><span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">else</span>
        <span class="token hvariable">add</span> <span class="token hvariable">block</span> <span class="token hvariable">p</span><span class="token operator">...</span><span class="token punctuation">(</span><span class="token hvariable">p</span> <span class="token operator">+</span> <span class="token hvariable">sizeof</span><span class="token punctuation">(</span><span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token hvariable">to</span> <span class="token hvariable">freelist</span>
    <span class="token hvariable">fi</span>
    <span class="token hvariable">p</span> <span class="token operator">+=</span> <span class="token hvariable">sizeof</span><span class="token punctuation">(</span><span class="token hvariable">p</span><span class="token punctuation">)</span>
<span class="token hvariable">od</span>
</code></pre>
<h3 id="stop-and-copy"><a name="stop-and-copy" class="anchor-navigation-ex-anchor" href="#stop-and-copy"><i class="fa fa-link" aria-hidden="true"></i></a>9.2. Stop and Copy</h3>
<p>copy all reachable objects in old space to new space(reserved for GC):</p>
<ul>
<li>copied objects</li>
<li>scaned objects: pointers have been restored</li>
</ul>
<h2 id="compilers-exercise"><a name="compilers-exercise" class="anchor-navigation-ex-anchor" href="#compilers-exercise"><i class="fa fa-link" aria-hidden="true"></i></a>10. Compilers Exercise</h2>
<h3 id="c-declaration-interpreter"><a name="c-declaration-interpreter" class="anchor-navigation-ex-anchor" href="#c-declaration-interpreter"><i class="fa fa-link" aria-hidden="true"></i></a>10.1. C Declaration Interpreter</h3>
<pre class="language-"><code class="lang-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctype.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXTOKENS</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXTOKENLEN</span> <span class="token expression"><span class="token number">64</span></span></span>

<span class="token keyword">enum</span> <span class="token class-name">type_tag</span> <span class="token punctuation">{</span>
    IDENTIFIER<span class="token punctuation">,</span>
    QUALIFIER<span class="token punctuation">,</span>
    TYPE<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">token</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> type<span class="token punctuation">;</span>
    <span class="token keyword">char</span> string<span class="token punctuation">[</span>MAXTOKENLEN<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">token</span> stack<span class="token punctuation">[</span>MAXTOKENS<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">token</span> ts<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">pop</span> <span class="token expression">stack<span class="token punctuation">[</span>top<span class="token operator">--</span><span class="token punctuation">]</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">push</span><span class="token expression"><span class="token punctuation">(</span>s<span class="token punctuation">)</span> stack<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> s</span></span>

<span class="token keyword">enum</span> <span class="token class-name">type_tag</span> <span class="token function">classify_string</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>s <span class="token operator">=</span> ts<span class="token punctuation">.</span>string<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;const&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;read-only &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> QUALIFIER<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;volatile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> QUALIFIER<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;void&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;char&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;signed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;unsigned&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;short&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;int&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;long&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;float&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;struct&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;union&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;enum&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> TYPE<span class="token punctuation">;</span>

    <span class="token keyword">return</span> IDENTIFIER<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> ts<span class="token punctuation">.</span>string<span class="token punctuation">;</span>

    <span class="token comment">/* &#x7565;&#x8FC7;&#x7A7A;&#x767D;&#x5B57;&#x7B26; */</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&apos; &apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isalnum</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/* &#x8BFB;&#x5165;&#x5F97;&#x6807;&#x8BC6;&#x7B26;&#x4EE5;&#xFF41;&#xFF0D;&#xFF3A;&#xFF0C;&#xFF10;&#xFF0D;&#xFF19;&#x5F00;&#x5934; */</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isalnum</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token operator">++</span>p <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ungetc</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token string">&apos;\0&apos;</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token function">classify_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">==</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>ts<span class="token punctuation">.</span>string<span class="token punctuation">,</span> <span class="token string">&quot;pointer to&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    ts<span class="token punctuation">.</span>string<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;\0&apos;</span><span class="token punctuation">;</span>
    ts<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">read_to_first_identifer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// read til identifier</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ts<span class="token punctuation">.</span>type <span class="token operator">!=</span> IDENTIFIER<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">push</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s is &quot;</span><span class="token punctuation">,</span> ts<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">deal_with_arrays</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ts<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&apos;[&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;array &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* &#x6570;&#x5B57;&#x6216;&apos;]&apos; */</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isdigit</span><span class="token punctuation">(</span>ts<span class="token punctuation">.</span>string<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;0..%d &quot;</span><span class="token punctuation">,</span> <span class="token function">atoi</span><span class="token punctuation">(</span>ts<span class="token punctuation">.</span>string<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;of &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">deal_with_pointers</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s &quot;</span><span class="token punctuation">,</span> pop<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">deal_with_function_args</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ts<span class="token punctuation">.</span>type <span class="token operator">!=</span> <span class="token string">&apos;)&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;function returning &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">deal_with_declarator</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* &#x5904;&#x7406;&#x6807;&#x8BC6;&#x7B26;&#x4E4B;&#x540E;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x7684;&#x6570;&#x7EC4;/&#x51FD;&#x6570; */</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>ts<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&apos;[&apos;</span><span class="token operator">:</span>
          <span class="token function">deal_with_arrays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&apos;(&apos;</span><span class="token operator">:</span>
          <span class="token function">deal_with_function_args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">deal_with_pointers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* &#x5904;&#x7406;&#x5728;&#x8BFB;&#x5165;&#x5230;&#x6807;&#x8BC6;&#x7B26;&#x4E4B;&#x524D;&#x538B;&#x5165;&#x5230;&#x5806;&#x6808;&#x4E2D;&#x7684;&#x7B26;&#x53F7; */</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>top <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&apos;(&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            pop<span class="token punctuation">;</span>
            <span class="token function">gettoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//&#x8BFB;&#x53D6;&apos;)&apos;&#x4E4B;&#x540E;&#x7684;&#x7B26;&#x53F7;</span>
            <span class="token function">deal_with_declarator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> pop<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* &#x5C06;&#x6807;&#x8BB0;&#x538B;&#x5165;&#x5806;&#x6808;&#x4E2D;, &#x76F4;&#x5230;&#x9047;&#x89C1;&#x6807;&#x8BC6;&#x7B26; */</span>
    <span class="token function">read_to_first_identifer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">deal_with_declarator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="coolclassrom-object-oriented-language"><a name="coolclassrom-object-oriented-language" class="anchor-navigation-ex-anchor" href="#coolclassrom-object-oriented-language"><i class="fa fa-link" aria-hidden="true"></i></a>10.2. Cool(Classrom Object-Oriented Language)</h3>
<ul>
<li><a href="http://web.stanford.edu/class/cs143/materials/cool-manual.pdf" target="_blank">Awesome Reference</a></li>
</ul>
<h3 id="parser-implemention"><a name="parser-implemention" class="anchor-navigation-ex-anchor" href="#parser-implemention"><i class="fa fa-link" aria-hidden="true"></i></a>10.3. Parser Implemention</h3>
<pre class="language-"><code class="lang-cpp"><span class="token comment">// &#x8FD4;&#x56DE;&#x4E0B;&#x4E00;&#x4E2A;Token(&#x53EA;&#x6D4B;&#x8BD5;&#x8BE5;Token&#xFF0C;&#x4E0D;&#x5411;&#x524D;&#x79FB;&#x52A8;Token List&#x7684;offset&#x6307;&#x9488;)</span>
Token <span class="token function">Peek</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token comment">// &#x6D88;&#x8D39;&#x4E0B;&#x4E00;&#x4E2A;Token</span>
Token <span class="token function">Next</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token comment">// void Expect(expectedToken)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> expectedToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&quot;expect %s, but got %s\n&quot;</span><span class="token punctuation">,</span> expectedToken<span class="token punctuation">,</span> <span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-cpp"><span class="token comment">// void Try(expectedToken)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expectedToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x6D88;&#x8D39;&#x4E4B;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre>
<footer class="page-footer"><span class="copyright">&#xA9; <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/sabertazimi/awesome-notes" property="cc:attributionName" rel="cc:attributionURL" target="_blank">sabertazimi</a> &#xB7; &#x9075;&#x5FAA; <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">&#x77E5;&#x8BC6;&#x5171;&#x4EAB; &#x7F72;&#x540D;-&#x975E;&#x5546;&#x4E1A;&#x6027;&#x4F7F;&#x7528; 4.0 &#x56FD;&#x9645; &#x8BB8;&#x53EF;&#x534F;&#x8BAE;</a> all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6700;&#x8FD1;&#x66F4;&#x65B0;&#xFF1A;
2021-07-15 21:57
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Compilers Basic Notes","level":"1.2.3.1","depth":3,"next":{"title":"Data Base","level":"1.2.4","depth":2,"ref":"","articles":[{"title":"Database Basic Notes","level":"1.2.4.1","depth":3,"path":"computerScience/dataBase/databaseBasicNotes.md","ref":"computerScience/dataBase/databaseBasicNotes.md","articles":[]}]},"previous":{"title":"Compilers","level":"1.2.3","depth":2,"ref":"","articles":[{"title":"Compilers Basic Notes","level":"1.2.3.1","depth":3,"path":"computerScience/compilers/compilersBasicNotes.md","ref":"computerScience/compilers/compilersBasicNotes.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-plus","splitter","anchors","anchor-navigation-ex","copy-code-button","expandable-chapters","theme-darkblue","theme-comscore","tbfed-pagefooter","prism","-highlight","github-buttons","edit-link","disqus","introsum"],"ignores":[".*","build","_book","gitbook","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"&copy <a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"https://github.com/sabertazimi/awesome-notes\" property=\"cc:attributionName\" rel=\"cc:attributionURL\">sabertazimi</a> Â· éµå¾ª <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">ç¥è¯å±äº« ç½²å-éåä¸æ§ä½¿ç¨ 4.0 å½é è®¸å¯åè®®</a>","modify_label":"æè¿æ´æ°ï¼","modify_format":"YYYY-MM-DD HH:mm"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"disqus":{"useIdentifier":false,"shortName":"gitbook-8"},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-darkblue":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"theme-comscore":{},"github-buttons":{"buttons":[{"user":"sabertazimi","repo":"awesome-notes","type":"star","size":"small","count":true}]},"copy-code-button":{},"sharing":{"facebook":false,"twitter":true,"google":false,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/sabertazimi/awesome-notes/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"introsum":{},"expandable-chapters":{},"search-plus":{}},"theme":"default","author":"sabertazimi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Awesome Notes","links":{"sidebar":{"Awesome Notes":"https://github.com/sabertazimi/awesome-notes"}},"gitbook":"*"},"file":{"path":"computerScience/compilers/compilersBasicNotes.md","mtime":"2021-07-15T21:57:06.348Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-15T21:58:50.568Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

